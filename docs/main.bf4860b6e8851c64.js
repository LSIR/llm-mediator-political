(self.webpackChunkllm_recs_webclient=self.webpackChunkllm_recs_webclient||[]).push([[179],{906:(es,Oo,gn)=>{"use strict";var Un={};function O(i,t){return Object.is(i,t)}gn.r(Un),gn.d(Un,{VERSION:()=>X5,after:()=>vse,all:()=>JH,allKeys:()=>dv,any:()=>YH,assign:()=>PC,before:()=>HH,bind:()=>BH,bindAll:()=>hse,chain:()=>use,chunk:()=>$se,clone:()=>Koe,collect:()=>Kh,compact:()=>Bse,compose:()=>bse,constant:()=>pH,contains:()=>zc,countBy:()=>Ose,create:()=>qoe,debounce:()=>gse,default:()=>Gse,defaults:()=>AH,defer:()=>mse,delay:()=>VH,detect:()=>cI,difference:()=>n8,drop:()=>LC,each:()=>Hc,escape:()=>ese,every:()=>JH,extend:()=>MH,extendOwn:()=>PC,filter:()=>Rp,find:()=>cI,findIndex:()=>lI,findKey:()=>zH,findLastIndex:()=>WH,findWhere:()=>xse,first:()=>hI,flatten:()=>i8,foldl:()=>dI,foldr:()=>KH,forEach:()=>Hc,functions:()=>ZT,get:()=>OH,groupBy:()=>Tse,has:()=>Yoe,head:()=>hI,identity:()=>tI,include:()=>zc,includes:()=>zc,indexBy:()=>Ise,indexOf:()=>GH,initial:()=>t8,inject:()=>dI,intersection:()=>zse,invert:()=>SH,invoke:()=>Dse,isArguments:()=>qT,isArray:()=>$h,isArrayBuffer:()=>dH,isBoolean:()=>aH,isDataView:()=>OC,isDate:()=>Soe,isElement:()=>Eoe,isEmpty:()=>Boe,isEqual:()=>su,isError:()=>Aoe,isFinite:()=>Roe,isFunction:()=>Eo,isMap:()=>zoe,isMatch:()=>yH,isNaN:()=>mH,isNull:()=>koe,isNumber:()=>lH,isObject:()=>jh,isRegExp:()=>Moe,isSet:()=>Woe,isString:()=>jT,isSymbol:()=>cH,isTypedArray:()=>bH,isUndefined:()=>sH,isWeakMap:()=>Uoe,isWeakSet:()=>joe,iteratee:()=>nI,keys:()=>gr,last:()=>Lse,lastIndexOf:()=>wse,map:()=>Kh,mapObject:()=>Xoe,matcher:()=>hv,matches:()=>hv,max:()=>XH,memoize:()=>fse,methods:()=>ZT,min:()=>Ese,mixin:()=>r8,negate:()=>aI,noop:()=>PH,now:()=>mv,object:()=>Wse,omit:()=>Nse,once:()=>yse,pairs:()=>$oe,partial:()=>FC,partition:()=>Rse,pick:()=>e8,pluck:()=>uI,property:()=>iI,propertyOf:()=>Zoe,random:()=>rI,range:()=>jse,reduce:()=>dI,reduceRight:()=>KH,reject:()=>Cse,rest:()=>LC,restArguments:()=>Ko,result:()=>cse,sample:()=>QH,select:()=>Rp,shuffle:()=>Mse,size:()=>Pse,some:()=>YH,sortBy:()=>Ase,sortedIndex:()=>jH,tail:()=>LC,take:()=>hI,tap:()=>Joe,template:()=>lse,templateSettings:()=>nse,throttle:()=>pse,times:()=>Qoe,toArray:()=>ZH,toPath:()=>IH,transpose:()=>mI,unescape:()=>ise,union:()=>Hse,uniq:()=>fI,unique:()=>fI,uniqueId:()=>Gh,unzip:()=>mI,values:()=>Op,where:()=>kse,without:()=>Vse,wrap:()=>_se,zip:()=>Use});let hi=null,Ns=!1,Yl=1;const Pi=Symbol("SIGNAL");function gi(i){const t=hi;return hi=i,t}const co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ad(i){if(Ns)throw new Error("");if(null===hi)return;hi.consumerOnSignalRead(i);const t=hi.nextProducerIndex++;Vs(hi),t<hi.producerNode.length&&hi.producerNode[t]!==i&&ho(hi)&&jr(hi.producerNode[t],hi.producerIndexOfThis[t]),hi.producerNode[t]!==i&&(hi.producerNode[t]=i,hi.producerIndexOfThis[t]=ho(hi)?_a(i,hi,t):0),hi.producerLastReadVersion[t]=i.version}function ga(i){if((!ho(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==Yl)){if(!i.producerMustRecompute(i)&&!Bs(i))return i.dirty=!1,void(i.lastCleanEpoch=Yl);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Yl}}function Xl(i){if(void 0===i.liveConsumerNode)return;const t=Ns;Ns=!0;try{for(const e of i.liveConsumerNode)e.dirty||Ls(e)}finally{Ns=t}}function ln(){return!1!==hi?.consumerAllowSignalWrites}function Ls(i){i.dirty=!0,Xl(i),i.consumerMarkedDirty?.(i)}function Zl(i){return i&&(i.nextProducerIndex=0),gi(i)}function Wr(i,t){if(gi(t),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(ho(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)jr(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Bs(i){Vs(i);for(let t=0;t<i.producerNode.length;t++){const e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(ga(e),n!==e.version))return!0}return!1}function uo(i){if(Vs(i),ho(i))for(let t=0;t<i.producerNode.length;t++)jr(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function _a(i,t,e){if(Mf(i),Vs(i),0===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)i.producerIndexOfThis[n]=_a(i.producerNode[n],i,n);return i.liveConsumerIndexOfThis.push(e),i.liveConsumerNode.push(t)-1}function jr(i,t){if(Mf(i),Vs(i),1===i.liveConsumerNode.length)for(let n=0;n<i.producerNode.length;n++)jr(i.producerNode[n],i.producerIndexOfThis[n]);const e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){const n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];Vs(r),r.producerIndexOfThis[n]=t}}function ho(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Vs(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function Mf(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}const Ql=Symbol("UNSET"),_n=Symbol("COMPUTING"),ts=Symbol("ERRORED"),Ig=(()=>({...co,value:Ql,dirty:!0,error:null,equal:O,producerMustRecompute:i=>i.value===Ql||i.value===_n,producerRecomputeValue(i){if(i.value===_n)throw new Error("Detected cycle in computations.");const t=i.value;i.value=_n;const e=Zl(i);let n;try{n=i.computation()}catch(r){n=ts,i.error=r}finally{Wr(i,e)}t!==Ql&&t!==ts&&n!==ts&&i.equal(t,n)?i.value=t:(i.value=n,i.version++)}}))();let is=function Og(){throw new Error};function Ro(){is()}let Ya=null;function Tf(i,t){ln()||Ro();const e=i.value;Object.is(e,t)||i.equal(e,t)||(i.value=t,function Xa(i){i.version++,function Ja(){Yl++}(),Xl(i),Ya?.()}(i))}const Zy=(()=>({...co,equal:O,value:void 0}))();const Fu=()=>{},Za=(()=>({...co,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{null!==i.schedule&&i.schedule(i.ref)},hasRun:!1,cleanupFn:Fu}))();function Tt(i){return"function"==typeof i}function Zt(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Wn=Zt(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function va(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class We{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(Tt(n))try{n()}catch(o){t=o instanceof Wn?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Hs(o)}catch(s){t=t??[],s instanceof Wn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Wn(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Hs(t);else{if(t instanceof We){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&va(e,t)}remove(t){const{_finalizers:e}=this;e&&va(e,t),t instanceof We&&t._removeParent(this)}}We.EMPTY=(()=>{const i=new We;return i.closed=!0,i})();const vr=We.EMPTY;function Zi(i){return i instanceof We||i&&"closed"in i&&Tt(i.remove)&&Tt(i.add)&&Tt(i.unsubscribe)}function Hs(i){Tt(i)?i():i.unsubscribe()}const Fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zs={setTimeout(i,t,...e){const{delegate:n}=zs;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){const{delegate:t}=zs;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function ya(i){zs.setTimeout(()=>{const{onUnhandledError:t}=Fi;if(!t)throw i;t(i)})}function ot(){}const Je=st("C",void 0,void 0);function st(i,t,e){return{kind:i,value:t,error:e}}let rs=null;function ar(i){if(Fi.useDeprecatedSynchronousErrorHandling){const t=!rs;if(t&&(rs={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=rs;if(rs=null,e)throw n}}else i()}class Qa extends We{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Zi(t)&&t.add(this)):this.destination=cd}static create(t,e,n){return new wa(t,e,n)}next(t){this.isStopped?ic(function yr(i){return st("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ic(function tc(i){return st("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ic(Je,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qt=Function.prototype.bind;function fo(i,t){return Qt.call(i,t)}class Nu{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Us(n)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Us(n)}else Us(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Us(e)}}}class wa extends Qa{constructor(t,e,n){let r;if(super(),Tt(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&Fi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&fo(t.next,o),error:t.error&&fo(t.error,o),complete:t.complete&&fo(t.complete,o)}):r=t}this.destination=new Nu(r)}}function Us(i){Fi.useDeprecatedSynchronousErrorHandling?function X(i){Fi.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=i)}(i):ya(i)}function ic(i,t){const{onStoppedNotification:e}=Fi;e&&zs.setTimeout(()=>e(i,t))}const cd={closed:!0,next:ot,error:function Pg(i){throw i},complete:ot},Yt="function"==typeof Symbol&&Symbol.observable||"@@observable";function jn(i){return i}function Of(i){return 0===i.length?jn:1===i.length?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}let zt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){const o=function Fg(i){return i&&i instanceof Qa||function Rf(i){return i&&Tt(i.next)&&Tt(i.error)&&Tt(i.complete)}(i)&&Zi(i)}(e)?e:new wa(e,n,r);return ar(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=nc(n))((r,o)=>{const s=new wa({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[Yt](){return this}pipe(...e){return Of(e)(this)}toPromise(e){return new(e=nc(e))((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function nc(i){var t;return null!==(t=i??Fi.Promise)&&void 0!==t?t:Promise}const Ng=Zt(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let de=(()=>{class i extends zt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new P(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new Ng}next(e){ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){ar(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:o}=this;return n||r?vr:(this.currentObservers=null,o.push(e),new We(()=>{this.currentObservers=null,va(o,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){const e=new zt;return e.source=this,e}}return i.create=(t,e)=>new P(t,e),i})();class P extends de{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:vr}}function q(i){return Tt(i?.lift)}function ce(i){return t=>{if(q(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(i,t,e,n,r){return new Ge(i,t,e,n,r)}class Ge extends Qa{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ue(i,t){return ce((e,n)=>{let r=0;e.subscribe(ae(n,o=>{n.next(i.call(t,o,r++))}))})}function vn(i){return this instanceof vn?(this.v=i,this):new vn(i)}function oc(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function rt(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=i[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=i[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Nf=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Lf(i){return Tt(i?.then)}function o0(i){return Tt(i[Yt])}function Hg(i){return Symbol.asyncIterator&&Tt(i?.[Symbol.asyncIterator])}function Bf(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sc=function zg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ug(i){return Tt(i?.[sc])}function Wg(i){return function ss(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(i,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(p){n[p]&&(r[p]=function(g){return new Promise(function(b,v){o.push([p,g,b,v])>1||a(p,g)})})}function a(p,g){try{!function l(p){p.value instanceof vn?Promise.resolve(p.value.v).then(c,u):f(o[0][2],p)}(n[p](g))}catch(b){f(o[0][3],b)}}function c(p){a("next",p)}function u(p){a("throw",p)}function f(p,g){p(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:r}=yield vn(e.read());if(r)return yield vn(void 0);yield yield vn(n)}}finally{e.releaseLock()}})}function s0(i){return Tt(i?.getReader)}function Gn(i){if(i instanceof zt)return i;if(null!=i){if(o0(i))return function a0(i){return new zt(t=>{const e=i[Yt]();if(Tt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Nf(i))return function l0(i){return new zt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(Lf(i))return function c0(i){return new zt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ya)})}(i);if(Hg(i))return d0(i);if(Ug(i))return function Xk(i){return new zt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(s0(i))return function Zk(i){return d0(Wg(i))}(i)}throw Bf(i)}function d0(i){return new zt(t=>{(function u0(i,t){var e,n,r,o;return function Pf(i,t,e,n){return new(e||(e=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(f){s(f)}}function l(u){try{c(n.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((n=n.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=oc(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Da(i,t,e,n=0,r=!1){const o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function Mn(i,t,e=1/0){return Tt(t)?Mn((n,r)=>ue((o,s)=>t(n,o,r,s))(Gn(i(n,r))),e):("number"==typeof t&&(e=t),ce((n,r)=>function Qk(i,t,e,n,r,o,s,a){const l=[];let c=0,u=0,f=!1;const p=()=>{f&&!l.length&&!c&&t.complete()},g=v=>c<n?b(v):l.push(v),b=v=>{o&&t.next(v),c++;let D=!1;Gn(e(v,u++)).subscribe(ae(t,S=>{r?.(S),o?g(S):t.next(S)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<n;){const S=l.shift();s?Da(t,s,()=>b(S)):b(S)}p()}catch(S){t.error(S)}}))};return i.subscribe(ae(t,g,()=>{f=!0,p()})),()=>{a?.()}}(n,r,i,e)))}function ud(i=1/0){return Mn(jn,i)}const Gr=new zt(i=>i.complete());function h0(i){return i&&Tt(i.schedule)}function jg(i){return i[i.length-1]}function f0(i){return Tt(jg(i))?i.pop():void 0}function ei(i){return h0(jg(i))?i.pop():void 0}function m0(i,t=0){return ce((e,n)=>{e.subscribe(ae(n,r=>Da(n,i,()=>n.next(r),t),()=>Da(n,i,()=>n.complete(),t),r=>Da(n,i,()=>n.error(r),t)))})}function p0(i,t=0){return ce((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function $g(i,t){if(!i)throw new Error("Iterable cannot be null");return new zt(e=>{Da(e,t,()=>{const n=i[Symbol.asyncIterator]();Da(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function dn(i,t){return t?function qn(i,t){if(null!=i){if(o0(i))return function tE(i,t){return Gn(i).pipe(p0(t),m0(t))}(i,t);if(Nf(i))return function nE(i,t){return new zt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(Lf(i))return function iE(i,t){return Gn(i).pipe(p0(t),m0(t))}(i,t);if(Hg(i))return $g(i,t);if(Ug(i))return function rE(i,t){return new zt(e=>{let n;return Da(e,t,()=>{n=i[sc](),Da(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Tt(n?.return)&&n.return()})}(i,t);if(s0(i))return function oE(i,t){return $g(Wg(i),t)}(i,t)}throw Bf(i)}(i,t):Gn(i)}function Wi(...i){const t=ei(i),e=function _i(i,t){return"number"==typeof jg(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?Gn(n[0]):ud(e)(dn(n,t)):Gr}class wr extends de{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Re(...i){return dn(i,ei(i))}function xr(i={}){const{connector:t=(()=>new de),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let s,a,l,c=0,u=!1,f=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=l=void 0,u=f=!1},b=()=>{const v=s;g(),v?.unsubscribe()};return ce((v,D)=>{c++,!f&&!u&&p();const S=l=l??t();D.add(()=>{c--,0===c&&!f&&!u&&(a=Vf(b,r))}),S.subscribe(D),!s&&c>0&&(s=new wa({next:A=>S.next(A),error:A=>{f=!0,p(),a=Vf(g,e,A),S.error(A)},complete:()=>{u=!0,p(),a=Vf(g,n),S.complete()}}),Gn(v).subscribe(s))})(o)}}function Vf(i,t,...e){if(!0===t)return void i();if(!1===t)return;const n=new wa({next:()=>{n.unsubscribe(),i()}});return Gn(t(...e)).subscribe(n)}function An(i,t){return ce((e,n)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&n.complete();e.subscribe(ae(n,l=>{r?.unsubscribe();let c=0;const u=o++;Gn(i(l,u)).subscribe(r=ae(n,f=>n.next(t?t(l,f,u,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function hd(i,t=jn){return i=i??g0,ce((e,n)=>{let r,o=!0;e.subscribe(ae(n,s=>{const a=t(s);(o||!i(r,a))&&(o=!1,r=a,n.next(s))}))})}function g0(i,t){return i===t}function Xt(i){for(let t in i)if(i[t]===Xt)return t;throw Error("Could not find renamed property on target object.")}function Bu(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function Ut(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ut).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Gg(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const sE=Xt({__forward_ref__:Xt});function Ct(i){return i.__forward_ref__=Ct,i.toString=function(){return Ut(this())},i}function Le(i){return ac(i)?i():i}function ac(i){return"function"==typeof i&&i.hasOwnProperty(sE)&&i.__forward_ref__===Ct}function Vu(i){return i&&!!i.\u0275providers}const ka="https://g.co/ng/security#xss";class z extends Error{constructor(t,e){super(function fd(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}const lc=Xt({\u0275cmp:Xt}),qg=Xt({\u0275dir:Xt}),Kg=Xt({\u0275pipe:Xt}),_0=Xt({\u0275mod:Xt}),js=Xt({\u0275fac:Xt}),tl=Xt({__NG_ELEMENT_ID__:Xt}),cc=Xt({__NG_ENV_ID__:Xt});function at(i){return"string"==typeof i?i:null==i?"":String(i)}function Hu(i,t){throw new z(-201,!1)}function yn(i,t){null==i&&function Ye(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function oe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Xe(i){return{providers:i.providers||[],imports:i.imports||[]}}function zf(i){return Fo(i,Wf)||Fo(i,w0)}function Fo(i,t){return i.hasOwnProperty(t)?i[t]:null}function Uf(i){return i&&(i.hasOwnProperty(Xg)||i.hasOwnProperty(pE))?i[Xg]:null}const Wf=Xt({\u0275prov:Xt}),Xg=Xt({\u0275inj:Xt}),w0=Xt({ngInjectableDef:Xt}),pE=Xt({ngInjectorDef:Xt});var xt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(xt||{});let F;function K(){return F}function B(i){const t=F;return F=i,t}function Ce(i,t,e){const n=zf(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&xt.Optional?null:void 0!==t?t:void Hu(Ut(i))}const Be=globalThis;class V{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Uu={},i_="__NG_DI_FLAG__",jf="ngTempTokenPath",il=/\n/gm,n_="__source";let Ea;function Sa(i){const t=Ea;return Ea=i,t}function qf(i,t=xt.Default){if(void 0===Ea)throw new z(-203,!1);return null===Ea?Ce(i,void 0,t):Ea.get(i,t&xt.Optional?null:void 0,t)}function U(i,t=xt.Default){return(K()||qf)(Le(i),t)}function te(i,t=xt.Default){return U(i,uc(t))}function uc(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function r_(i){const t=[];for(let e=0;e<i.length;e++){const n=Le(i[e]);if(Array.isArray(n)){if(0===n.length)throw new z(900,!1);let r,o=xt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=_E(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(U(r,o))}else t.push(U(n))}return t}function Wu(i,t){return i[i_]=t,i.prototype[i_]=t,i}function _E(i){return i[i_]}function ls(i){return{toString:i}.toString()}var Yf=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Yf||{}),No=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(No||{});const Gs={},jt=[];function un(i,t,e){let n=i.length;for(;;){const r=i.indexOf(t,e);if(-1===r)return r;if(0===r||i.charCodeAt(r-1)<=32){const o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function In(i,t,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const o=e[n++],s=e[n++],a=e[n++];i.setAttribute(t,s,a,o)}else{const o=r,s=e[++n];D0(o)?i.setProperty(t,o,s):i.setAttribute(t,o,s),n++}}return n}function C0(i){return 3===i||4===i||6===i}function D0(i){return 64===i.charCodeAt(0)}function bd(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r?e=r:0===e||k0(i,e,r,null,-1===e||2===e?t[++n]:null)}}return i}function k0(i,t,e,n,r){let o=0,s=i.length;if(-1===t)s=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(i[o+1]=r));if(n===i[o+1])return void(i[o+2]=r)}o++,null!==n&&o++,null!==r&&o++}-1!==s&&(i.splice(s,0,t),o=s+1),i.splice(o++,0,e),null!==n&&i.splice(o++,0,n),null!==r&&i.splice(o++,0,r)}const Xf="ng-template";function ju(i,t,e){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if("string"==typeof o&&r){const s=i[n++];if(e&&"class"===o&&-1!==un(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;n<i.length&&"string"==typeof(o=i[n++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function Zf(i){return 4===i.type&&i.value!==Xf}function vd(i,t,e){return t===(4!==i.type||e?i.value:Xf)}function $u(i,t,e){let n=4;const r=i.attrs||[],o=function vE(i){for(let t=0;t<i.length;t++)if(C0(i[t]))return t;return i.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!vd(i,l,e)||""===l&&1===t.length){if(Dr(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==i.attrs){if(!ju(i.attrs,c,e)){if(Dr(n))return!1;s=!0}continue}const f=Qf(8&n?"class":l,r,Zf(i),e);if(-1===f){if(Dr(n))return!1;s=!0;continue}if(""!==c){let p;p=f>o?"":r[f+1].toLowerCase();const g=8&n?p:null;if(g&&-1!==un(g,c,0)||2&n&&c!==p){if(Dr(n))return!1;s=!0}}}}else{if(!s&&!Dr(n)&&!Dr(l))return!1;if(s&&Dr(l))continue;s=!1,n=l|1&n}}return Dr(n)||s}function Dr(i){return 0==(1&i)}function Qf(i,t,e,n){if(null===t)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===i)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function yE(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function hc(i,t,e=!1){for(let n=0;n<t.length;n++)if($u(i,t[n],e))return!0;return!1}function wE(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function E0(i,t){return i?":not("+t.trim()+")":t}function em(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let s=i[e];if("string"==typeof s)if(2&n){const a=i[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+s:4&n&&(r+=" "+s);else""!==r&&!Dr(s)&&(t+=E0(o,r),r=""),n=s,o=o||!Dr(n);e++}return""!==r&&(t+=E0(o,r)),t}function x(i){return ls(()=>{const t=M0(i),e={...t,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Yf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||No.Emulated,styles:i.styles||jt,_:null,schemas:i.schemas||null,tView:null,id:""};A0(e);const n=i.dependencies;return e.directiveDefs=Lo(n,!1),e.pipeDefs=Lo(n,!0),e.id=function CE(i){let t=0;const e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function yd(i){return Dt(i)||Di(i)}function tm(i){return null!==i}function Pe(i){return ls(()=>({type:i.type,bootstrap:i.bootstrap||jt,declarations:i.declarations||jt,imports:i.imports||jt,exports:i.exports||jt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function It(i,t){if(null==i)return Gs;const e={};for(const n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}function ne(i){return ls(()=>{const t=M0(i);return A0(t),t})}function Kr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Dt(i){return i[lc]||null}function Di(i){return i[qg]||null}function Kn(i){return i[Kg]||null}function cr(i,t){const e=i[_0]||null;if(!e&&!0===t)throw new Error(`Type ${Ut(i)} does not have '\u0275mod' property.`);return e}function M0(i){const t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||Gs,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||jt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:It(i.inputs,t),outputs:It(i.outputs),debugInfo:null}}function A0(i){i.features?.forEach(t=>t(i))}function Lo(i,t){if(!i)return null;const e=t?Kn:yd;return()=>("function"==typeof i?i():i).map(n=>e(n)).filter(tm)}const ji=0,le=1,je=2,$t=3,cs=4,dr=5,ds=6,wd=7,fi=8,en=9,xd=10,lt=11,kr=12,T0=13,Cd=14,Bi=15,qu=16,Dd=17,us=18,kd=19,I0=20,rl=21,Ed=22,hs=23,tt=25,o_=1,qs=7,ol=9,mi=10;var Jn=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i[i.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",i}(Jn||{});function Yn(i){return Array.isArray(i)&&"object"==typeof i[o_]}function wn(i){return Array.isArray(i)&&!0===i[o_]}function im(i){return 0!=(4&i.flags)}function fs(i){return i.componentOffset>-1}function ms(i){return 1==(1&i.flags)}function Vo(i){return!!i.template}function s_(i){return 0!=(512&i[je])}function fc(i,t){return i.hasOwnProperty(js)?i[js]:null}class d_{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function tn(){return F0}function F0(i){return i.type.prototype.ngOnChanges&&(i.setInput=SE),EE}function EE(){const i=am(this),t=i?.current;if(t){const e=i.previous;if(e===Gs)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function SE(i,t,e,n){const r=this.declaredInputs[e],o=am(i)||function ME(i,t){return i[u_]=t}(i,{previous:Gs,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new d_(l&&l.currentValue,t,a===Gs),i[n]=t}tn.ngInherit=!0;const u_="__ngSimpleChanges__";function am(i){return i[u_]||null}const ps=function(i,t,e){},h_="svg";function vi(i){for(;Array.isArray(i);)i=i[ji];return i}function Td(i,t){return vi(t[i])}function Er(i,t){return vi(t[i.index])}function Yu(i,t){return i.data[t]}function sl(i,t){return i[t]}function Yr(i,t){const e=t[i];return Yn(e)?e:e[ji]}function m_(i){return 128==(128&i[je])}function it(i,t){return null==t?null:i[t]}function B0(i){i[Dd]=0}function AE(i){1024&i[je]||(i[je]|=1024,m_(i)&&cm(i))}function g_(i){return 9216&i[je]||i[hs]?.dirty}function V0(i){g_(i)&&cm(i)}function cm(i){let t=i[$t];for(;null!==t&&!(wn(t)&&t[je]&Jn.HasChildViewsToRefresh||Yn(t)&&8192&t[je]);){if(wn(t))t[je]|=Jn.HasChildViewsToRefresh;else if(t[je]|=8192,!m_(t))break;t=t[$t]}}function Sr(i,t){if(256==(256&i[je]))throw new z(911,!1);null===i[rl]&&(i[rl]=[]),i[rl].push(t)}const qe={lFrame:Qu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function um(){return qe.bindingsEnabled}function mc(){return null!==qe.skipHydrationRootTNode}function G(){return qe.lFrame.lView}function bt(){return qe.lFrame.tView}function Ve(i){return qe.lFrame.contextLView=i,i[fi]}function Se(i){return qe.lFrame.contextLView=null,i}function ti(){let i=y_();for(;null!==i&&64===i.type;)i=i.parent;return i}function y_(){return qe.lFrame.currentTNode}function Ks(i,t){const e=qe.lFrame;e.currentTNode=i,e.isParent=t}function w_(){return qe.lFrame.isParent}function x_(){qe.lFrame.isParent=!1}function ur(){const i=qe.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function xn(){return qe.lFrame.bindingIndex++}function Aa(i){const t=qe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function Od(i,t){const e=qe.lFrame;e.bindingIndex=e.bindingRootIndex=i,fm(t)}function fm(i){qe.lFrame.currentDirectiveIndex=i}function C_(i){const t=qe.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function D_(){return qe.lFrame.currentQueryIndex}function ll(i){qe.lFrame.currentQueryIndex=i}function Zu(i){const t=i[le];return 2===t.type?t.declTNode:1===t.type?i[dr]:null}function G0(i,t,e){if(e&xt.SkipSelf){let r=t,o=i;for(;!(r=r.parent,null!==r||e&xt.Host||(r=Zu(o),null===r||(o=o[Cd],10&r.type))););if(null===r)return!1;t=r,i=o}const n=qe.lFrame=k_();return n.currentTNode=t,n.lView=i,!0}function mm(i){const t=k_(),e=i[le];qe.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function k_(){const i=qe.lFrame,t=null===i?null:i.child;return null===t?Qu(i):t}function Qu(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function E_(){const i=qe.lFrame;return qe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const eh=E_;function th(){const i=E_();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function hr(){return qe.lFrame.selectedIndex}function cl(i){qe.lFrame.selectedIndex=i}function ai(){const i=qe.lFrame;return Yu(i.tView,i.selectedIndex)}function Ta(){qe.lFrame.currentNamespace=h_}function gm(){!function q0(){qe.lFrame.currentNamespace=null}()}let M_=!0;function ih(){return M_}function dl(i){M_=i}function _m(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const o=i.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(i.contentHooks??=[]).push(-e,s),a&&((i.contentHooks??=[]).push(e,a),(i.contentCheckHooks??=[]).push(e,a)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),null!=u&&(i.destroyHooks??=[]).push(e,u)}}function bm(i,t,e){vm(i,t,3,e)}function Ho(i,t,e,n){(3&i[je])===e&&vm(i,t,e,n)}function nh(i,t){let e=i[je];(3&e)===t&&(e&=16383,e+=1,i[je]=e)}function vm(i,t,e,n){const o=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&i[Dd]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(i[Dd]+=65536),(a<o||-1==o)&&(wm(i,e,t,l),i[Dd]=(4294901760&i[Dd])+l+2),l++}function ym(i,t){ps(4,i,t);const e=gi(null);try{t.call(i)}finally{gi(e),ps(5,i,t)}}function wm(i,t,e,n){const r=e[n]<0,o=e[n+1],a=i[r?-e[n]:e[n]];r?i[je]>>14<i[Dd]>>16&&(3&i[je])===t&&(i[je]+=16384,ym(a,o)):ym(a,o)}const gs=-1;class He{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function T_(i){return i!==gs}function oh(i){return 32767&i}function sh(i,t){let e=function J0(i){return i>>16}(i),n=t;for(;e>0;)n=n[Cd],e--;return n}let Cm=!0;function Dm(i){const t=Cm;return Cm=i,t}const Y0=255,Xs=5;let Tr=0;const zo={};function Rd(i,t){const e=X0(i,t);if(-1!==e)return e;const n=t[le];n.firstCreatePass&&(i.injectorIndex=t.length,I_(n.data,i),I_(t,null),I_(n.blueprint,null));const r=ul(i,t),o=i.injectorIndex;if(T_(r)){const s=oh(r),a=sh(r,t),l=a[le].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function I_(i,t){i.push(0,0,0,0,0,0,0,0,t)}function X0(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function ul(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;null!==r;){if(n=rw(r),null===n)return gs;if(e++,r=r[Cd],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return gs}function km(i,t,e){!function FE(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(tl)&&(n=e[tl]),null==n&&(n=e[tl]=Tr++);const r=n&Y0;t.data[i+(r>>Xs)]|=1<<r}(i,t,e)}function Q0(i,t,e){if(e&xt.Optional||void 0!==i)return i;Hu()}function ew(i,t,e,n){if(e&xt.Optional&&void 0===n&&(n=null),!(e&(xt.Self|xt.Host))){const r=i[en],o=B(void 0);try{return r?r.get(t,n,e&xt.Optional):Ce(t,n,e&xt.Optional)}finally{B(o)}}return Q0(n,0,e)}function tw(i,t,e,n=xt.Default,r){if(null!==i){if(2048&t[je]&&!(n&xt.Self)){const s=function vc(i,t,e,n,r){let o=i,s=t;for(;null!==o&&null!==s&&2048&s[je]&&!(512&s[je]);){const a=iw(o,s,e,n|xt.Self,zo);if(a!==zo)return a;let l=o.parent;if(!l){const c=s[I0];if(c){const u=c.get(e,zo,n);if(u!==zo)return u}l=rw(s),s=s[Cd]}o=l}return r}(i,t,e,n,zo);if(s!==zo)return s}const o=iw(i,t,e,n,zo);if(o!==zo)return o}return ew(t,e,n,r)}function iw(i,t,e,n,r){const o=function O_(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(tl)?i[tl]:void 0;return"number"==typeof t?t>=0?t&Y0:Em:t}(e);if("function"==typeof o){if(!G0(t,i,n))return n&xt.Host?Q0(r,0,n):ew(t,e,n,r);try{let s;if(s=o(n),null!=s||n&xt.Optional)return s;Hu()}finally{eh()}}else if("number"==typeof o){let s=null,a=X0(i,t),l=gs,c=n&xt.Host?t[Bi][dr]:null;for((-1===a||n&xt.SkipSelf)&&(l=-1===a?ul(i,t):t[a+8],l!==gs&&Pd(n,!1)?(s=t[le],a=oh(l),t=sh(l,t)):a=-1);-1!==a;){const u=t[le];if(R_(o,a,u.data)){const f=nw(a,t,e,s,n,c);if(f!==zo)return f}l=t[a+8],l!==gs&&Pd(n,t[le].data[a+8]===c)&&R_(o,a,t)?(s=u,a=oh(l),t=sh(l,t)):a=-1}}return r}function nw(i,t,e,n,r,o){const s=t[le],a=s.data[i+8],u=ah(a,s,e,null==n?fs(a)&&Cm:n!=s&&0!=(3&a.type),r&xt.Host&&o===a);return null!==u?_c(t,s,u,a):zo}function ah(i,t,e,n,r){const o=i.providerIndexes,s=t.data,a=1048575&o,l=i.directiveStart,u=o>>20,p=r?a+u:i.directiveEnd;for(let g=n?a:a+u;g<p;g++){const b=s[g];if(g<l&&e===b||g>=l&&b.type===e)return g}if(r){const g=s[l];if(g&&Vo(g)&&g.type===e)return l}return null}function _c(i,t,e,n){let r=i[e];const o=t.data;if(function xm(i){return i instanceof He}(r)){const s=r;s.resolving&&function Yg(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new z(-200,`Circular dependency in DI detected for ${i}${e}`)}(function Wt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():at(i)}(o[e]));const a=Dm(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?B(s.injectImpl):null;G0(i,n,xt.Default);try{r=i[e]=s.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&function K0(i,t,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){const s=F0(t);(e.preOrderHooks??=[]).push(i,s),(e.preOrderCheckHooks??=[]).push(i,s)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}(e,o[e],t)}finally{null!==c&&B(c),Dm(a),s.resolving=!1,eh()}}return r}function R_(i,t,e){return!!(e[t+(i>>Xs)]&1<<i)}function Pd(i,t){return!(i&xt.Self||i&xt.Host&&t)}class hn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return tw(this._tNode,this._lView,t,uc(n),e)}}function Em(){return new hn(ti(),G())}function Kt(i){return ls(()=>{const t=i.prototype.constructor,e=t[js]||Uo(t),n=Object.prototype;let r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){const o=r[js]||Uo(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Uo(i){return ac(i)?()=>{const t=Uo(Le(i));return t&&t()}:fc(i)}function rw(i){const t=i[le],e=t.type;return 2===e?t.declTNode:1===e?i[dr]:null}function Xr(i){return function Z0(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const o=e[r];if(C0(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ti(),i)}const Nd="__parameters__";function Bd(i,t,e){return ls(()=>{const n=function P_(i){return function(...e){if(i){const n=i(...e);for(const r in n)this[r]=n[r]}}}(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const f=l.hasOwnProperty(Nd)?l[Nd]:Object.defineProperty(l,Nd,{value:[]})[Nd];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function Hd(i,t){i.forEach(e=>Array.isArray(e)?Hd(e,t):t(e))}function sw(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Ir(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function ch(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function go(i,t,e){let n=zd(i,t);return n>=0?i[1|n]=e:(n=~n,function N_(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(1===r)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;)i[r]=i[r-2],r--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function L_(i,t){const e=zd(i,t);if(e>=0)return i[1|e]}function zd(i,t){return function lw(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){const o=n+(r-n>>1),s=i[o<<e];if(t===s)return o<<e;s>t?r=o:n=o+1}return~(r<<e)}(i,t,1)}const yc=Wu(Bd("Optional"),8),dh=Wu(Bd("SkipSelf"),4),wc=new V("ENVIRONMENT_INITIALIZER"),hw=new V("INJECTOR",-1),Wd=new V("INJECTOR_DEF_TYPES");class Am{get(t,e=Uu){if(e===Uu){const n=new Error(`NullInjectorError: No provider for ${Ut(t)}!`);throw n.name="NullInjectorError",n}return e}}function sS(...i){return{\u0275providers:mw(0,i),\u0275fromNgModule:!0}}function mw(i,...t){const e=[],n=new Set;let r;const o=s=>{e.push(s)};return Hd(t,s=>{const a=s;Tm(a,o,[],n)&&(r||=[],r.push(a))}),void 0!==r&&pw(r,o),e}function pw(i,t){for(let e=0;e<i.length;e++){const{ngModule:n,providers:r}=i[e];H_(r,o=>{t(o,n)})}}function Tm(i,t,e,n){if(!(i=Le(i)))return!1;let r=null,o=Uf(i);const s=!o&&Dt(i);if(o||s){if(s&&!s.standalone)return!1;r=i}else{const l=i.ngModule;if(o=Uf(l),!o)return!1;r=l}const a=n.has(r);if(s){if(a)return!1;if(n.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Tm(c,t,e,n)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;n.add(r);try{Hd(o.imports,u=>{Tm(u,t,e,n)&&(c||=[],c.push(u))})}finally{}void 0!==c&&pw(c,t)}if(!a){const c=fc(r)||(()=>new r);t({provide:r,useFactory:c,deps:jt},r),t({provide:Wd,useValue:r,multi:!0},r),t({provide:wc,useValue:()=>U(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=i;H_(l,u=>{t(u,c)})}}}return r!==i&&void 0!==i.providers}function H_(i,t){for(let e of i)Vu(e)&&(e=e.\u0275providers),Array.isArray(e)?H_(e,t):t(e)}const aS=Xt({provide:String,useValue:Xt});function z_(i){return null!==i&&"object"==typeof i&&aS in i}function xc(i){return"function"==typeof i}const U_=new V("Set Injector scope."),Im={},bw={};let Om;function Rm(){return void 0===Om&&(Om=new Am),Om}class Wo{}class jd extends Wo{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,j_(t,s=>this.processProvider(s)),this.records.set(hw,$d(void 0,this)),r.has("environment")&&this.records.set(Wo,$d(void 0,this));const o=this.records.get(U_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wd,jt,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Sa(this),n=B(void 0);try{return t()}finally{Sa(e),B(n)}}get(t,e=Uu,n=xt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(cc))return t[cc](this);n=uc(n);const o=Sa(this),s=B(void 0);try{if(!(n&xt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function hS(i){return"function"==typeof i||"object"==typeof i&&i instanceof V}(t)&&zf(t);l=c&&this.injectableDefInScope(c)?$d(W_(t),Im):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&xt.Self?Rm():this.parent).get(t,e=n&xt.Optional&&e===Uu?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[jf]=a[jf]||[]).unshift(Ut(t)),o)throw a;return function Kf(i,t,e,n){const r=i[jf];throw t[n_]&&r.unshift(t[n_]),i.message=function Jf(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let r=Ut(t);if(Array.isArray(t))r=t.map(Ut).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ut(a)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(il,"\n  ")}`}("\n"+i.message,r,e,n),i.ngTokenPath=r,i[jf]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{B(s),Sa(o)}}resolveInjectorInitializers(){const t=Sa(this),e=B(void 0);try{const r=this.get(wc,jt,xt.Self);for(const o of r)o()}finally{Sa(t),B(e)}}toString(){const t=[],e=this.records;for(const n of e.keys())t.push(Ut(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){let e=xc(t=Le(t))?t:Le(t&&t.provide);const n=function cS(i){return z_(i)?$d(void 0,i.useValue):$d(vw(i),Im)}(t);if(xc(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=$d(void 0,Im,!0),r.factory=()=>r_(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,n)}hydrate(t,e){return e.value===Im&&(e.value=bw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function uS(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Le(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function W_(i){const t=zf(i),e=null!==t?t.factory:fc(i);if(null!==e)return e;if(i instanceof V)throw new z(204,!1);if(i instanceof Function)return function Pm(i){const t=i.length;if(t>0)throw ch(t,"?"),new z(204,!1);const e=function y0(i){return i&&(i[Wf]||i[w0])||null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new z(204,!1)}function vw(i,t,e){let n;if(xc(i)){const r=Le(i);return fc(r)||W_(r)}if(z_(i))n=()=>Le(i.useValue);else if(function _w(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...r_(i.deps||[]));else if(function gw(i){return!(!i||!i.useExisting)}(i))n=()=>U(Le(i.useExisting));else{const r=Le(i&&(i.useClass||i.provide));if(!function dS(i){return!!i.deps}(i))return fc(r)||W_(r);n=()=>new r(...r_(i.deps))}return n}function $d(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function j_(i,t){for(const e of i)Array.isArray(e)?j_(e,t):e&&Vu(e)?j_(e.\u0275providers,t):t(e)}function Cc(i,t){i instanceof jd&&i.assertNotDestroyed();const n=Sa(i),r=B(void 0);try{return t()}finally{Sa(n),B(r)}}function $_(i){if(!K()&&!function x0(){return Ea}())throw new z(-203,!1)}function K_(i,t=null,e=null,n){const r=J_(i,t,e,n);return r.resolveInjectorInitializers(),r}function J_(i,t=null,e=null,n,r=new Set){const o=[e||jt,sS(i)];return n=n||("object"==typeof i?void 0:Ut(i)),new jd(o,t||Rm(),n||null,r)}let Nm,Xn=(()=>{class i{static#e=this.THROW_IF_NOT_FOUND=Uu;static#t=this.NULL=new Am;static create(e,n){if(Array.isArray(e))return K_({name:""},n,e,"");{const r=e.name??"";return K_({name:r},e.parent,e.providers,r)}}static#i=this.\u0275prov=oe({token:i,providedIn:"any",factory:()=>U(hw)});static#n=this.__NG_ELEMENT_ID__=-1}return i})();const fh=new V("AppId",{providedIn:"root",factory:()=>_S}),_S="ng",Dw=new V("Platform Initializer"),kc=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vi=new V("AnimationModuleType"),Z_=new V("CSP nonce",{providedIn:"root",factory:()=>function pl(){if(void 0!==Nm)return Nm;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Cn(i){return i instanceof Function?i():i}function Hm(i){return 128==(128&i.flags)}var bl=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(bl||{});const Um=new Map;let jo=0;const ib="__ngContext__";function fr(i,t){Yn(t)?(i[ib]=t[kd],function DS(i){Um.set(i[kd],i)}(t)):i[ib]=t}let bh;function rb(i,t){return bh(i,t)}function vh(i){const t=i[$t];return wn(t)?t[$t]:t}function Hw(i){return Uw(i[kr])}function zw(i){return Uw(i[cs])}function Uw(i){for(;null!==i&&!wn(i);)i=i[cs];return i}function Mc(i,t,e,n,r){if(null!=n){let o,s=!1;wn(n)?o=n:Yn(n)&&(s=!0,n=n[ji]);const a=vi(n);0===i&&null!==e?null==r?ab(t,e,a):Ac(t,e,a,r||null,!0):1===i&&null!==e?Ac(t,e,a,r||null,!0):2===i?function qm(i,t,e){const n=$m(i,t);n&&function LS(i,t,e,n){i.removeChild(t,e,n)}(i,n,t,e)}(t,a,s):3===i&&t.destroyNode(a),null!=o&&function HS(i,t,e,n,r){const o=e[qs];o!==vi(e)&&Mc(t,i,n,o,r);for(let a=mi;a<e.length;a++){const l=e[a];Ch(l[le],l,i,t,n,o)}}(t,i,o,e,r)}}function yh(i,t,e){return i.createElement(t,e)}function Gw(i,t){const e=i[ol],n=e.indexOf(t);e.splice(n,1)}function wh(i,t){if(i.length<=mi)return;const e=mi+t,n=i[e];if(n){const r=n[qu];null!==r&&r!==i&&Gw(r,n),t>0&&(i[e-1][cs]=n[cs]);const o=Ir(i,mi+t);!function IS(i,t){Ch(i,t,t[lt],2,null,null),t[ji]=null,t[dr]=null}(n[le],n);const s=o[us];null!==s&&s.detachView(o[le]),n[$t]=null,n[cs]=null,n[je]&=-129}return n}function jm(i,t){if(!(256&t[je])){const e=t[lt];e.destroyNode&&Ch(i,t,e,3,null,null),function jw(i){let t=i[kr];if(!t)return vl(i[le],i);for(;t;){let e=null;if(Yn(t))e=t[kr];else{const n=t[mi];n&&(e=n)}if(!e){for(;t&&!t[cs]&&t!==i;)Yn(t)&&vl(t[le],t),t=t[$t];null===t&&(t=i),Yn(t)&&vl(t[le],t),e=t&&t[cs]}t=e}}(t)}}function vl(i,t){if(!(256&t[je])){t[je]&=-129,t[je]|=256,t[hs]&&uo(t[hs]),function NS(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const r=t[e[n]];if(!(r instanceof He)){const o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];ps(4,a,l);try{l.call(a)}finally{ps(5,a,l)}}else{ps(4,r,o);try{o.call(r)}finally{ps(5,r,o)}}}}}(i,t),function FS(i,t){const e=i.cleanup,n=t[wd];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else e[o].call(n[e[o+1]]);null!==n&&(t[wd]=null);const r=t[rl];if(null!==r){t[rl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(i,t),1===t[le].type&&t[lt].destroy();const e=t[qu];if(null!==e&&wn(t[$t])){e!==t[$t]&&Gw(e,t);const n=t[us];null!==n&&n.detachView(i)}!function kS(i){Um.delete(i[kd])}(t)}}function sb(i,t,e){return function qw(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[ji];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:o}=i.data[n.directiveStart+r];if(o===No.None||o===No.Emulated)return null}return Er(n,e)}}(i,t.parent,e)}function Ac(i,t,e,n,r){i.insertBefore(t,e,n,r)}function ab(i,t,e){i.appendChild(t,e)}function lb(i,t,e,n,r){null!==n?Ac(i,t,e,n,r):ab(i,t,e)}function $m(i,t){return i.parentNode(t)}function Kw(i,t,e){return Yw(i,t,e)}let cb,Km,Kd,Yw=function Jw(i,t,e){return 40&i.type?Er(i,e):null};function Gm(i,t,e,n){const r=sb(i,n,t),o=t[lt],a=Kw(n.parent||t[dr],n,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)lb(o,r,e[l],a,!1);else lb(o,r,e,a,!1);void 0!==cb&&cb(o,n,t,e,r)}function xh(i,t){if(null!==t){const e=t.type;if(3&e)return Er(t,i);if(4&e)return db(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return xh(i,n);{const r=i[t.index];return wn(r)?db(-1,r):vi(r)}}if(32&e)return rb(t,i)()||vi(i[t.index]);{const n=Zw(i,t);return null!==n?Array.isArray(n)?n[0]:xh(vh(i[Bi]),n):xh(i,t.next)}}return null}function Zw(i,t){return null!==t?i[Bi][dr].projection[t.projection]:null}function db(i,t){const e=mi+i+1;if(e<t.length){const n=t[e],r=n[le].firstChild;if(null!==r)return xh(n,r)}return t[qs]}function ub(i,t,e,n,r,o,s){for(;null!=e;){const a=n[e.index],l=e.type;if(s&&0===t&&(a&&fr(vi(a),n),e.flags|=2),32!=(32&e.flags))if(8&l)ub(i,t,e.child,n,r,o,!1),Mc(t,i,r,a,o);else if(32&l){const c=rb(e,n);let u;for(;u=c();)Mc(t,i,r,u,o);Mc(t,i,r,a,o)}else 16&l?ex(i,t,n,e,r,o):Mc(t,i,r,a,o);e=s?e.projectionNext:e.next}}function Ch(i,t,e,n,r,o){ub(e,n,i.firstChild,t,r,o,!1)}function ex(i,t,e,n,r,o){const s=e[Bi],l=s[dr].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Mc(t,i,r,l[c],o);else{let c=l;const u=s[$t];Hm(n)&&(c.flags|=128),ub(i,t,c,u,r,o,!0)}}function tx(i,t,e){""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function ix(i,t,e){const{mergedAttrs:n,classes:r,styles:o}=e;null!==n&&In(i,t,n),null!==r&&tx(i,t,r),null!==o&&function US(i,t,e){i.setAttribute(t,"style",e)}(i,t,o)}function Tc(i){return function Dh(){if(void 0===Km&&(Km=null,Be.trustedTypes))try{Km=Be.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Km}()?.createHTML(i)||i}function Rr(i){return function hb(){if(void 0===Kd&&(Kd=null,Be.trustedTypes))try{Kd=Be.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Kd}()?.createScriptURL(i)||i}class Ra{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ka})`}}class $S extends Ra{getTypeName(){return"HTML"}}class GS extends Ra{getTypeName(){return"Style"}}class qS extends Ra{getTypeName(){return"Script"}}class KS extends Ra{getTypeName(){return"URL"}}class fb extends Ra{getTypeName(){return"ResourceURL"}}function bo(i){return i instanceof Ra?i.changingThisBreaksApplicationSecurity:i}function $o(i,t){const e=function JS(i){return i instanceof Ra&&i.getTypeName()||null}(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ka})`)}return e===t}class eM{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Tc(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class mb{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Tc(t),e}}const tM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jm(i){return(i=String(i)).match(tM)?i:"unsafe:"+i}function Pa(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function kh(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const lx=Pa("area,br,col,hr,img,wbr"),cx=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dx=Pa("rp,rt"),gb=kh(lx,kh(cx,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kh(dx,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kh(dx,cx)),_b=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ux=kh(_b,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iM=Pa("script,style,template");class nM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!gb.hasOwnProperty(e))return this.sanitizedSomething=!0,!iM.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const o=n.item(r),s=o.name,a=s.toLowerCase();if(!ux.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;_b[a]&&(l=Jm(l)),this.buf.push(" ",s,'="',hx(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();gb.hasOwnProperty(e)&&!lx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hx(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oM=/([^\#-~ |!])/g;function hx(i){return i.replace(/&/g,"&amp;").replace(rM,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(oM,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ym;function d(i,t){let e=null;try{Ym=Ym||function ax(i){const t=new mb(i);return function pb(){try{return!!(new window.DOMParser).parseFromString(Tc(""),"text/html")}catch{return!1}}()?new eM(t):t}(i);let n=t?String(t):"";e=Ym.getInertBodyElement(n);let r=5,o=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=Ym.getInertBodyElement(n)}while(n!==o);return Tc((new nM).sanitizeChildren(h(e)||e))}finally{if(e){const n=h(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function h(i){return"content"in i&&function m(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var _=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(_||{});function T(i){const t=dt();return t?t.sanitize(_.URL,i)||"":$o(i,"URL")?bo(i):Jm(at(i))}function R(i){const t=dt();if(t)return Rr(t.sanitize(_.RESOURCE_URL,i)||"");if($o(i,"ResourceURL"))return Rr(bo(i));throw new z(904,!1)}function dt(){const i=G();return i&&i[xd].sanitizer}let pN=(i,t,e)=>null;function cM(i,t,e=!1){return pN(i,t,e)}class fK{}class bN{}class pK{resolveComponentFactory(t){throw function mK(i){const t=Error(`No component factory found for ${Ut(i)}.`);return t.ngComponent=i,t}(t)}}let Zm=(()=>{class i{static#e=this.NULL=new pK}return i})();function gK(){return Qm(ti(),G())}function Qm(i,t){return new ke(Er(i,t))}let ke=(()=>{class i{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=gK}return i})();function _K(i){return i instanceof ke?i.nativeElement:i}class hM{}let Ic=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function bK(){const i=G(),e=Yr(ti().index,i);return(Yn(e)?e:i)[lt]}()}return i})(),vK=(()=>{class i{static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:()=>null})}return i})();class Eh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yK=new Eh("17.0.6"),fM={};function wi(i,t){const e=function Af(i){const t=Object.create(Ig);t.computation=i;const e=()=>{if(ga(t),ad(t),t.value===ts)throw t.error;return t.value};return e[Pi]=t,e}(i);return t?.equal&&(e[Pi].equal=t.equal),e}function vs(i,t){const e=function ns(i){const t=Object.create(Zy);t.value=i;const e=()=>(ad(t),t.value);return e[Pi]=t,e}(i),n=e[Pi];return t?.equal&&(n.equal=t.equal),e.set=r=>Tf(n,r),e.update=r=>function ba(i,t){ln()||Ro(),Tf(i,t(i.value))}(n,r),e.asReadonly=wK.bind(e),e}function wK(){const i=this[Pi];if(void 0===i.readonlyFn){const t=()=>this();t[Pi]=i,i.readonlyFn=t}return i.readonlyFn}function _x(i){const t=gi(null);try{return i()}finally{gi(t)}}function bx(i){return!!mM(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function mM(i){return null!==i&&("function"==typeof i||"object"==typeof i)}class yN{constructor(){}supports(t){return bx(t)}create(t){return new kK(t)}}const DK=(i,t)=>t;class kK{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||DK}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){const s=!n||e&&e.currentIndex<xN(n,r,o)?e:n,a=xN(s,r,o),l=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let p=0;p<c;p++){const g=p<o.length?o[p]:o[p]=0,b=g+p;u<=b&&b<c&&(o[p]=g+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bx(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),n=!0),e=e._next}else r=0,function CK(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Symbol.iterator]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(n&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new EK(e,n),o,r),t}_verifyReinsertion(t,e,n,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wN),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wN),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class EK{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SK{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class wN{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new SK,this.map.set(e,n)),n.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xN(i,t,e){const n=i.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+t+r}class CN{constructor(){}supports(t){return t instanceof Map||mM(t)}create(){return new MK}}class MK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||mM(t)))throw new z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const n=new AK(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class AK{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DN(){return new vx([new yN])}let vx=(()=>{class i{static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:DN});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||DN()),deps:[[i,new dh,new yc]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new z(901,!1)}}return i})();function kN(){return new vb([new CN])}let vb=(()=>{class i{static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:kN});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||kN()),deps:[[i,new dh,new yc]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new z(901,!1)}}return i})();function yb(i,t,e,n,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&n.push(vi(o)),wn(o)&&EN(o,n);const s=e.type;if(8&s)yb(i,t,e.child,n);else if(32&s){const a=rb(e,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=Zw(t,e);if(Array.isArray(a))n.push(...a);else{const l=vh(t[Bi]);yb(l[le],l,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function EN(i,t){for(let e=mi;e<i.length;e++){const n=i[e],r=n[le].firstChild;null!==r&&yb(n[le],n,r,t)}i[qs]!==i[ji]&&t.push(i[qs])}let SN=[];const PK={...co,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{cm(i.lView)},consumerOnSignalRead(){this.lView[hs]=this}};function pM(i){return i.ngOriginalError}class Zs{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&pM(t);for(;e&&pM(e);)e=pM(e);return e||null}}const TN=new V("",{providedIn:"root",factory:()=>!1}),yt={};function M(i){PN(bt(),G(),hr()+i,!1)}function PN(i,t,e,n){if(!n)if(3==(3&t[je])){const o=i.preOrderCheckHooks;null!==o&&bm(t,o,e)}else{const o=i.preOrderHooks;null!==o&&Ho(t,o,0,e)}cl(e)}function C(i,t=xt.Default){const e=G();return null===e?U(i,t):tw(ti(),e,Le(i),t)}function gM(){throw new Error("invalid")}function wx(i,t,e,n,r,o,s,a,l,c,u){const f=t.blueprint.slice();return f[ji]=r,f[je]=140|n,(null!==c||i&&2048&i[je])&&(f[je]|=2048),B0(f),f[$t]=f[Cd]=i,f[fi]=e,f[xd]=s||i&&i[xd],f[lt]=a||i&&i[lt],f[en]=l||i&&i[en]||null,f[dr]=o,f[kd]=function Ow(){return jo++}(),f[ds]=u,f[I0]=c,f[Bi]=2==t.type?i[Bi]:f,f}function ep(i,t,e,n,r){let o=i.data[t];if(null===o)o=function _M(i,t,e,n,r){const o=y_(),s=w_(),l=i.data[t]=function qK(i,t,e,n,r,o){let s=t?t.injectorIndex:-1,a=0;return mc()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,n,r);return null===i.firstChild&&(i.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(i,t,e,n,r),function OE(){return qe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=n,o.attrs=r;const s=function pc(){const i=qe.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ks(o,!0),o}function wb(i,t,e,n){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function FN(i,t,e,n,r){const o=hr(),s=2&n;try{cl(-1),s&&t.length>tt&&PN(i,t,tt,!1),ps(s?2:0,r),e(n,r)}finally{cl(o),ps(s?3:1,r)}}function bM(i,t,e){if(im(t)){const n=gi(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=i.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{gi(n)}}}function vM(i,t,e){um()&&(function eJ(i,t,e,n){const r=e.directiveStart,o=e.directiveEnd;fs(e)&&function aJ(i,t,e){const n=Er(t,i),r=NN(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=xx(i,wx(i,r,null,s,n,t,null,i[xd].rendererFactory.createRenderer(n,e),null,null,null));i[t.index]=a}(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||Rd(e,t),fr(n,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=i.data[a],c=_c(t,i,a,e);fr(c,t),null!==s&&lJ(0,a-r,c,l,0,s),Vo(l)&&(Yr(e.index,t)[fi]=_c(t,i,a,e))}}(i,t,e,Er(e,t)),64==(64&e.flags)&&zN(i,t,e))}function yM(i,t,e=Er){const n=t.localNames;if(null!==n){let r=t.index+1;for(let o=0;o<n.length;o+=2){const s=n[o+1],a=-1===s?e(t,i):i[s];i[r++]=a}}}function NN(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=wM(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function wM(i,t,e,n,r,o,s,a,l,c,u){const f=tt+n,p=f+r,g=function zK(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:yt);return e}(f,p),b="function"==typeof c?c():c;return g[le]={type:i,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:u}}let LN=i=>null;function BN(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=null===e?{}:e;const o=i[r];null===n?VN(e,t,r,o):n.hasOwnProperty(r)&&VN(e,t,n[r],o)}return e}function VN(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function ys(i,t,e,n,r,o,s,a){const l=Er(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[n])?(EM(i,e,u,n,r),fs(t)&&function YK(i,t){const e=Yr(t,i);16&e[je]||(e[je]|=64)}(e,t.index)):3&t.type&&(n=function JK(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),r=null!=s?s(r,t.value||"",n):r,o.setProperty(l,n,r))}function xM(i,t,e,n){if(um()){const r=null===n?null:{"":-1},o=function iJ(i,t){const e=i.directiveRegistry;let n=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(hc(t,s.selectors,!1))if(n||(n=[]),Vo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),n.unshift(...a,s),CM(i,t,a.length)}else n.unshift(s),CM(i,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,n,r),n.push(s)}return null===n?null:[n,r]}(i,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&HN(i,t,e,s,r,a),r&&function nJ(i,t,e){if(t){const n=i.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new z(-301,!1);n.push(t[r],o)}}}(e,n,r)}e.mergedAttrs=bd(e.mergedAttrs,e.attrs)}function HN(i,t,e,n,r,o){for(let c=0;c<n.length;c++)km(Rd(e,t),i,n[c].type);!function oJ(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}(e,i.data.length,n.length);for(let c=0;c<n.length;c++){const u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=wb(i,t,n.length,null);for(let c=0;c<n.length;c++){const u=n[c];e.mergedAttrs=bd(e.mergedAttrs,u.hostAttrs),sJ(i,e,t,l,u),rJ(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const f=u.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function KK(i,t,e){const r=t.directiveEnd,o=i.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const f=o[u],p=e?e.get(f):null,b=p?p.outputs:null;l=BN(f.inputs,u,l,p?p.inputs:null),c=BN(f.outputs,u,c,b);const v=null===l||null===s||Zf(t)?null:cJ(l,u,s);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(i,e,o)}function zN(i,t,e){const n=e.directiveStart,r=e.directiveEnd,o=e.index,s=function $0(){return qe.lFrame.currentDirectiveIndex}();try{cl(o);for(let a=n;a<r;a++){const l=i.data[a],c=t[a];fm(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&tJ(l,c)}}finally{cl(-1),fm(s)}}function tJ(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function CM(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function rJ(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Vo(t)&&(e[""]=i)}}function sJ(i,t,e,n,r){i.data[n]=r;const o=r.factory||(r.factory=fc(r.type)),s=new He(o,Vo(r),C);i.blueprint[n]=s,e[n]=s,function ZK(i,t,e,n,r){const o=r.hostBindings;if(o){let s=i.hostBindingOpCodes;null===s&&(s=i.hostBindingOpCodes=[]);const a=~t.index;(function QK(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,n,o)}}(i,t,n,wb(i,e,r.hostVars,yt),r)}function yl(i,t,e,n,r,o){const s=Er(i,t);!function DM(i,t,e,n,r,o,s){if(null==o)i.removeAttribute(t,r,e);else{const a=null==s?at(o):s(o,n||"",r);i.setAttribute(t,r,a,e)}}(t[lt],s,o,i.value,e,n,r)}function lJ(i,t,e,n,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)UN(n,e,s[a++],s[a++],s[a++])}function UN(i,t,e,n,r){const o=gi(null);try{const s=i.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==i.setInput?i.setInput(t,r,e,n):t[n]=r}finally{gi(o)}}function cJ(i,t,e){let n=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(i.hasOwnProperty(o)){null===n&&(n=[]);const s=i[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function WN(i,t,e,n){return[i,!0,0,t,null,n,null,e,null,null]}function jN(i,t){const e=i.contentQueries;if(null!==e){const n=gi(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=i.data[s];ll(e[r]),a.contentQueries(2,t[s],s)}}}finally{gi(n)}}}function xx(i,t){return i[kr]?i[T0][cs]=t:i[kr]=t,i[T0]=t,t}function kM(i,t,e){ll(0);const n=gi(null);try{t(i,e)}finally{gi(n)}}function $N(i){return i[wd]||(i[wd]=[])}function GN(i){return i.cleanup||(i.cleanup=[])}function qN(i,t,e){return(null===i||Vo(i))&&(e=function lm(i){for(;Array.isArray(i);){if("object"==typeof i[o_])return i;i=i[ji]}return null}(e[t.index])),e[lt]}function Cx(i,t){const e=i[en],n=e?e.get(Zs,null):null;n&&n.handleError(t)}function EM(i,t,e,n,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];UN(i.data[s],t[s],n,a,r)}}function Oc(i,t,e){const n=Td(t,i);!function Ww(i,t,e){i.setValue(t,e)}(i[lt],n,e)}function KN(i,t,e,n){const r=t[je];if(256==(256&r))return;t[xd].inlineEffectRunner?.flush(),mm(t);let s=null,a=null;(function hJ(i){return 2!==i.type})(i)&&(a=function IK(i){return i[hs]??function OK(i){const t=SN.pop()??Object.create(PK);return t.lView=i,t}(i)}(t),s=Zl(a));try{B0(t),function Mr(i){return qe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&FN(i,t,e,2,n);const l=3==(3&r);if(l){const f=i.preOrderCheckHooks;null!==f&&bm(t,f,null)}else{const f=i.preOrderHooks;null!==f&&Ho(t,f,0,null),nh(t,0)}if(function fJ(i){for(let t=Hw(i);null!==t;t=zw(t)){if(!(t[je]&Jn.HasTransplantedViews))continue;const e=t[ol];for(let n=0;n<e.length;n++){AE(e[n])}}}(t),JN(t,0),null!==i.contentQueries&&jN(i,t),l){const f=i.contentCheckHooks;null!==f&&bm(t,f)}else{const f=i.contentHooks;null!==f&&Ho(t,f,1),nh(t,1)}!function HK(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)cl(~r);else{const o=r,s=e[++n],a=e[++n];Od(s,o),a(2,t[o])}}}finally{cl(-1)}}(i,t);const c=i.components;null!==c&&ZN(t,c,0);const u=i.viewQuery;if(null!==u&&kM(2,u,n),l){const f=i.viewCheckHooks;null!==f&&bm(t,f)}else{const f=i.viewHooks;null!==f&&Ho(t,f,2),nh(t,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),t[Ed]){for(const f of t[Ed])f();t[Ed]=null}t[je]&=-73}catch(l){throw cm(t),l}finally{null!==a&&(Wr(a,s),function RK(i){i.lView[hs]!==i&&(i.lView=null,SN.push(i))}(a)),th()}}function JN(i,t){for(let e=Hw(i);null!==e;e=zw(e)){e[je]&=~Jn.HasChildViewsToRefresh;for(let n=mi;n<e.length;n++)YN(e[n],t)}}function mJ(i,t,e){YN(Yr(t,i),e)}function YN(i,t){m_(i)&&XN(i,t)}function XN(i,t){const n=i[le],r=i[je],o=i[hs];let s=!!(0===t&&16&r);if(s||=!!(64&r&&0===t),s||=!!(1024&r),s||=!(!o?.dirty||!Bs(o)),o&&(o.dirty=!1),i[je]&=-9217,s)KN(n,i,n.template,i[fi]);else if(8192&r){JN(i,1);const a=n.components;null!==a&&ZN(i,a,1)}}function ZN(i,t,e){for(let n=0;n<t.length;n++)mJ(i,t[n],e)}function xb(i){for(;i;){i[je]|=64;const t=vh(i);if(s_(i)&&!t)return i;i=t}return null}class Cb{get rootNodes(){const t=this._lView,e=t[le];return yb(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fi]}set context(t){this._lView[fi]=t}get destroyed(){return 256==(256&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[$t];if(wn(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(wh(t,n),Ir(e,n))}this._attachedToViewContainer=!1}jm(this._lView[le],this._lView)}onDestroy(t){Sr(this._lView,t)}markForCheck(){xb(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-129}reattach(){V0(this._lView),this._lView[je]|=128}detectChanges(){!function SM(i,t=!0){const e=i[xd],n=e.rendererFactory,r=e.afterRenderEventManager;n.begin?.(),r?.begin();try{const s=i[le];KN(s,i,s.template,i[fi]),function uJ(i){let t=0;for(;g_(i);){if(100===t)throw new z(103,!1);t++,XN(i,1)}}(i)}catch(s){throw t&&Cx(i,s),s}finally{n.end?.(),e.inlineEffectRunner?.flush(),r?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RS(i,t){Ch(i,t,t[lt],2,null,null)}(this._lView[le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t}}let Nt=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=pJ}return i})();function pJ(i){return function gJ(i,t,e){if(fs(i)&&!e){const n=Yr(i.index,t);return new Cb(n,n)}return 47&i.type?new Cb(t[Bi],t):null}(ti(),G(),16==(16&i))}let Dx=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=yJ;static#t=this.__NG_ENV_ID__=e=>e}return i})();class vJ extends Dx{constructor(t){super(),this._lView=t}onDestroy(t){return Sr(this._lView,t),()=>function __(i,t){if(null===i[rl])return;const e=i[rl].indexOf(t);-1!==e&&i[rl].splice(e,1)}(this._lView,t)}}function yJ(){return new vJ(G())}const wJ=new V("",{providedIn:"root",factory:()=>te(xJ)});let xJ=(()=>{class i{static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:()=>new DJ})}return i})(),CJ=(()=>{class i{constructor(){this.queuedEffectCount=0,this.queues=new Map}scheduleEffect(e){const n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,n]of this.queues)null===e?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(const n of e)e.delete(n),this.queuedEffectCount--,n.run()}static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:()=>new i})}return i})();class DJ{constructor(){this.hasQueuedFlush=!1,this.delegate=new CJ,this.flushTask=()=>{this.delegate.flush(),this.hasQueuedFlush=!1}}scheduleEffect(t){this.delegate.scheduleEffect(t),this.hasQueuedFlush||(queueMicrotask(this.flushTask),this.hasQueuedFlush=!0)}}class kJ{constructor(t,e,n,r,o,s){this.scheduler=t,this.effectFn=e,this.creationZone=n,this.errorHandler=o,this.watcher=function ec(i,t,e){const n=Object.create(Za);e&&(n.consumerAllowSignalWrites=!0),n.fn=i,n.schedule=t;const r=l=>{n.cleanupFn=l};return n.ref={notify:()=>Ls(n),run:()=>{if(null===n.fn)return;if(function Tg(){return Ns}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(n.dirty=!1,n.hasRun&&!Bs(n))return;n.hasRun=!0;const l=Zl(n);try{n.cleanupFn(),n.cleanupFn=Fu,n.fn(r)}finally{Wr(n,l)}},cleanup:()=>n.cleanupFn(),destroy:()=>function s(l){(function o(l){return null===l.fn&&null===l.schedule})(l)||(uo(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Fu)}(n),[Pi]:n},n.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.errorHandler?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function wl(i,t){!t?.injector&&$_();const e=t?.injector??te(Xn),n=e.get(Zs,null,{optional:!0}),r=!0!==t?.manualCleanup?e.get(Dx):null,o=new kJ(e.get(wJ),i,typeof Zone>"u"?null:Zone.current,r,n,t?.allowSignalWrites??!1),s=e.get(Nt,null,{optional:!0});return s&&8&s._lView[je]?(s._lView[Ed]??=[]).push(o.watcher.notify):o.watcher.notify(),o}const QN=new Set;function Sh(i){QN.has(i)||(QN.add(i),performance?.mark?.("mark_use_counter",{detail:{feature:i}}))}function MM(i){return t=>{setTimeout(i,void 0,t)}}const pe=class EJ extends de{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=MM(o),r&&(r=MM(r)),s&&(s=MM(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof We&&t.add(a),a}};function eL(...i){}class _e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function SJ(){const i="function"==typeof Be.requestAnimationFrame;let t=Be[i?"requestAnimationFrame":"setTimeout"],e=Be[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function TJ(i){const t=()=>{!function AJ(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Be,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,TM(i),i.isCheckStableRunning=!0,AM(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),TM(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,s,a)=>{if(function OJ(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return tL(i),e.invokeTask(r,o,s,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&t(),iL(i)}},onInvoke:(e,n,r,o,s,a,l)=>{try{return tL(i),e.invoke(r,o,s,a,l)}finally{i.shouldCoalesceRunChangeDetection&&t(),iL(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,TM(i),AM(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new z(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,MJ,eL,eL);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const MJ={};function AM(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function TM(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function tL(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function iL(i){i._nesting--,AM(i)}class IJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}const nL=new V("",{providedIn:"root",factory:rL});function rL(){const i=te(_e);let t=!0;return Wi(new zt(r=>{t=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(t),r.complete()})}),new zt(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=i.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t&&(t=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(xr()))}var Mh=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Mh||{});const oL={destroy(){}};function aL(i,t){!t&&$_();const e=t?.injector??te(Xn);if(!function Ke(i){return"browser"===(i??te(Xn)).get(kc)}(e))return oL;Sh("NgAfterNextRender");const n=e.get(kx),r=n.handler??=new cL,o=t?.phase??Mh.MixedReadWrite,s=()=>{r.unregister(l),a()},a=e.get(Dx).onDestroy(s),l=new lL(e,o,()=>{s(),i()});return r.register(l),{destroy:s}}class lL{constructor(t,e,n){this.phase=e,this.callbackFn=n,this.zone=t.get(_e),this.errorHandler=t.get(Zs,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class cL{constructor(){this.executingCallbacks=!1,this.buckets={[Mh.EarlyRead]:new Set,[Mh.Write]:new Set,[Mh.MixedReadWrite]:new Set,[Mh.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new z(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const e of t)e.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let kx=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const e of this.internalCallbacks)e();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:()=>new i})}return i})();function PJ(i,t){const e=Yr(t,i),n=e[le];!function FJ(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}(n,e);const r=e[ji];null!==r&&null===e[ds]&&(e[ds]=cM(r,e[en])),IM(n,e,e[fi])}function IM(i,t,e){mm(t);try{const n=i.viewQuery;null!==n&&kM(1,n,e);const r=i.template;null!==r&&FN(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jN(i,t),i.staticViewQueries&&kM(2,i.viewQuery,e);const o=i.components;null!==o&&function NJ(i,t){for(let e=0;e<t.length;e++)PJ(i,t[e])}(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[je]&=-5,th()}}function Ex(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Gg(r,a):2==o&&(n=Gg(n,a+": "+t[++s]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}class dL extends Zm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new Db(e,this.ngModule)}}function uL(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}class BJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=uc(n);const r=this.injector.get(t,fM,n);return r!==fM||e===fM?r:this.parentInjector.get(t,e,n)}}class Db extends bN{get inputs(){const t=this.componentDef,e=t.inputTransforms,n=uL(t.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return uL(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Gu(i){return i.map(em).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){let o=(r=r||this.ngModule)instanceof Wo?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new BJ(t,o):t,a=s.get(hM,null);if(null===a)throw new z(407,!1);const u={rendererFactory:a,sanitizer:s.get(vK,null),inlineEffectRunner:null,afterRenderEventManager:s.get(kx,null)},f=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=n?function UK(i,t,e,n){const o=n.get(TN,!1)||e===No.ShadowDom,s=i.selectRootElement(t,o);return function WK(i){LN(i)}(s),s}(f,n,this.componentDef.encapsulation,s):yh(f,p,function LJ(i){const t=i.toLowerCase();return"svg"===t?h_:"math"===t?"math":null}(p)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==g&&(S=cM(g,s,!0));const A=wM(0,null,null,1,0,null,null,null,null,null,null),L=wx(null,A,null,D,null,null,u,f,s,null,S);let H,W;mm(L);try{const ie=this.componentDef;let se,Ue=null;ie.findHostDirectiveDefs?(se=[],Ue=new Map,ie.findHostDirectiveDefs(ie,se,Ue),se.push(ie)):se=[ie];const ct=function HJ(i,t){const e=i[le],n=tt;return i[n]=t,ep(e,n,2,"#host",null)}(L,g),mt=function zJ(i,t,e,n,r,o,s){const a=r[le];!function UJ(i,t,e,n){for(const r of i)t.mergedAttrs=bd(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Ex(t,t.mergedAttrs,!0),null!==e&&ix(n,e,t))}(n,i,t,s);let l=null;null!==t&&(l=cM(t,r[en]));const c=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const f=wx(r,NN(e),null,u,r[i.index],i,o,c,null,null,l);return a.firstCreatePass&&CM(a,i,n.length-1),xx(r,f),r[i.index]=f}(ct,g,ie,se,L,u,f);W=Yu(A,tt),g&&function jJ(i,t,e,n){if(n)In(i,e,["ng-version",yK.full]);else{const{attrs:r,classes:o}=function S0(i){const t=[],e=[];let n=1,r=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===r?""!==o&&t.push(o,i[++n]):8===r&&e.push(o);else{if(!Dr(r))break;r=o}n++}return{attrs:t,classes:e}}(t.selectors[0]);r&&In(i,e,r),o&&o.length>0&&tx(i,e,o.join(" "))}}(f,ie,g,n),void 0!==e&&function $J(i,t,e){const n=i.projection=[];for(let r=0;r<t.length;r++){const o=e[r];n.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,e),H=function WJ(i,t,e,n,r,o){const s=ti(),a=r[le],l=Er(s,r);HN(a,r,s,e,null,n);for(let u=0;u<e.length;u++)fr(_c(r,a,s.directiveStart+u,s),r);zN(a,r,s),l&&fr(l,r);const c=_c(r,a,s.directiveStart+s.componentOffset,s);if(i[fi]=r[fi]=c,null!==o)for(const u of o)u(c,t);return bM(a,s,i),c}(mt,ie,se,Ue,L,[GJ]),IM(A,L,null)}finally{th()}return new VJ(this.componentType,H,Qm(W,L),L,W)}}class VJ extends fK{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Cb(r,void 0,!1),this.componentType=t}setInput(t,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;EM(o[le],o,r,t,e),this.previousInputValues.set(t,e),xb(Yr(this._tNode.index,o))}}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function GJ(){const i=ti();_m(G()[le],i)}function Me(i){let t=function hL(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let r;if(Vo(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);const s=i;s.inputs=Sx(i.inputs),s.inputTransforms=Sx(i.inputTransforms),s.declaredInputs=Sx(i.declaredInputs),s.outputs=Sx(i.outputs);const a=r.hostBindings;a&&YJ(i,a);const l=r.viewQuery,c=r.contentQueries;if(l&&KJ(i,l),c&&JJ(i,c),Bu(i.inputs,r.inputs),Bu(i.declaredInputs,r.declaredInputs),Bu(i.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Bu(s.inputTransforms,r.inputTransforms)),Vo(r)&&r.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(i),a===Me&&(e=!1)}}t=Object.getPrototypeOf(t)}!function qJ(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=bd(r.hostAttrs,e=bd(e,r.hostAttrs))}}(n)}function Sx(i){return i===Gs?{}:i===jt?[]:i}function KJ(i,t){const e=i.viewQuery;i.viewQuery=e?(n,r)=>{t(n,r),e(n,r)}:t}function JJ(i,t){const e=i.contentQueries;i.contentQueries=e?(n,r,o)=>{t(n,r,o),e(n,r,o)}:t}function YJ(i,t){const e=i.hostBindings;i.hostBindings=e?(n,r)=>{t(n,r),e(n,r)}:t}function er(i){const t=i.inputConfig,e={};for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];Array.isArray(r)&&r[2]&&(e[n]=r[2])}i.inputTransforms=e}function xl(i,t,e){return i[t]=e}function Pn(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Ah(i,t,e,n){const r=Pn(i,t,e);return Pn(i,t+1,n)||r}function ze(i,t,e,n){const r=G();return Pn(r,xn(),t)&&(bt(),yl(ai(),r,i,t,e,n)),ze}function ip(i,t,e,n){return Pn(i,xn(),e)?t+at(e)+n:yt}function np(i,t,e,n,r,o){const a=Ah(i,function Js(){return qe.lFrame.bindingIndex}(),e,r);return Aa(2),a?t+at(e)+n+at(r)+o:yt}function Ax(i,t){return i<<17|t<<2}function Yd(i){return i>>17&32767}function OM(i){return 2|i}function Th(i){return(131068&i)>>2}function RM(i,t){return-131069&i|t<<2}function PM(i){return 1|i}function kL(i,t,e,n,r){const o=i[e+1],s=null===t;let a=n?Yd(o):Th(o),l=!1;for(;0!==a&&(!1===l||s);){const u=i[a+1];aY(i[a],t)&&(l=!0,i[a+1]=n?PM(u):OM(u)),a=n?Yd(u):Th(u)}l&&(i[e+1]=n?OM(o):PM(o))}function aY(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&zd(i,t)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function EL(i){return i.substring(tr.key,tr.keyEnd)}function SL(i,t){const e=tr.textEnd;return e===t?-1:(t=tr.keyEnd=function uY(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}(i,tr.key=t,e),dp(i,t,e))}function dp(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function j(i,t,e){const n=G();return Pn(n,xn(),t)&&ys(bt(),ai(),n,i,t,n[lt],e,!1),j}function FM(i,t,e,n,r){const s=r?"class":"style";EM(i,e,t.inputs[s],s,n)}function Cl(i,t,e){return Fa(i,t,e,!1),Cl}function Ae(i,t){return Fa(i,t,null,!0),Ae}function up(i){Na(yY,kl,i,!0)}function kl(i,t){for(let e=function cY(i){return function AL(i){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=i.length}(i),SL(i,dp(i,0,tr.textEnd))}(t);e>=0;e=SL(t,e))go(i,EL(t),!0)}function Fa(i,t,e,n){const r=G(),o=bt(),s=Aa(2);o.firstUpdatePass&&RL(o,i,s,n),t!==yt&&Pn(r,s,t)&&FL(o,o.data[hr()],r,r[lt],i,r[s+1]=function xY(i,t){return null==i||""===i||("string"==typeof t?i+=t:"object"==typeof i&&(i=Ut(bo(i)))),i}(t,e),n,s)}function Na(i,t,e,n){const r=bt(),o=Aa(2);r.firstUpdatePass&&RL(r,null,o,n);const s=G();if(e!==yt&&Pn(s,o,e)){const a=r.data[hr()];if(LL(a,n)&&!OL(r,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Gg(l,e||"")),FM(r,a,s,e,n)}else!function wY(i,t,e,n,r,o,s,a){r===yt&&(r=jt);let l=0,c=0,u=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==u||null!==f;){const p=l<r.length?r[l+1]:void 0,g=c<o.length?o[c+1]:void 0;let v,b=null;u===f?(l+=2,c+=2,p!==g&&(b=f,v=g)):null===f||null!==u&&u<f?(l+=2,b=u):(c+=2,b=f,v=g),null!==b&&FL(i,t,e,n,b,v,s,a),u=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[lt],s[o+1],s[o+1]=function vY(i,t,e){if(null==e||""===e)return jt;const n=[],r=bo(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else"string"==typeof r&&t(n,r);return n}(i,t,e),n,o)}}function OL(i,t){return t>=i.expandoStartIndex}function RL(i,t,e,n){const r=i.data;if(null===r[e+1]){const o=r[hr()],s=OL(i,e);LL(o,n)&&null===t&&!s&&(t=!1),t=function pY(i,t,e,n){const r=C_(i);let o=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(e=Eb(e=NM(null,i,t,e,n),t.attrs,n),o=null);else{const s=t.directiveStylingLast;if(-1===s||i[s]!==r)if(e=NM(r,i,t,e,n),null===o){let l=function gY(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==Th(n))return i[Yd(n)]}(i,t,n);void 0!==l&&Array.isArray(l)&&(l=NM(null,i,t,l[1],n),l=Eb(l,t.attrs,n),function _Y(i,t,e,n){i[Yd(e?t.classBindings:t.styleBindings)]=n}(i,t,n,l))}else o=function bY(i,t,e){let n;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)n=Eb(n,i[o].hostAttrs,e);return Eb(n,t.attrs,e)}(i,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,n),function oY(i,t,e,n,r,o){let s=o?t.classBindings:t.styleBindings,a=Yd(s),l=Th(s);i[n]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||zd(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const p=Yd(i[a+1]);i[n+1]=Ax(p,a),0!==p&&(i[p+1]=RM(i[p+1],n)),i[a+1]=function nY(i,t){return 131071&i|t<<17}(i[a+1],n)}else i[n+1]=Ax(a,0),0!==a&&(i[a+1]=RM(i[a+1],n)),a=n;else i[n+1]=Ax(l,0),0===a?a=n:i[l+1]=RM(i[l+1],n),l=n;c&&(i[n+1]=OM(i[n+1])),kL(i,u,n,!0),kL(i,u,n,!1),function sY(i,t,e,n,r){const o=r?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof t&&zd(o,t)>=0&&(e[n+1]=PM(e[n+1]))}(t,u,i,n,o),s=Ax(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,n)}}function NM(i,t,e,n,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],n=Eb(n,o.hostAttrs,r),o!==i);)a++;return null!==i&&(e.directiveStylingLast=a),n}function Eb(i,t,e){const n=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),go(i,s,!!e||t[++o]))}return void 0===i?null:i}function yY(i,t,e){const n=String(t);""!==n&&!n.includes(" ")&&go(i,n,e)}function FL(i,t,e,n,r,o,s,a){if(!(3&t.type))return;const l=i.data,c=l[a+1],u=function rY(i){return 1==(1&i)}(c)?NL(l,t,e,r,Th(c),s):void 0;Tx(u)||(Tx(o)||function iY(i){return 2==(2&i)}(c)&&(o=NL(l,null,e,r,a,s)),function zS(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=-1===n.indexOf("-")?void 0:bl.DashCase;null==r?i.removeStyle(e,n,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=bl.Important),i.setStyle(e,n,r,o))}}(n,s,Td(hr(),e),r,o))}function NL(i,t,e,n,r,o){const s=null===t;let a;for(;r>0;){const l=i[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let p=e[r+1];p===yt&&(p=f?jt:void 0);let g=f?L_(p,n):u===n?p:void 0;if(c&&!Tx(g)&&(g=L_(l,n)),Tx(g)&&(a=g,s))return a;const b=i[r+1];r=s?Yd(b):Th(b)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=L_(l,n))}return a}function Tx(i){return void 0!==i}function LL(i,t){return 0!=(i.flags&(t?8:16))}function hp(i,t,e){Na(go,kl,ip(G(),i,t,e),!0)}let WL=(i,t)=>null;function fp(i,t){return WL(i,t)}class QY{destroy(t){}updateValue(t,e){}swap(t,e){const n=Math.min(t,e),r=Math.max(t,e),o=this.detach(r);if(r-n>1){const s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(t,e){this.attach(e,this.detach(t))}}function UM(i,t,e,n,r){return i===e&&Object.is(t,n)?1:Object.is(r(i,t),r(e,n))?-1:0}function WM(i,t,e,n){return!(void 0===t||!t.has(n)||(i.attach(e,t.get(n)),t.delete(n),0))}function jL(i,t,e,n,r){if(WM(i,t,n,e(n,r)))i.updateValue(n,r);else{const o=i.create(n,r);i.attach(n,o)}}function $L(i,t,e,n){const r=new Set;for(let o=t;o<=e;o++)r.add(n(o,i.at(o)));return r}class GL{constructor(){this.map=new Map}has(t){const e=this.map.get(t);return void 0!==e&&e.length>0}delete(t){const e=this.map.get(t);return void 0!==e&&(e.shift(),!0)}get(t){const e=this.map.get(t);return void 0!==e&&e.length>0?e[0]:void 0}set(t,e){this.map.has(t)?this.map.get(t)?.push(e):this.map.set(t,[e])}forEach(t){for(const[e,n]of this.map)for(const r of n)t(r,e)}}function Ib(i,t,e,n){const r=t.tView,a=wx(i,r,e,4096&i[je]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[qu]=i[t.index];const c=i[us];return null!==c&&(a[us]=c.createEmbeddedView(r)),IM(r,a,e),a}function qL(i,t){const e=mi+t;if(e<i.length)return i[e]}function mp(i,t){return!t||null===t.firstChild||Hm(i)}function Ob(i,t,e,n=!0){const r=t[le];if(function $w(i,t,e,n){const r=mi+n,o=e.length;n>0&&(e[r-1][cs]=t),n<o-mi?(t[cs]=e[r],sw(e,mi+n,t)):(e.push(t),t[cs]=null),t[$t]=e;const s=t[qu];null!==s&&e!==s&&function PS(i,t){const e=i[ol];t[Bi]!==t[$t][$t][Bi]&&(i[je]|=Jn.HasTransplantedViews),null===e?i[ol]=[t]:e.push(t)}(s,t);const a=t[us];null!==a&&a.insertView(i),V0(t),t[je]|=128}(r,t,i,e),n){const s=db(e,i),a=t[lt],l=$m(a,i[qs]);null!==l&&function OS(i,t,e,n,r,o){n[ji]=r,n[dr]=t,Ch(i,n,e,1,r,o)}(r,i[dr],a,t,l,s)}const o=t[ds];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function jM(i,t){const e=wh(i,t);return void 0!==e&&jm(e[le],e),e}let Fr=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=tX}return i})();function tX(){return YL(ti(),G())}const iX=Fr,KL=class extends iX{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Qm(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ul(this._hostTNode,this._hostLView);if(T_(t)){const e=sh(t,this._hostLView),n=oh(t);return new hn(e[le].data[n+8],e)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=JL(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(t,e,n){let r,o;"number"==typeof n?r=n:null!=n&&(r=n.index,o=n.injector);const s=fp(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,mp(this._hostTNode,s)),a}createComponent(t,e,n,r,o){const s=t&&!function lh(i){return"function"==typeof i}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,n=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const l=s?t:new Db(Dt(t)),c=n||this.parentInjector;if(!o&&null==l.ngModule){const v=(s?c:this.parentInjector).get(Wo,null);v&&(o=v)}const u=Dt(l.componentType??{}),f=fp(this._lContainer,u?.id??null),g=l.create(c,r,f?.firstChild??null,o);return this.insertImpl(g.hostView,a,mp(this._hostTNode,f)),g}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){const r=t._lView;if(function p_(i){return wn(i[$t])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=r[$t],c=new KL(l,l[dr],l[$t]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;return Ob(s,r,o,n),t.attachToViewContainerRef(),sw($M(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=JL(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=wh(this._lContainer,e);n&&(Ir($M(this._lContainer),e),jm(n[le],n))}detach(t){const e=this._adjustIndex(t,-1),n=wh(this._lContainer,e);return n&&null!=Ir($M(this._lContainer),e)?new Cb(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function JL(i){return i[8]}function $M(i){return i[8]||(i[8]=[])}function YL(i,t){let e;const n=t[i.index];return wn(n)?e=n:(e=WN(n,t,null,i),t[i.index]=e,xx(t,e)),XL(e,t,i,n),new KL(e,i,t)}let XL=function QL(i,t,e,n){if(i[qs])return;let r;r=8&e.type?vi(n):function nX(i,t){const e=i[lt],n=e.createComment(""),r=Er(t,i);return Ac(e,$m(e,r),n,function BS(i,t){return i.nextSibling(t)}(e,r),!1),n}(t,e),i[qs]=r},GM=(i,t,e)=>!1;function he(i,t,e,n,r,o,s,a){const l=G(),c=bt(),u=i+tt,f=c.firstCreatePass?function aX(i,t,e,n,r,o,s,a,l){const c=t.consts,u=ep(t,i,4,s||null,it(c,a));xM(t,e,u,it(c,l)),_m(t,u);const f=u.tView=wM(2,u,n,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,n,r,o,s):c.data[u];Ks(f,!1);const p=eB(c,l,f,i);ih()&&Gm(c,l,p,f),fr(p,l);const g=WN(p,l,p,f);return l[u]=g,xx(l,g),function ZL(i,t,e){return GM(i,t,e)}(g,f,l),ms(f)&&vM(c,l,f),null!=s&&yM(l,f,a),he}let eB=function tB(i,t,e,n){return dl(!0),t[lt].createComment("")};function xe(i,t,e){Sh("NgControlFlow");const n=G(),r=xn(),o=qM(n,tt+i);if(Pn(n,r,t)){const a=gi(null);try{if(jM(o,0),-1!==t){const l=KM(n[le],tt+t),c=fp(o,l.tView.ssrId);Ob(o,Ib(n,l,e,{dehydratedView:c}),0,mp(l,c))}}finally{gi(a)}}else{const a=qL(o,0);void 0!==a&&(a[fi]=e)}}class dX{constructor(t,e,n){this.lContainer=t,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-mi}}function pp(i){return i}function Rc(i,t){return t}class uX{constructor(t,e,n){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=n}}function ir(i,t,e,n,r,o,s,a,l,c,u){Sh("NgControlFlow");const f=void 0!==l,p=G(),g=a?s.bind(p[Bi][fi]):s,b=new uX(f,g);p[tt+i]=b,he(i+1,t,e,n,r,o),f&&he(i+2,l,c,u)}class hX extends QY{constructor(t,e,n){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-mi}at(t){return this.getLView(t)[fi].$implicit}attach(t,e){const n=e[ds];this.needsIndexUpdate||=t!==this.length,Ob(this.lContainer,e,t,mp(this.templateTNode,n))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function fX(i,t){return wh(i,t)}(this.lContainer,t)}create(t,e){const n=fp(this.lContainer,this.templateTNode.tView.ssrId);return Ib(this.hostLView,this.templateTNode,new dX(this.lContainer,e,t),{dehydratedView:n})}destroy(t){jm(t[le],t)}updateValue(t,e){this.getLView(t)[fi].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[fi].$index=t}getLView(t){return function mX(i,t){return qL(i,t)}(this.lContainer,t)}}function nr(i){const t=gi(null),e=hr();try{const n=G(),r=n[le],o=n[e];if(void 0===o.liveCollection){const a=e+1,l=qM(n,a),c=KM(r,a);o.liveCollection=new hX(l,n,c)}else o.liveCollection.reset();const s=o.liveCollection;if(function eX(i,t,e){let n,r,o=0,s=i.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){const l=i.at(o),c=t[o],u=UM(o,l,o,c,e);if(0!==u){u<0&&i.updateValue(o,c),o++;continue}const f=i.at(s),p=t[a],g=UM(s,f,a,p,e);if(0!==g){g<0&&i.updateValue(s,p),s--,a--;continue}const b=e(o,l),v=e(s,f),D=e(o,c);if(Object.is(D,v)){const S=e(a,p);Object.is(S,b)?(i.swap(o,s),i.updateValue(s,p),a--,s--):i.move(s,o),i.updateValue(o,c),o++}else if(n??=new GL,r??=$L(i,o,s,e),WM(i,n,o,D))i.updateValue(o,c),o++,s++;else if(r.has(D))n.set(b,i.detach(o)),s--;else{const S=i.create(o,t[o]);i.attach(o,S),o++,s++}}for(;o<=a;)jL(i,n,e,o,t[o]),o++}else if(null!=t){const a=t[Symbol.iterator]();let l=a.next();for(;!l.done&&o<=s;){const c=i.at(o),u=l.value,f=UM(o,c,o,u,e);if(0!==f)f<0&&i.updateValue(o,u),o++,l=a.next();else{n??=new GL,r??=$L(i,o,s,e);const p=e(o,u);if(WM(i,n,o,p))i.updateValue(o,u),o++,s++,l=a.next();else if(r.has(p)){const g=e(o,c);n.set(g,i.detach(o)),s--}else i.attach(o,i.create(o,u)),o++,s++,l=a.next()}}for(;!l.done;)jL(i,n,e,i.length,l.value),l=a.next()}for(;o<=s;)i.destroy(i.detach(s--));n?.forEach(a=>{i.destroy(a)})}(s,i,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=xn(),l=0===s.length;if(Pn(n,a,l)){const c=e+2,u=qM(n,c);if(l){const f=KM(r,c),p=fp(u,f.tView.ssrId);Ob(u,Ib(n,f,void 0,{dehydratedView:p}),0,mp(f,p))}else jM(u,0)}}}finally{gi(t)}}function qM(i,t){return i[t]}function KM(i,t){return Yu(i,t)}function w(i,t,e,n){const r=G(),o=bt(),s=tt+i,a=r[lt],l=o.firstCreatePass?function $X(i,t,e,n,r,o){const s=t.consts,l=ep(t,i,2,n,it(s,r));return xM(t,e,l,it(s,o)),null!==l.attrs&&Ex(l,l.attrs,!1),null!==l.mergedAttrs&&Ex(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,n):o.data[s],c=DB(o,r,l,a,t,i);r[s]=c;const u=ms(l);return Ks(l,!0),ix(a,c,l),32!=(32&l.flags)&&ih()&&Gm(o,r,c,l),0===function H0(){return qe.lFrame.elementDepthCount}()&&fr(c,r),function po(){qe.lFrame.elementDepthCount++}(),u&&(vM(o,r,l),bM(o,l,r)),null!==n&&yM(r,l),w}function k(){let i=ti();w_()?x_():(i=i.parent,Ks(i,!1));const t=i;(function hm(i){return qe.skipHydrationRootTNode===i})(t)&&function v_(){qe.skipHydrationRootTNode=null}(),function al(){qe.lFrame.elementDepthCount--}();const e=bt();return e.firstCreatePass&&(_m(e,i),im(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function RE(i){return 0!=(8&i.flags)}(t)&&FM(e,t,G(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function A_(i){return 0!=(16&i.flags)}(t)&&FM(e,t,G(),t.stylesWithoutHost,!1),k}function $(i,t,e,n){return w(i,t,e,n),k(),$}let DB=(i,t,e,n,r,o)=>(dl(!0),yh(n,r,function Ys(){return qe.lFrame.currentNamespace}()));function ki(){return G()}function ws(i,t,e){const n=G();return Pn(n,xn(),t)&&ys(bt(),ai(),n,i,t,n[lt],e,!0),ws}function oA(i,t,e){const n=G();if(Pn(n,xn(),t)){const o=bt(),s=ai();ys(o,s,n,i,t,qN(C_(o.data),s,n),e,!0)}return oA}const Cp="en-US";let AB=Cp;function zb(i){return!!i&&"function"==typeof i.then}function e3(i){return!!i&&"function"==typeof i.subscribe}function J(i,t,e,n){const r=G(),o=bt(),s=ti();return t3(o,r,r[lt],s,i,t,n),J}function lA(i,t){const e=ti(),n=G(),r=bt();return t3(r,n,qN(C_(r.data),e,n),e,i,t),lA}function t3(i,t,e,n,r,o,s){const a=ms(n),c=i.firstCreatePass&&GN(i),u=t[fi],f=$N(t);let p=!0;if(3&n.type||s){const v=Er(n,t),D=s?s(v):v,S=f.length,A=s?H=>s(vi(H[n.index])):n.index;let L=null;if(!s&&a&&(L=function qZ(i,t,e,n){const r=i.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===n){const a=t[wd],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(i,t,r,n.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,p=!1;else{o=n3(n,t,u,o,!1);const H=e.listen(D,r,o);f.push(o,H),c&&c.push(r,A,S,S+1)}}else o=n3(n,t,u,o,!1);const g=n.outputs;let b;if(p&&null!==g&&(b=g[r])){const v=b.length;if(v)for(let D=0;D<v;D+=2){const W=t[b[D]][b[D+1]].subscribe(o),ie=f.length;f.push(o,W),c&&c.push(r,n.index,ie,-(ie+1))}}}function i3(i,t,e,n){try{return ps(6,t,e),!1!==e(n)}catch(r){return Cx(i,r),!1}finally{ps(7,t,e)}}function n3(i,t,e,n,r){return function o(s){if(s===Function)return n;xb(i.componentOffset>-1?Yr(i.index,t):t);let l=i3(t,e,n,s),c=o.__ngNextListenerFn__;for(;c;)l=i3(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function Q(i=1){return function pm(i){return(qe.lFrame.contextLView=function Id(i,t){for(;i>0;)t=t[Cd],i--;return t}(i,qe.lFrame.contextLView))[fi]}(i)}function KZ(i,t){let e=null;const n=function bE(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(i);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===n?hc(i,o,!0):wE(n,o))return r}else e=r}return e}function Lt(i){const t=G()[Bi][dr];if(!t.projection){const n=t.projection=ch(i?i.length:1,null),r=n.slice();let o=t.child;for(;null!==o;){const s=i?KZ(o,i):0;null!==s&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o),o=o.next}}}function ye(i,t=0,e){const n=G(),r=bt(),o=ep(r,tt+i,16,null,e||null);null===o.projection&&(o.projection=t),x_(),(!n[ds]||mc())&&32!=(32&o.flags)&&function VS(i,t,e){ex(t[lt],0,t,e,sb(i,e,t),Kw(e.parent||t[dr],e,t))}(r,n,o)}function Gi(i,t,e){return cA(i,"",t,"",e),Gi}function cA(i,t,e,n,r){const o=G(),s=ip(o,t,e,n);return s!==yt&&ys(bt(),ai(),o,i,s,o[lt],r,!1),cA}function Nn(i){return sl(function W0(){return qe.lFrame.contextLView}(),tt+i)}function I(i,t=""){const e=G(),n=bt(),r=i+tt,o=n.firstCreatePass?ep(n,r,1,t,null):n.data[r],s=w3(n,e,o,t,i);e[r]=s,ih()&&Gm(n,e,s,o),Ks(o,!1)}let w3=(i,t,e,n,r)=>(dl(!0),function Wm(i,t){return i.createText(t)}(t[lt],n));function Ot(i){return ii("",i,""),Ot}function ii(i,t,e){const n=G(),r=ip(n,i,t,e);return r!==yt&&Oc(n,hr(),r),ii}function Rh(i,t,e,n,r){const o=G(),s=np(o,i,t,e,n,r);return s!==yt&&Oc(o,hr(),s),Rh}function dA(i,t,e,n,r){if(i=Le(i),Array.isArray(i))for(let o=0;o<i.length;o++)dA(i[o],t,e,n,r);else{const o=bt(),s=G(),a=ti();let l=xc(i)?i:Le(i.provide);const c=vw(i),u=1048575&a.providerIndexes,f=a.directiveStart,p=a.providerIndexes>>20;if(xc(i)||!i.multi){const g=new He(c,r,C),b=hA(l,t,r?u:u+p,f);-1===b?(km(Rd(a,s),o,l),uA(o,i,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(g),s.push(g)):(e[b]=g,s[b]=g)}else{const g=hA(l,t,u+p,f),b=hA(l,t,u,u+p),D=b>=0&&e[b];if(r&&!D||!r&&!(g>=0&&e[g])){km(Rd(a,s),o,l);const S=function dQ(i,t,e,n,r){const o=new He(i,e,C);return o.multi=[],o.index=t,o.componentProviders=0,A3(o,r,n&&!e),o}(r?cQ:lQ,e.length,r,n,c);!r&&D&&(e[b].providerFactory=S),uA(o,i,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(S),s.push(S)}else uA(o,i,g>-1?g:b,A3(e[r?b:g],c,!r&&n));!r&&n&&D&&e[b].componentProviders++}}}function uA(i,t,e,n){const r=xc(t),o=function lS(i){return!!i.useClass}(t);if(r||o){const l=(o?Le(t.useClass):t).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function A3(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function hA(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function lQ(i,t,e,n){return fA(this.multi,[])}function cQ(i,t,e,n){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=_c(e,e[le],this.providerFactory.index,n);o=a.slice(0,s),fA(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fA(r,o);return o}function fA(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function Te(i,t=[]){return e=>{e.providersResolver=(n,r)=>function aQ(i,t,e){const n=bt();if(n.firstCreatePass){const r=Vo(i);dA(e,n.data,n.blueprint,r,!0),dA(t,n.data,n.blueprint,r,!1)}}(n,r?r(i):i,t)}}class Ph{}class T3{}class mA extends Ph{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dL(this);const r=cr(t);this._bootstrapComponents=Cn(r.bootstrap),this._r3Injector=J_(t,e,[{provide:Ph,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver},...n],Ut(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pA extends T3{constructor(t){super(),this.moduleType=t}create(t){return new mA(this.moduleType,t,[])}}class I3 extends Ph{constructor(t){super(),this.componentFactoryResolver=new dL(this),this.instance=null;const e=new jd([...t.providers,{provide:Ph,useValue:this},{provide:Zm,useValue:this.componentFactoryResolver}],t.parent||Rm(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function gA(i,t,e=null){return new I3({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let fQ=(()=>{class i{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=mw(0,e.type),r=n.length>0?gA([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=oe({token:i,providedIn:"environment",factory:()=>new i(U(Wo))})}return i})();function pi(i){Sh("NgStandalone"),i.getStandaloneInjector=t=>t.get(fQ).getOrCreateStandaloneInjector(i)}function Fh(i,t,e){const n=ur()+i,r=G();return r[n]===yt?xl(r,n,e?t.call(e):t()):function kb(i,t){return i[t]}(r,n)}function Ub(i,t,e,n){return H3(G(),ur(),i,t,e,n)}function V3(i,t,e,n,r){return function z3(i,t,e,n,r,o,s){const a=t+e;return Ah(i,a,r,o)?xl(i,a+2,s?n.call(s,r,o):n(r,o)):Wb(i,a+2)}(G(),ur(),i,t,e,n,r)}function Wb(i,t){const e=i[t];return e===yt?void 0:e}function H3(i,t,e,n,r,o){const s=t+e;return Pn(i,s,r)?xl(i,s+1,o?n.call(o,r):n(r)):Wb(i,s+1)}function Nh(i,t){const e=bt();let n;const r=i+tt;e.firstCreatePass?(n=function IQ(i,t){if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(i===n.name)return n}}(t,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];const o=n.factory||(n.factory=fc(n.type)),a=B(C);try{const l=Dm(!1),c=o();return Dm(l),function JZ(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}(e,G(),r,c),c}finally{B(a)}}function Lh(i,t,e){const n=i+tt,r=G(),o=sl(r,n);return function jb(i,t){return i[le].data[t].pure}(r,n)?H3(r,ur(),t,o.transform,e,o):o.transform(e)}function NQ(){return this._results[Symbol.iterator]()}class Pc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new pe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Pc.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=NQ)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=function Zr(i){return i.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function WE(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=t[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let qo=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=VQ}return i})();const LQ=qo,BQ=class extends LQ{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,n){const r=Ib(this._declarationLView,this._declarationTContainer,t,{injector:e,dehydratedView:n});return new Cb(r)}};function VQ(){return Gx(ti(),G())}function Gx(i,t){return 4&i.type?new BQ(t,i,Qm(i,t)):null}class bA{constructor(t){this.queryList=t,this.matches=null}clone(){return new bA(this.queryList)}setDirty(){this.queryList.setDirty()}}class vA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new vA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==J3(t,e).matches&&this.queries[e].setDirty()}}class $3{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class yA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,o=this.getByIndex(n).embeddedTView(t,r);o&&(o.indexInDeclarationView=n,null!==e?e.push(o):e=[o])}return null!==e?new yA(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const o=n[r];this.matchTNodeWithReadOption(t,e,HQ(e,o)),this.matchTNodeWithReadOption(t,e,ah(e,t,o,!1,!1))}else n===qo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ah(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ke||r===Fr||r===qo&&4&e.type)this.addMatch(e.index,-2);else{const o=ah(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function HQ(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function UQ(i,t,e,n){return-1===e?function zQ(i,t){return 11&i.type?Qm(i,t):4&i.type?Gx(i,t):null}(t,i):-2===e?function WQ(i,t,e){return e===ke?Qm(t,i):e===qo?Gx(t,i):e===Fr?YL(t,i):void 0}(i,t,n):_c(i,i[le],e,t)}function G3(i,t,e,n){const r=t[us].queries[n];if(null===r.matches){const o=i.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:UQ(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function xA(i,t,e,n){const r=i.queries.getByIndex(e),o=r.matches;if(null!==o){const s=G3(i,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)n.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let f=mi;f<u.length;f++){const p=u[f];p[qu]===p[$t]&&xA(p[le],p,c,n)}if(null!==u[ol]){const f=u[ol];for(let p=0;p<f.length;p++){const g=f[p];xA(g[le],g,c,n)}}}}}return n}function fe(i){const t=G(),e=bt(),n=D_();ll(n+1);const r=J3(e,n);if(i.dirty&&function f_(i){return 4==(4&i[je])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)i.reset([]);else{const o=r.crossesNgTemplate?xA(e,t,n,[]):G3(e,t,r,n);i.reset(o,_K),i.notifyOnChanges()}return!0}return!1}function Ft(i,t,e){const n=bt();n.firstCreatePass&&(K3(n,new $3(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),q3(n,G(),t)}function ut(i,t,e,n){const r=bt();if(r.firstCreatePass){const o=ti();K3(r,new $3(t,e,n),o.index),function $Q(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(r,i),2==(2&e)&&(r.staticContentQueries=!0)}q3(r,G(),e)}function me(){return function jQ(i,t){return i[us].queries[t].queryList}(G(),D_())}function q3(i,t,e){const n=new Pc(4==(4&e));(function GK(i,t,e,n){const r=$N(t);r.push(e),i.firstCreatePass&&GN(i).push(n,r.length-1)})(i,t,n,n.destroy),null===t[us]&&(t[us]=new vA),t[us].queries.push(new bA(n))}function K3(i,t,e){null===i.queries&&(i.queries=new yA),i.queries.track(new wA(t,e))}function J3(i,t){return i.queries.getByIndex(t)}function $b(i,t){return Gx(i,t)}const SA=new V("Application Initializer");let MA=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=te(SA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(zb(o))e.push(o);else if(e3(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),uV=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const El=new V("LocaleId",{providedIn:"root",factory:()=>te(El,xt.Optional|xt.SkipSelf)||function fee(){return typeof $localize<"u"&&$localize.locale||Cp}()});let fV=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wr(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class vee{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let mV=(()=>{class i{compileModuleSync(e){return new pA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),o=Cn(cr(e).declarations).reduce((s,a)=>{const l=Dt(a);return l&&s.push(new Db(l)),s},[]);return new vee(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const vV=new V(""),Jx=new V("");let OA,TA=(()=>{class i{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,OA||(function jee(i){OA=i}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||i)(U(_e),U(IA),U(Jx))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})(),IA=(()=>{class i{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return OA?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})(),Zd=null;const yV=new V("AllowMultipleToken"),RA=new V("PlatformDestroyListeners"),PA=new V("appBootstrapListener");function CV(i,t,e=[]){const n=`Platform: ${t}`,r=new V(n);return(o=[])=>{let s=FA();if(!s||s.injector.get(yV,!1)){const a=[...e,...o,{provide:r,useValue:!0}];i?i(a):function qee(i){if(Zd&&!Zd.get(yV,!1))throw new z(400,!1);(function wV(){!function Rg(i){is=i}(()=>{throw new z(600,!1)})})(),Zd=i;const t=i.get(kV);(function xV(i){i.get(Dw,null)?.forEach(e=>e())})(i)}(function DV(i=[],t){return Xn.create({name:t,providers:[{provide:U_,useValue:"platform"},{provide:RA,useValue:new Set([()=>Zd=null])},...i]})}(a,n))}return function Jee(i){const t=FA();if(!t)throw new z(401,!1);return t}()}}function FA(){return Zd?.get(kV)??null}let kV=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function Yee(i="zone.js",t){return"noop"===i?new IJ:"zone.js"===i?new _e(t):i}(n?.ngZone,function EV(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const o=function hQ(i,t,e){return new mA(i,t,e)}(e.moduleType,this.injector,function IV(i){return[{provide:_e,useFactory:i},{provide:wc,multi:!0,useFactory:()=>{const t=te(Zee,{optional:!0});return()=>t.initialize()}},{provide:TV,useFactory:Xee},{provide:nL,useFactory:rL}]}(()=>r)),s=o.injector.get(Zs,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Yx(this._modules,o),a.unsubscribe()})}),function SV(i,t,e){try{const n=e();return zb(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(s,r,()=>{const a=o.injector.get(MA);return a.runInitializers(),a.donePromise.then(()=>(function TB(i){yn(i,"Expected localeId to be defined"),"string"==typeof i&&(AB=i.toLowerCase().replace(/_/g,"-"))}(o.injector.get(El,Cp)||Cp),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,n=[]){const r=MV({},n);return function $ee(i,t,e){const n=new pA(e);return Promise.resolve(n)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const n=e.injector.get(Qd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new z(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(RA,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||i)(U(Xn))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function MV(i,t){return Array.isArray(t)?t.reduce(MV,i):{...i,...t}}let Qd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(TV),this.zoneIsStable=te(nL),this.componentTypes=[],this.components=[],this.isStable=te(fV).hasPendingTasks.pipe(An(e=>e?Re(!1):this.zoneIsStable),hd(),xr()),this._injector=te(Wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof bN;if(!this._injector.get(MA).done)throw!r&&function nl(i){const t=Dt(i)||Di(i)||Kn(i);return null!==t&&t.standalone}(e),new z(405,!1);let s;s=r?e:this._injector.get(Zm).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Gee(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Ph),c=s.create(Xn.NULL,[],n||s.selector,a),u=c.location.nativeElement,f=c.injector.get(vV,null);return f?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Yx(this.components,c),f?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;Yx(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(PA,[]);[...this._bootstrapListeners,...n].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Yx(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new z(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Yx(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const TV=new V("",{providedIn:"root",factory:()=>te(Zs).handleError.bind(void 0)});function Xee(){const i=te(_e),t=te(Zs);return e=>i.runOutsideAngular(()=>t.handleError(e))}let Zee=(()=>{class i{constructor(){this.zone=te(_e),this.applicationRef=te(Qd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ote=CV(null,"core",[]);let ste=(()=>{class i{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||i)(U(Qd))};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();function ht(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function QV(i,t=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?t:Number(i)}let jA=null;function eu(){return jA}class Ite{}const nt=new V("DocumentToken");let $A=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(Rte),providedIn:"platform"})}return i})();const Ote=new V("Location Initialized");let Rte=(()=>{class i extends $A{constructor(){super(),this._doc=te(nt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eu().getBaseHref(this._doc)}onPopState(e){const n=eu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=eu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function GA(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function e4(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Fc(i){return i&&"?"!==i[0]?"?"+i:i}let Vh=(()=>{class i{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(i4),providedIn:"root"})}return i})();const t4=new V("appBaseHref");let i4=(()=>{class i extends Vh{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??te(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return GA(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Fc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){const s=this.prepareExternalUrl(r+Fc(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){const s=this.prepareExternalUrl(r+Fc(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U($A),U(t4,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pte=(()=>{class i extends Vh{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=GA(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Fc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Fc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U($A),U(t4,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})(),Sp=(()=>{class i{constructor(e){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function Lte(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(e4(n4(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Fc(n))}normalize(e){return i.stripTrailingSlash(function Nte(i,t){if(!i||!t.startsWith(i))return t;const e=t.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,n4(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fc(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fc(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=Fc;static#t=this.joinWithSlash=GA;static#i=this.stripTrailingSlash=e4;static#n=this.\u0275fac=function(n){return new(n||i)(U(Vh))};static#r=this.\u0275prov=oe({token:i,factory:()=>function Fte(){return new Sp(U(Vh))}(),providedIn:"root"})}return i})();function n4(i){return i.replace(/\/index.html$/,"")}const iT=/\s+/,h4=[];let pC=(()=>{class i{constructor(e,n,r,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=o,this.initialClasses=h4,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(iT):h4}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(iT):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(iT).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||i)(C(vx),C(vb),C(ke),C(Ic))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return i})(),p4=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new kie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){g4("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){g4("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||i)(C(Fr),C(qo))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class kie{constructor(){this.$implicit=null,this.ngIf=null}}function g4(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Ut(t)}'.`)}let oT=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,r),get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static#e=this.\u0275fac=function(n){return new(n||i)(C(Fr))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[tn]})}return i})();class Iie{createSubscription(t,e){return _x(()=>t.subscribe({next:e,error:n=>{throw n}}))}dispose(t){_x(()=>t.unsubscribe())}}class Oie{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}}const Rie=new Oie,Pie=new Iie;let b4=(()=>{class i{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(zb(e))return Rie;if(e3(e))return Pie;throw function Ba(i,t){return new z(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt,16))};static#t=this.\u0275pipe=Kr({name:"async",type:i,pure:!1,standalone:!0})}return i})(),Bc=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const y4="browser";function w4(i){return"server"===i}let ine=(()=>{class i{static#e=this.\u0275prov=oe({token:i,providedIn:"root",factory:()=>new nne(U(nt),window)})}return i})();class nne{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function rne(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Mne extends Ite{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dT extends Mne{static makeCurrent(){!function Tte(i){jA||(jA=i)}(new dT)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ane(){return Qb=Qb||document.querySelector("base"),Qb?Qb.getAttribute("href"):null}();return null==e?null:function Tne(i){return new URL(i,"http://a").pathname}(e)}resetBaseElement(){Qb=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wie(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[r,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Qb=null,One=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();const uT=new V("EventManagerPlugins");let k4=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new z(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||i)(U(uT),U(_e))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();class E4{constructor(t){this._doc=t}}const hT="ng-app-id";let S4=(()=>{class i{constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=w4(o),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${hT}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=n,o.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,o=r?.get(n);if(o?.parentNode===e)return r.delete(n),o.removeAttribute(hT),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(hT,this.appId),e.appendChild(s),s}}addStyleToHost(e,n){const r=this.getStyleElement(e,n),o=this.styleRef,s=o.get(n)?.elements;s?s.push(r):o.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(fh),U(Z_,8),U(kc))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();const fT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mT=/%COMP%/g,Nne=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function A4(i,t){return t.map(e=>e.replace(mT,i))}let pT=(()=>{class i{constructor(e,n,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=w4(a),this.defaultRenderer=new gT(e,s,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===No.ShadowDom&&(n={...n,encapsulation:No.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof I4?r.applyToHost(e):r instanceof _T&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let o=r.get(n.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case No.Emulated:o=new I4(l,c,n,this.appId,u,s,a,f);break;case No.ShadowDom:return new Hne(l,c,e,n,s,a,this.nonce,f);default:o=new _T(l,c,n,u,s,a,f)}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(U(k4),U(S4),U(fh),U(Nne),U(nt),U(kc),U(_e),U(Z_))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();class gT{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(fT[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(T4(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(T4(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new z(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const o=fT[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=fT[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(bl.DashCase|bl.Important)?t.style.setProperty(e,n,r&bl.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&bl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){null!=t&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if("string"==typeof t&&!(t=eu().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function T4(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class Hne extends gT{constructor(t,e,n,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=A4(r.id,r.styles);for(const u of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _T extends gT{constructor(t,e,n,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?A4(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class I4 extends _T{constructor(t,e,n,r,o,s,a,l){const c=r+"-"+n.id;super(t,e,n,o,s,a,l,c),this.contentAttr=function Lne(i){return"_ngcontent-%COMP%".replace(mT,i)}(c),this.hostAttr=function Bne(i){return"_nghost-%COMP%".replace(mT,i)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}let zne=(()=>{class i extends E4{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();const O4=["alt","control","meta","shift"],Une={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wne={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let jne=(()=>{class i extends E4{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,r){const o=i.parseEventName(n),s=i.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eu().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const o=i._normalizeKey(n.pop());let s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),O4.forEach(c=>{const u=n.indexOf(c);u>-1&&(n.splice(u,1),s+=c+".")}),s+=o,0!=n.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,n){let r=Une[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),O4.forEach(s=>{s!==r&&(0,Wne[s])(e)&&(o+=s+".")}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();const Kne=CV(ote,"browser",[{provide:kc,useValue:y4},{provide:Dw,useValue:function $ne(){dT.makeCurrent()},multi:!0},{provide:nt,useFactory:function qne(){return function gS(i){Nm=i}(document),document},deps:[]}]),Jne=new V(""),F4=[{provide:Jx,useClass:class Ine{addToWindow(t){Be.getAngularTestability=(n,r=!0)=>{const o=t.findTestabilityInTree(n,r);if(null==o)throw new z(5103,!1);return o},Be.getAllAngularTestabilities=()=>t.getAllTestabilities(),Be.getAllAngularRootElements=()=>t.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(n=>{const r=Be.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&n(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?eu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:vV,useClass:TA,deps:[_e,IA,Jx]},{provide:TA,useClass:TA,deps:[_e,IA,Jx]}],N4=[{provide:U_,useValue:"root"},{provide:Zs,useFactory:function Gne(){return new Zs},deps:[]},{provide:uT,useClass:zne,multi:!0,deps:[nt,_e,kc]},{provide:uT,useClass:jne,multi:!0,deps:[nt]},pT,S4,k4,{provide:hM,useExisting:pT},{provide:class one{},useClass:One,deps:[]},[]];let L4=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:fh,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||i)(U(Jne,12))};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[...N4,...F4],imports:[Bc,ste]})}return i})(),B4=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt))};static#t=this.\u0275prov=oe({token:i,factory:function(n){let r=null;return r=n?new n:function Xne(){return new B4(U(nt))}(),r},providedIn:"root"})}return i})();typeof window<"u"&&window;let vT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:function(n){let r=null;return r=n?new(n||i):U(z4),r},providedIn:"root"})}return i})(),z4=(()=>{class i extends vT{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case _.NONE:return n;case _.HTML:return $o(n,"HTML")?bo(n):d(this._doc,String(n)).toString();case _.STYLE:return $o(n,"Style")?bo(n):n;case _.SCRIPT:if($o(n,"Script"))return bo(n);throw new z(5200,!1);case _.URL:return $o(n,"URL")?bo(n):Jm(String(n));case _.RESOURCE_URL:if($o(n,"ResourceURL"))return bo(n);throw new z(5201,!1);default:throw new z(5202,!1)}}bypassSecurityTrustHtml(e){return function YS(i){return new $S(i)}(e)}bypassSecurityTrustStyle(e){return function XS(i){return new GS(i)}(e)}bypassSecurityTrustScript(e){return function ZS(i){return new qS(i)}(e)}bypassSecurityTrustUrl(e){return function sx(i){return new KS(i)}(e)}bypassSecurityTrustResourceUrl(e){return function QS(i){return new fb(i)}(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt))};static#t=this.\u0275prov=oe({token:i,factory:function(n){let r=null;return r=n?new n:function tre(i){return new z4(i.get(nt))}(U(Xn)),r},providedIn:"root"})}return i})();const{isArray:ire}=Array,{getPrototypeOf:nre,prototype:rre,keys:ore}=Object;function W4(i){if(1===i.length){const t=i[0];if(ire(t))return{args:t,keys:null};if(function sre(i){return i&&"object"==typeof i&&nre(i)===rre}(t)){const e=ore(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:are}=Array;function yT(i){return ue(t=>function lre(i,t){return are(t)?i(...t):i(t)}(i,t))}function j4(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function $4(...i){const t=f0(i),{args:e,keys:n}=W4(i),r=new zt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let f=!1;Gn(e[u]).subscribe(ae(o,p=>{f||(f=!0,c--),a[u]=p},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(n?j4(n,a):a),o.complete())}))}});return t?r.pipe(yT(t)):r}let G4=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(Ic),C(ke))};static#t=this.\u0275dir=ne({type:i})}return i})(),Hh=(()=>{class i extends G4{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275dir=ne({type:i,features:[Me]})}return i})();const mr=new V("NgValueAccessor"),dre={provide:mr,useExisting:Ct(()=>Va),multi:!0},hre=new V("CompositionEventMode");let Va=(()=>{class i extends G4{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ure(){const i=eu()?eu().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(Ic),C(ke),C(hre,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&J("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Te([dre]),Me]})}return i})();function iu(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function K4(i){return null!=i&&"number"==typeof i.length}const pr=new V("NgValidators"),nu=new V("NgAsyncValidators"),fre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wT{static min(t){return function J4(i){return t=>{if(iu(t.value)||iu(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function Y4(i){return t=>{if(iu(t.value)||iu(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return X4(t)}static requiredTrue(t){return function Z4(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function Q4(i){return iu(i.value)||fre.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function e5(i){return t=>iu(t.value)||!K4(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function t5(i){return t=>K4(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function i5(i){if(!i)return bC;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(iu(n.value))return null;const r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return l5(t)}static composeAsync(t){return c5(t)}}function X4(i){return iu(i.value)?{required:!0}:null}function bC(i){return null}function n5(i){return null!=i}function r5(i){return zb(i)?dn(i):i}function o5(i){let t={};return i.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function s5(i,t){return t.map(e=>e(i))}function a5(i){return i.map(t=>function mre(i){return!i.validate}(t)?t:e=>t.validate(e))}function l5(i){if(!i)return null;const t=i.filter(n5);return 0==t.length?null:function(e){return o5(s5(e,t))}}function xT(i){return null!=i?l5(a5(i)):null}function c5(i){if(!i)return null;const t=i.filter(n5);return 0==t.length?null:function(e){return $4(s5(e,t).map(r5)).pipe(ue(o5))}}function CT(i){return null!=i?c5(a5(i)):null}function d5(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function u5(i){return i._rawValidators}function h5(i){return i._rawAsyncValidators}function DT(i){return i?Array.isArray(i)?i:[i]:[]}function vC(i,t){return Array.isArray(i)?i.includes(t):i===t}function f5(i,t){const e=DT(t);return DT(i).forEach(r=>{vC(e,r)||e.push(r)}),e}function m5(i,t){return DT(t).filter(e=>!vC(i,e))}class p5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xT(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=CT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ko extends p5{get formDirective(){return null}get path(){return null}}class Ha extends p5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class g5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vc=(()=>{class i extends g5{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(Ha,2))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ae("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Me]})}return i})(),kT=(()=>{class i extends g5{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ko,10))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Ae("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Me]})}return i})();const ev="VALID",wC="INVALID",Ap="PENDING",tv="DISABLED";function MT(i){return(xC(i)?i.validators:i)||null}function AT(i,t){return(xC(t)?t.asyncValidators:i)||null}function xC(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class y5{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ev}get invalid(){return this.status===wC}get pending(){return this.status==Ap}get disabled(){return this.status===tv}get enabled(){return this.status!==tv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(f5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(f5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(m5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(m5(t,this._rawAsyncValidators))}hasValidator(t){return vC(this._rawValidators,t)}hasAsyncValidator(t){return vC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ap,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tv,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ev,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ev||this.status===Ap)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tv:ev}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ap,this._hasOwnPendingAsyncValidator=!0;const e=r5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?tv:this.errors?wC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ap)?Ap:this._anyControlsHaveStatus(wC)?wC:ev}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function bre(i){return Array.isArray(i)?xT(i):i||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function vre(i){return Array.isArray(i)?CT(i):i||null}(this._rawAsyncValidators)}}class TT extends y5{constructor(t,e,n){super(MT(e),AT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function v5(i,t,e){i._forEachChild((n,r)=>{if(void 0===e[r])throw new z(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function b5(i,t,e){const n=i.controls;if(!(t?Object.keys(n):n).length)throw new z(1e3,"");if(!n[e])throw new z(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const zh=new V("CallSetDisabledState",{providedIn:"root",factory:()=>iv}),iv="always";function nv(i,t,e=iv){IT(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(i.disabled),function xre(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&w5(i,t)})}(i,t),function Dre(i,t){const e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Cre(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&w5(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function wre(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function DC(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),EC(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function kC(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function IT(i,t){const e=u5(i);null!==t.validator?i.setValidators(d5(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=h5(i);null!==t.asyncValidator?i.setAsyncValidators(d5(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const r=()=>i.updateValueAndValidity();kC(t._rawValidators,r),kC(t._rawAsyncValidators,r)}function EC(i,t){let e=!1;if(null!==i){if(null!==t.validator){const r=u5(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(null!==t.asyncValidator){const r=h5(i);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}const n=()=>{};return kC(t._rawValidators,n),kC(t._rawAsyncValidators,n),e}function w5(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function x5(i,t){IT(i,t)}function RT(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function C5(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function PT(i,t){if(!t)return null;let e,n,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Va?e=o:function Sre(i){return Object.getPrototypeOf(i.constructor)===Hh}(o)?n=o:r=o}),r||n||e||null}const Are={provide:ko,useExisting:Ct(()=>Uh)},rv=(()=>Promise.resolve())();let Uh=(()=>{class i extends ko{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new pe,this.form=new TT({},xT(e),CT(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rv.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),nv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rv.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){rv.then(()=>{const n=this._findContainer(e.path),r=new TT({});x5(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rv.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){rv.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,C5(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||i)(C(pr,10),C(nu,10),C(zh,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&J("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Te([Are]),Me]})}return i})();function D5(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}function k5(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const ov=class extends y5{constructor(t=null,e,n){super(MT(e),AT(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=k5(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){D5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){D5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){k5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Ore={provide:Ha,useExisting:Ct(()=>ru)},M5=(()=>Promise.resolve())();let ru=(()=>{class i extends Ha{constructor(e,n,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new ov,this._registered=!1,this.name="",this.update=new pe,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=PT(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),RT(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){M5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&ht(n);M5.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function CC(i,t){return[...t.path,i]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||i)(C(ko,9),C(pr,10),C(nu,10),C(mr,10),C(Nt,8),C(zh,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Te([Ore]),Me,tn]})}return i})(),FT=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})(),T5=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const NT=new V("NgModelWithFormControlWarning"),Lre={provide:Ha,useExisting:Ct(()=>SC)};let SC=(()=>{class i extends Ha{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new pe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=PT(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&DC(n,this,!1),nv(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}RT(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&DC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(n){return new(n||i)(C(pr,10),C(nu,10),C(mr,10),C(NT,8),C(zh,8))};static#i=this.\u0275dir=ne({type:i,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Te([Lre]),Me,tn]})}return i})();const Bre={provide:ko,useExisting:Ct(()=>Tp)};let Tp=(()=>{class i extends ko{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(EC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return nv(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){DC(e.control||null,e,!1),function Mre(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,C5(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,r=this.form.get(e.path);n!==r&&(DC(n||null,e),(i=>i instanceof ov)(r)&&(nv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);x5(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function kre(i,t){return EC(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IT(this.form,this),this._oldForm&&EC(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||i)(C(pr,10),C(nu,10),C(zh,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&J("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Te([Bre]),Me,tn]})}return i})(),Wh=(()=>{class i{constructor(){this._validator=bC}ngOnChanges(e){if(this.inputName in e){const n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):bC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,features:[tn]})}return i})();const Yre={provide:pr,useExisting:Ct(()=>MC),multi:!0};let MC=(()=>{class i extends Wh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ht,this.createValidator=e=>X4}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275dir=ne({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&ze("required",r._enabled?"":null)},inputs:{required:"required"},features:[Te([Yre]),Me]})}return i})(),$5=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[T5]})}return i})(),za=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:zh,useValue:e.callSetDisabledState??iv}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[$5]})}return i})(),Ip=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:NT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:zh,useValue:e.callSetDisabledState??iv}]}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[$5]})}return i})();const G5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let TC;const noe=new Uint8Array(16);function roe(){if(!TC&&(TC=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!TC))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return TC(noe)}const Nr=[];for(let i=0;i<256;++i)Nr.push((i+256).toString(16).slice(1));const K5=function ooe(i,t,e){if(G5.randomUUID&&!t&&!i)return G5.randomUUID();const n=(i=i||{}).random||(i.rng||roe)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=n[r];return t}return function q5(i,t=0){return Nr[i[t+0]]+Nr[i[t+1]]+Nr[i[t+2]]+Nr[i[t+3]]+"-"+Nr[i[t+4]]+Nr[i[t+5]]+"-"+Nr[i[t+6]]+Nr[i[t+7]]+"-"+Nr[i[t+8]]+Nr[i[t+9]]+"-"+Nr[i[t+10]]+Nr[i[t+11]]+Nr[i[t+12]]+Nr[i[t+13]]+Nr[i[t+14]]+Nr[i[t+15]]}(n)},J5=i=>{i=1831565813+(i|=0)|0;let t=Math.imul(i^i>>>15,1|i);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296};class soe{constructor(t){this.dictionaries=void 0,this.length=void 0,this.separator=void 0,this.style=void 0,this.seed=void 0;const{length:e,separator:n,dictionaries:r,style:o,seed:s}=t;this.dictionaries=r,this.separator=n,this.length=e,this.style=o,this.seed=s}generate(){if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error(`The length cannot be bigger than the number of dictionaries.\nLength provided: ${this.length}. Number of dictionaries provided: ${this.dictionaries.length}`);let t=this.seed;return this.dictionaries.slice(0,this.length).reduce((e,n)=>{let r;t?(r=(s=>{if("string"==typeof s){const a=s.split("").map(c=>c.charCodeAt(0)).reduce((c,u)=>c+u,1),l=Math.floor(Number(a));return J5(l)}return J5(s)})(t),t=4294967296*r):r=Math.random();let o=n[Math.floor(r*n.length)]||"";if("lowerCase"===this.style)o=o.toLowerCase();else if("capital"===this.style){const[s,...a]=o.split("");o=s.toUpperCase()+a.join("")}else"upperCase"===this.style&&(o=o.toUpperCase());return e?`${e}${this.separator}${o}`:`${o}`},"")}}const Y5={separator:"_",dictionaries:[]},aoe=i=>{const t=[...i&&i.dictionaries||Y5.dictionaries],e={...Y5,...i,length:i&&i.length||t.length,dictionaries:t};if(!i||!i.dictionaries||!i.dictionaries.length)throw new Error('A "dictionaries" array must be provided. This is a breaking change introduced starting from Unique Name Generator v4. Read more about the breaking change here: https://github.com/andreasonny83/unique-names-generator#migration-guide');return new soe(e).generate()};var sv=gn(990),Vt=function(i){return i.acceptTos="acceptTos",i.setProfile="setProfile",i.acceptTosAndSetProfile="acceptTodAndSetProfile",i.groupChat="groupChat",i.voteForLeader="voteForLeader",i.revealVoted="leaderReveal",i.takeSurvey="takeSurvey",i}(Vt||{}),av=function(i){return i.POSITIVE="positive",i.NEUTRAL="neutral",i.NEGATIVE="negative",i.NOT_RATED="not-rated",i}(av||{}),Cs=function(i){return i.TEXT="TextQuestion",i.CHECK="CheckQuestion",i.RATING="RatingQuestion",i.SCALE="ScaleQuestion",i}(Cs||{});const zT={name:"compas",imageUrl:"https://m.media-amazon.com/images/I/81NUeKWdiQL._AC_UF1000,1000_QL80_.jpg"},_oe={name:"lighter",imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/White_lighter_with_flame.JPG/1200px-White_lighter_with_flame.JPG"},UT={name:"blanket",imageUrl:"https://m.media-amazon.com/images/W/MEDIAX_792452-T1/images/I/81-x+F2EsHL._AC_UF894,1000_QL80_.jpg"};var X5="1.13.6",Z5="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},IC=Array.prototype,WT=Object.prototype,Q5=typeof Symbol<"u"?Symbol.prototype:null,boe=IC.push,lv=IC.slice,cv=WT.toString,voe=WT.hasOwnProperty,eH=typeof ArrayBuffer<"u",yoe=typeof DataView<"u",woe=Array.isArray,tH=Object.keys,iH=Object.create,nH=eH&&ArrayBuffer.isView,xoe=isNaN,Coe=isFinite,rH=!{toString:null}.propertyIsEnumerable("toString"),oH=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Doe=Math.pow(2,53)-1;function Ko(i,t){return t=null==t?i.length-1:+t,function(){for(var e=Math.max(arguments.length-t,0),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+t];switch(t){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=n,i.apply(this,o)}}function jh(i){var t=typeof i;return"function"===t||"object"===t&&!!i}function koe(i){return null===i}function sH(i){return void 0===i}function aH(i){return!0===i||!1===i||"[object Boolean]"===cv.call(i)}function Eoe(i){return!(!i||1!==i.nodeType)}function eo(i){var t="[object "+i+"]";return function(e){return cv.call(e)===t}}const jT=eo("String"),lH=eo("Number"),Soe=eo("Date"),Moe=eo("RegExp"),Aoe=eo("Error"),cH=eo("Symbol"),dH=eo("ArrayBuffer");var uH=eo("Function");"object"!=typeof Int8Array&&"function"!=typeof(Z5.document&&Z5.document.childNodes)&&(uH=function(i){return"function"==typeof i||!1});const Eo=uH,hH=eo("Object");var fH=yoe&&hH(new DataView(new ArrayBuffer(8))),$T=typeof Map<"u"&&hH(new Map),Ioe=eo("DataView");const OC=fH?function Ooe(i){return null!=i&&Eo(i.getInt8)&&dH(i.buffer)}:Ioe,$h=woe||eo("Array");function ou(i,t){return null!=i&&voe.call(i,t)}var GT=eo("Arguments");!function(){GT(arguments)||(GT=function(i){return ou(i,"callee")})}();const qT=GT;function Roe(i){return!cH(i)&&Coe(i)&&!isNaN(parseFloat(i))}function mH(i){return lH(i)&&xoe(i)}function pH(i){return function(){return i}}function gH(i){return function(t){var e=i(t);return"number"==typeof e&&e>=0&&e<=Doe}}function _H(i){return function(t){return t?.[i]}}const RC=_H("byteLength"),Poe=gH(RC);var Foe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const bH=eH?function Noe(i){return nH?nH(i)&&!OC(i):Poe(i)&&Foe.test(cv.call(i))}:pH(!1),Jo=_H("length");function vH(i,t){t=function Loe(i){for(var t={},e=i.length,n=0;n<e;++n)t[i[n]]=!0;return{contains:function(r){return!0===t[r]},push:function(r){return t[r]=!0,i.push(r)}}}(t);var e=oH.length,n=i.constructor,r=Eo(n)&&n.prototype||WT,o="constructor";for(ou(i,o)&&!t.contains(o)&&t.push(o);e--;)(o=oH[e])in i&&i[o]!==r[o]&&!t.contains(o)&&t.push(o)}function gr(i){if(!jh(i))return[];if(tH)return tH(i);var t=[];for(var e in i)ou(i,e)&&t.push(e);return rH&&vH(i,t),t}function Boe(i){if(null==i)return!0;var t=Jo(i);return"number"==typeof t&&($h(i)||jT(i)||qT(i))?0===t:0===Jo(gr(i))}function yH(i,t){var e=gr(t),n=e.length;if(null==i)return!n;for(var r=Object(i),o=0;o<n;o++){var s=e[o];if(t[s]!==r[s]||!(s in r))return!1}return!0}function ci(i){return i instanceof ci?i:this instanceof ci?void(this._wrapped=i):new ci(i)}function wH(i){return new Uint8Array(i.buffer||i,i.byteOffset||0,RC(i))}ci.VERSION=X5,ci.prototype.valueOf=ci.prototype.toJSON=ci.prototype.value=function(){return this._wrapped},ci.prototype.toString=function(){return String(this._wrapped)};var xH="[object DataView]";function KT(i,t,e,n){if(i===t)return 0!==i||1/i==1/t;if(null==i||null==t)return!1;if(i!=i)return t!=t;var r=typeof i;return("function"===r||"object"===r||"object"==typeof t)&&CH(i,t,e,n)}function CH(i,t,e,n){i instanceof ci&&(i=i._wrapped),t instanceof ci&&(t=t._wrapped);var r=cv.call(i);if(r!==cv.call(t))return!1;if(fH&&"[object Object]"==r&&OC(i)){if(!OC(t))return!1;r=xH}switch(r){case"[object RegExp]":case"[object String]":return""+i==""+t;case"[object Number]":return+i!=+i?+t!=+t:0==+i?1/+i==1/t:+i==+t;case"[object Date]":case"[object Boolean]":return+i==+t;case"[object Symbol]":return Q5.valueOf.call(i)===Q5.valueOf.call(t);case"[object ArrayBuffer]":case xH:return CH(wH(i),wH(t),e,n)}var o="[object Array]"===r;if(!o&&bH(i)){if(RC(i)!==RC(t))return!1;if(i.buffer===t.buffer&&i.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof i||"object"!=typeof t)return!1;var a=i.constructor,l=t.constructor;if(a!==l&&!(Eo(a)&&a instanceof a&&Eo(l)&&l instanceof l)&&"constructor"in i&&"constructor"in t)return!1}n=n||[];for(var c=(e=e||[]).length;c--;)if(e[c]===i)return n[c]===t;if(e.push(i),n.push(t),o){if((c=i.length)!==t.length)return!1;for(;c--;)if(!KT(i[c],t[c],e,n))return!1}else{var f,u=gr(i);if(c=u.length,gr(t).length!==c)return!1;for(;c--;)if(!ou(t,f=u[c])||!KT(i[f],t[f],e,n))return!1}return e.pop(),n.pop(),!0}function su(i,t){return KT(i,t)}function dv(i){if(!jh(i))return[];var t=[];for(var e in i)t.push(e);return rH&&vH(i,t),t}function JT(i){var t=Jo(i);return function(e){if(null==e)return!1;var n=dv(e);if(Jo(n))return!1;for(var r=0;r<t;r++)if(!Eo(e[i[r]]))return!1;return i!==EH||!Eo(e[YT])}}var YT="forEach",XT=["clear","delete"],kH=["get","has","set"],Voe=XT.concat(YT,kH),EH=XT.concat(kH),Hoe=["add"].concat(XT,YT,"has");const zoe=$T?JT(Voe):eo("Map"),Uoe=$T?JT(EH):eo("WeakMap"),Woe=$T?JT(Hoe):eo("Set"),joe=eo("WeakSet");function Op(i){for(var t=gr(i),e=t.length,n=Array(e),r=0;r<e;r++)n[r]=i[t[r]];return n}function $oe(i){for(var t=gr(i),e=t.length,n=Array(e),r=0;r<e;r++)n[r]=[t[r],i[t[r]]];return n}function SH(i){for(var t={},e=gr(i),n=0,r=e.length;n<r;n++)t[i[e[n]]]=e[n];return t}function ZT(i){var t=[];for(var e in i)Eo(i[e])&&t.push(e);return t.sort()}function QT(i,t){return function(e){var n=arguments.length;if(t&&(e=Object(e)),n<2||null==e)return e;for(var r=1;r<n;r++)for(var o=arguments[r],s=i(o),a=s.length,l=0;l<a;l++){var c=s[l];(!t||void 0===e[c])&&(e[c]=o[c])}return e}}const MH=QT(dv),PC=QT(gr),AH=QT(dv,!0);function TH(i){if(!jh(i))return{};if(iH)return iH(i);var t=function(){};t.prototype=i;var e=new t;return t.prototype=null,e}function qoe(i,t){var e=TH(i);return t&&PC(e,t),e}function Koe(i){return jh(i)?$h(i)?i.slice():MH({},i):i}function Joe(i,t){return t(i),i}function IH(i){return $h(i)?i:[i]}function uv(i){return ci.toPath(i)}function eI(i,t){for(var e=t.length,n=0;n<e;n++){if(null==i)return;i=i[t[n]]}return e?i:void 0}function OH(i,t,e){var n=eI(i,uv(t));return sH(n)?e:n}function Yoe(i,t){for(var e=(t=uv(t)).length,n=0;n<e;n++){var r=t[n];if(!ou(i,r))return!1;i=i[r]}return!!e}function tI(i){return i}function hv(i){return i=PC({},i),function(t){return yH(t,i)}}function iI(i){return i=uv(i),function(t){return eI(t,i)}}function fv(i,t,e){if(void 0===t)return i;switch(e??3){case 1:return function(n){return i.call(t,n)};case 3:return function(n,r,o){return i.call(t,n,r,o)};case 4:return function(n,r,o,s){return i.call(t,n,r,o,s)}}return function(){return i.apply(t,arguments)}}function RH(i,t,e){return null==i?tI:Eo(i)?fv(i,t,e):jh(i)&&!$h(i)?hv(i):iI(i)}function nI(i,t){return RH(i,t,1/0)}function Yo(i,t,e){return ci.iteratee!==nI?ci.iteratee(i,t):RH(i,t,e)}function Xoe(i,t,e){t=Yo(t,e);for(var n=gr(i),r=n.length,o={},s=0;s<r;s++){var a=n[s];o[a]=t(i[a],a,i)}return o}function PH(){}function Zoe(i){return null==i?PH:function(t){return OH(i,t)}}function Qoe(i,t,e){var n=Array(Math.max(0,i));t=fv(t,e,1);for(var r=0;r<i;r++)n[r]=t(r);return n}function rI(i,t){return null==t&&(t=i,i=0),i+Math.floor(Math.random()*(t-i+1))}ci.toPath=IH,ci.iteratee=nI;const mv=Date.now||function(){return(new Date).getTime()};function FH(i){var t=function(o){return i[o]},e="(?:"+gr(i).join("|")+")",n=RegExp(e),r=RegExp(e,"g");return function(o){return n.test(o=null==o?"":""+o)?o.replace(r,t):o}}const NH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ese=FH(NH),ise=FH(SH(NH)),nse=ci.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var oI=/(.)^/,rse={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ose=/\\|'|\r|\n|\u2028|\u2029/g;function sse(i){return"\\"+rse[i]}var ase=/^\s*(\w|\$)+\s*$/;function lse(i,t,e){!t&&e&&(t=e),t=AH({},t,ci.templateSettings);var n=RegExp([(t.escape||oI).source,(t.interpolate||oI).source,(t.evaluate||oI).source].join("|")+"|$","g"),r=0,o="__p+='";i.replace(n,function(c,u,f,p,g){return o+=i.slice(r,g).replace(ose,sse),r=g+c.length,u?o+="'+\n((__t=("+u+"))==null?'':_.escape(__t))+\n'":f?o+="'+\n((__t=("+f+"))==null?'':__t)+\n'":p&&(o+="';\n"+p+"\n__p+='"),c}),o+="';\n";var a,s=t.variable;if(s){if(!ase.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(c){throw c.source=o,c}var l=function(c){return a.call(this,c,ci)};return l.source="function("+s+"){\n"+o+"}",l}function cse(i,t,e){var n=(t=uv(t)).length;if(!n)return Eo(e)?e.call(i):e;for(var r=0;r<n;r++){var o=i?.[t[r]];void 0===o&&(o=e,r=n),i=Eo(o)?o.call(i):o}return i}var dse=0;function Gh(i){var t=++dse+"";return i?i+t:t}function use(i){var t=ci(i);return t._chain=!0,t}function LH(i,t,e,n,r){if(!(n instanceof t))return i.apply(e,r);var o=TH(i.prototype),s=i.apply(o,r);return jh(s)?s:o}var sI=Ko(function(i,t){var e=sI.placeholder,n=function(){for(var r=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===e?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return LH(i,n,this,this,s)};return n});sI.placeholder=ci;const FC=sI,BH=Ko(function(i,t,e){if(!Eo(i))throw new TypeError("Bind must be called on a function");var n=Ko(function(r){return LH(i,n,t,this,e.concat(r))});return n}),Ds=gH(Jo);function qh(i,t,e,n){if(n=n||[],t||0===t){if(t<=0)return n.concat(i)}else t=1/0;for(var r=n.length,o=0,s=Jo(i);o<s;o++){var a=i[o];if(Ds(a)&&($h(a)||qT(a)))if(t>1)qh(a,t-1,e,n),r=n.length;else for(var l=0,c=a.length;l<c;)n[r++]=a[l++];else e||(n[r++]=a)}return n}const hse=Ko(function(i,t){var e=(t=qh(t,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var n=t[e];i[n]=BH(i[n],i)}return i});function fse(i,t){var e=function(n){var r=e.cache,o=""+(t?t.apply(this,arguments):n);return ou(r,o)||(r[o]=i.apply(this,arguments)),r[o]};return e.cache={},e}const VH=Ko(function(i,t,e){return setTimeout(function(){return i.apply(null,e)},t)}),mse=FC(VH,ci,1);function pse(i,t,e){var n,r,o,s,a=0;e||(e={});var l=function(){a=!1===e.leading?0:mv(),n=null,s=i.apply(r,o),n||(r=o=null)},c=function(){var u=mv();!a&&!1===e.leading&&(a=u);var f=t-(u-a);return r=this,o=arguments,f<=0||f>t?(n&&(clearTimeout(n),n=null),a=u,s=i.apply(r,o),n||(r=o=null)):!n&&!1!==e.trailing&&(n=setTimeout(l,f)),s};return c.cancel=function(){clearTimeout(n),a=0,n=r=o=null},c}function gse(i,t,e){var n,r,o,s,a,l=function(){var u=mv()-r;t>u?n=setTimeout(l,t-u):(n=null,e||(s=i.apply(a,o)),n||(o=a=null))},c=Ko(function(u){return a=this,o=u,r=mv(),n||(n=setTimeout(l,t),e&&(s=i.apply(a,o))),s});return c.cancel=function(){clearTimeout(n),n=o=a=null},c}function _se(i,t){return FC(t,i)}function aI(i){return function(){return!i.apply(this,arguments)}}function bse(){var i=arguments,t=i.length-1;return function(){for(var e=t,n=i[t].apply(this,arguments);e--;)n=i[e].call(this,n);return n}}function vse(i,t){return function(){if(--i<1)return t.apply(this,arguments)}}function HH(i,t){var e;return function(){return--i>0&&(e=t.apply(this,arguments)),i<=1&&(t=null),e}}const yse=FC(HH,2);function zH(i,t,e){t=Yo(t,e);for(var r,n=gr(i),o=0,s=n.length;o<s;o++)if(t(i[r=n[o]],r,i))return r}function UH(i){return function(t,e,n){e=Yo(e,n);for(var r=Jo(t),o=i>0?0:r-1;o>=0&&o<r;o+=i)if(e(t[o],o,t))return o;return-1}}const lI=UH(1),WH=UH(-1);function jH(i,t,e,n){for(var r=(e=Yo(e,n,1))(t),o=0,s=Jo(i);o<s;){var a=Math.floor((o+s)/2);e(i[a])<r?o=a+1:s=a}return o}function $H(i,t,e){return function(n,r,o){var s=0,a=Jo(n);if("number"==typeof o)i>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(e&&o&&a)return n[o=e(n,r)]===r?o:-1;if(r!=r)return(o=t(lv.call(n,s,a),mH))>=0?o+s:-1;for(o=i>0?s:a-1;o>=0&&o<a;o+=i)if(n[o]===r)return o;return-1}}const GH=$H(1,lI,jH),wse=$H(-1,WH);function cI(i,t,e){var r=(Ds(i)?lI:zH)(i,t,e);if(void 0!==r&&-1!==r)return i[r]}function xse(i,t){return cI(i,hv(t))}function Hc(i,t,e){var n,r;if(t=fv(t,e),Ds(i))for(n=0,r=i.length;n<r;n++)t(i[n],n,i);else{var o=gr(i);for(n=0,r=o.length;n<r;n++)t(i[o[n]],o[n],i)}return i}function Kh(i,t,e){t=Yo(t,e);for(var n=!Ds(i)&&gr(i),r=(n||i).length,o=Array(r),s=0;s<r;s++){var a=n?n[s]:s;o[s]=t(i[a],a,i)}return o}function qH(i){return function(e,n,r,o){var s=arguments.length>=3;return function(e,n,r,o){var s=!Ds(e)&&gr(e),a=(s||e).length,l=i>0?0:a-1;for(o||(r=e[s?s[l]:l],l+=i);l>=0&&l<a;l+=i){var c=s?s[l]:l;r=n(r,e[c],c,e)}return r}(e,fv(n,o,4),r,s)}}const dI=qH(1),KH=qH(-1);function Rp(i,t,e){var n=[];return t=Yo(t,e),Hc(i,function(r,o,s){t(r,o,s)&&n.push(r)}),n}function Cse(i,t,e){return Rp(i,aI(Yo(t)),e)}function JH(i,t,e){t=Yo(t,e);for(var n=!Ds(i)&&gr(i),r=(n||i).length,o=0;o<r;o++){var s=n?n[o]:o;if(!t(i[s],s,i))return!1}return!0}function YH(i,t,e){t=Yo(t,e);for(var n=!Ds(i)&&gr(i),r=(n||i).length,o=0;o<r;o++){var s=n?n[o]:o;if(t(i[s],s,i))return!0}return!1}function zc(i,t,e,n){return Ds(i)||(i=Op(i)),("number"!=typeof e||n)&&(e=0),GH(i,t,e)>=0}const Dse=Ko(function(i,t,e){var n,r;return Eo(t)?r=t:(t=uv(t),n=t.slice(0,-1),t=t[t.length-1]),Kh(i,function(o){var s=r;if(!s){if(n&&n.length&&(o=eI(o,n)),null==o)return;s=o[t]}return null==s?s:s.apply(o,e)})});function uI(i,t){return Kh(i,iI(t))}function kse(i,t){return Rp(i,hv(t))}function XH(i,t,e){var o,s,n=-1/0,r=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof i[0]&&null!=i)for(var a=0,l=(i=Ds(i)?i:Op(i)).length;a<l;a++)null!=(o=i[a])&&o>n&&(n=o);else t=Yo(t,e),Hc(i,function(c,u,f){((s=t(c,u,f))>r||s===-1/0&&n===-1/0)&&(n=c,r=s)});return n}function Ese(i,t,e){var o,s,n=1/0,r=1/0;if(null==t||"number"==typeof t&&"object"!=typeof i[0]&&null!=i)for(var a=0,l=(i=Ds(i)?i:Op(i)).length;a<l;a++)null!=(o=i[a])&&o<n&&(n=o);else t=Yo(t,e),Hc(i,function(c,u,f){((s=t(c,u,f))<r||s===1/0&&n===1/0)&&(n=c,r=s)});return n}var Sse=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ZH(i){return i?$h(i)?lv.call(i):jT(i)?i.match(Sse):Ds(i)?Kh(i,tI):Op(i):[]}function QH(i,t,e){if(null==t||e)return Ds(i)||(i=Op(i)),i[rI(i.length-1)];var n=ZH(i),r=Jo(n);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;s<t;s++){var a=rI(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,t)}function Mse(i){return QH(i,1/0)}function Ase(i,t,e){var n=0;return t=Yo(t,e),uI(Kh(i,function(r,o,s){return{value:r,index:n++,criteria:t(r,o,s)}}).sort(function(r,o){var s=r.criteria,a=o.criteria;if(s!==a){if(s>a||void 0===s)return 1;if(s<a||void 0===a)return-1}return r.index-o.index}),"value")}function NC(i,t){return function(e,n,r){var o=t?[[],[]]:{};return n=Yo(n,r),Hc(e,function(s,a){var l=n(s,a,e);i(o,s,l)}),o}}const Tse=NC(function(i,t,e){ou(i,e)?i[e].push(t):i[e]=[t]}),Ise=NC(function(i,t,e){i[e]=t}),Ose=NC(function(i,t,e){ou(i,e)?i[e]++:i[e]=1}),Rse=NC(function(i,t,e){i[e?0:1].push(t)},!0);function Pse(i){return null==i?0:Ds(i)?i.length:gr(i).length}function Fse(i,t,e){return t in e}const e8=Ko(function(i,t){var e={},n=t[0];if(null==i)return e;Eo(n)?(t.length>1&&(n=fv(n,t[1])),t=dv(i)):(n=Fse,t=qh(t,!1,!1),i=Object(i));for(var r=0,o=t.length;r<o;r++){var s=t[r],a=i[s];n(a,s,i)&&(e[s]=a)}return e}),Nse=Ko(function(i,t){var n,e=t[0];return Eo(e)?(e=aI(e),t.length>1&&(n=t[1])):(t=Kh(qh(t,!1,!1),String),e=function(r,o){return!zc(t,o)}),e8(i,e,n)});function t8(i,t,e){return lv.call(i,0,Math.max(0,i.length-(null==t||e?1:t)))}function hI(i,t,e){return null==i||i.length<1?null==t||e?void 0:[]:null==t||e?i[0]:t8(i,i.length-t)}function LC(i,t,e){return lv.call(i,null==t||e?1:t)}function Lse(i,t,e){return null==i||i.length<1?null==t||e?void 0:[]:null==t||e?i[i.length-1]:LC(i,Math.max(0,i.length-t))}function Bse(i){return Rp(i,Boolean)}function i8(i,t){return qh(i,t,!1)}const n8=Ko(function(i,t){return t=qh(t,!0,!0),Rp(i,function(e){return!zc(t,e)})}),Vse=Ko(function(i,t){return n8(i,t)});function fI(i,t,e,n){aH(t)||(n=e,e=t,t=!1),null!=e&&(e=Yo(e,n));for(var r=[],o=[],s=0,a=Jo(i);s<a;s++){var l=i[s],c=e?e(l,s,i):l;t&&!e?((!s||o!==c)&&r.push(l),o=c):e?zc(o,c)||(o.push(c),r.push(l)):zc(r,l)||r.push(l)}return r}const Hse=Ko(function(i){return fI(qh(i,!0,!0))});function zse(i){for(var t=[],e=arguments.length,n=0,r=Jo(i);n<r;n++){var o=i[n];if(!zc(t,o)){var s;for(s=1;s<e&&zc(arguments[s],o);s++);s===e&&t.push(o)}}return t}function mI(i){for(var t=i&&XH(i,Jo).length||0,e=Array(t),n=0;n<t;n++)e[n]=uI(i,n);return e}const Use=Ko(mI);function Wse(i,t){for(var e={},n=0,r=Jo(i);n<r;n++)t?e[i[n]]=t[n]:e[i[n][0]]=i[n][1];return e}function jse(i,t,e){null==t&&(t=i||0,i=0),e||(e=t<i?-1:1);for(var n=Math.max(Math.ceil((t-i)/e),0),r=Array(n),o=0;o<n;o++,i+=e)r[o]=i;return r}function $se(i,t){if(null==t||t<1)return[];for(var e=[],n=0,r=i.length;n<r;)e.push(lv.call(i,n,n+=t));return e}function pI(i,t){return i._chain?ci(t).chain():t}function r8(i){return Hc(ZT(i),function(t){var e=ci[t]=i[t];ci.prototype[t]=function(){var n=[this._wrapped];return boe.apply(n,arguments),pI(this,e.apply(ci,n))}}),ci}Hc(["pop","push","reverse","shift","sort","splice","unshift"],function(i){var t=IC[i];ci.prototype[i]=function(){var e=this._wrapped;return null!=e&&(t.apply(e,arguments),("shift"===i||"splice"===i)&&0===e.length&&delete e[0]),pI(this,e)}}),Hc(["concat","join","slice"],function(i){var t=IC[i];ci.prototype[i]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),pI(this,e)}});const Gse=ci;var o8=r8(Un);o8._=o8;const qse={dictionaries:[["Ackbar","Adi Gallia","Anakin Skywalker","Arvel Crynyd","Ayla Secura","Bail Prestor Organa","Barriss Offee","Ben Quadinaros","Beru Whitesun lars","Bib Fortuna","Biggs Darklighter","Boba Fett","Bossk","C-3PO","Chewbacca","Cliegg Lars","Cord\xe9","Darth Maul","Darth Vader","Dexter Jettster","Dooku","Dorm\xe9","Dud Bolt","Eeth Koth","Finis Valorum","Gasgano","Greedo","Gregar Typho","Grievous","Han Solo","IG-88","Jabba Desilijic Tiure","Jango Fett","Jar Jar Binks","Jek Tono Porkins","Jocasta Nu","Ki-Adi-Mundi","Kit Fisto","Lama Su","Lando Calrissian","Leia Organa","Lobot","Luke Skywalker","Luminara Unduli","Mace Windu","Mas Amedda","Mon Mothma","Nien Nunb","Nute Gunray","Obi-Wan Kenobi","Owen Lars","Padm\xe9 Amidala","Palpatine","Plo Koon","Poggle the Lesser","Quarsh Panaka","Qui-Gon Jinn","R2-D2","R4-P17","R5-D4","Ratts Tyerel","Raymus Antilles","Ric Oli\xe9","Roos Tarpals","Rugor Nass","Saesee Tiin","San Hill","Sebulba","Shaak Ti","Shmi Skywalker","Sly Moore","Tarfful","Taun We","Tion Medon","Wat Tambor","Watto","Wedge Antilles","Wicket Systri Warrick","Wilhuff Tarkin","Yarael Poof","Yoda","Zam Wesell"]]};var Uc=function(i){return i["1. Agree to the experiment and set your profile"]="1. Agree to the experiment and set your profile",i["2. Initial leadership survey"]="2. Initial leadership survey",i["3. Group discussion"]="3. Group discussion",i["4. Post-chat survey"]="4. Post-chat survey",i["5. Post-discussion leadership survey"]="5. Post-discussion leadership survey",i["6. Vote for the leader"]="6. Vote for the leader",i["7. Post-discussion work"]="7. Post-discussion work",i["8. Leader reveal"]="8. Leader reveal",i["9. final satisfaction survey"]="9. final satisfaction survey",i}(Uc||{});const Jse={kind:Cs.RATING,id:Gh(),questionText:"Rate the items by how helpful they would be for survival.",rating:{item1:zT,item2:UT,choice:null,confidence:null}},Yse={kind:Cs.SCALE,id:Gh(),questionText:"Rate the how much you would like to be the group leader.",lowerBound:"I would most definitely not like to be the leader (0/10)",upperBound:"I will fight to be the leader (10/10)",score:null},Qse={kind:Cs.SCALE,id:Gh(),questionText:"Rate the chat dicussion on a 1-10 scale.\nAlso indicate your overall feeling about the chat.",lowerBound:"I did not enjoy the discussion at all (0/10)",upperBound:"The dicussion was a perfect experience to me (10/10)",score:null},tae={kind:Cs.SCALE,id:Gh(),questionText:"Rate the how much you would like to be the group leader.",lowerBound:"I would most definitely not like to be the leader (0/10)",upperBound:"I will fight to be the leader (10/10)",score:null},rae={kind:Cs.RATING,id:Gh(),questionText:"Please rating the following accoring to which is best for survival",rating:{item1:zT,item2:UT,choice:null,confidence:null}},aae={kind:Cs.SCALE,id:Gh(),questionText:"Rate how happy you were with the final outcome.\nAlso indicate your overall feeling about the experience.",lowerBound:"I was most definitely disappointed (0/10)",upperBound:"I was very happy (10/10)",score:null};function cae(i){const t={},e={},n=[Vt.takeSurvey.toString(),Vt.voteForLeader.toString()];i.forEach(l=>{t[l.name]=l,e[l.name]=!!n.includes(l.kind)});const r=i.map(l=>l.name),o=r.shift();if(!o)throw new Error("Cannot create a user with no experimental stages to do");const s=o,a=`uid:${K5()}`;return{accessCode:`access-code:${K5()}`,userId:a,profile:{name:aoe(qse),pronouns:"",avatarUrl:""},stageMap:t,allowedStageProgressionMap:e,workingOnStageName:s,completedStageNames:[],futureStageNames:r}}function gI(){return[{kind:Vt.acceptTosAndSetProfile,name:Uc["1. Agree to the experiment and set your profile"],config:{pronouns:"",avatarUrl:"",name:"",tosLines:[],acceptedTosTimestamp:null}},{kind:Vt.takeSurvey,name:Uc["2. Initial leadership survey"],config:{questions:[Jse,Yse]}},{kind:Vt.groupChat,name:Uc["3. Group discussion"],config:{ratingsToDiscuss:[],messages:[],items:[zT,UT,_oe],readyToEndChat:!1,isSilent:!0}},{kind:Vt.takeSurvey,name:Uc["4. Post-chat survey"],config:{questions:[Qse]}},{kind:Vt.takeSurvey,name:Uc["5. Post-discussion leadership survey"],config:{questions:[tae]}},{kind:Vt.voteForLeader,name:Uc["6. Vote for the leader"],config:{}},{kind:Vt.takeSurvey,name:"7. Post-discussion work",config:{questions:[rae]}},{kind:Vt.revealVoted,name:Uc["8. Leader reveal"],config:{pendingVoteStageName:Uc["6. Vote for the leader"],revealTimestamp:null}},{kind:Vt.takeSurvey,name:"9. final satisfaction survey",config:{questions:[aae]}}]}function s8(i,t,e){const n=function dae(i,t){const e={};for(let n=0;n<i;n++){const r=cae(t);e[r.userId]=r}return e}(t,e);return{name:i,date:new Date,numberOfParticipants:Object.keys(n).length,participants:n}}class uae{constructor(t,e,n){this.appData=t,this.session=e,this.destory=n,this.experiment=wi(()=>{const r=this.session.state().experiment,o=this.appData().experiments[r];if(!o)throw new Error(`No such experiment name: ${r}`);return o}),this.userData=wi(()=>{const r=this.session.state().user,o=this.experiment().participants[r];if(!o)throw new Error(`No such user id: ${r}`);return o}),this.viewingStage=wi(()=>this.session.state().stage in this.userData().stageMap?this.userData().stageMap[this.session.state().stage]:this.userData().stageMap[this.userData().workingOnStageName]),this.workingOnStage=wi(()=>this.userData().stageMap[this.userData().workingOnStageName])}edit(t){l8(this.appData,{experiment:this.session.state().experiment,id:this.session.state().user},t)}setViewingStage(t){this.session.edit(e=>{e.stage=t})}setWorkingOnStage(t){this.edit(e=>{e.workingOnStageName=t})}editStageData(t){this.edit(e=>{const n=t(e.stageMap[e.workingOnStageName].config);n&&(e.stageMap[e.workingOnStageName].config=n)})}setProfile(t){this.edit(e=>{e.profile=t})}sendMessage(t){!function bae(i,t,e,n){const r=i().experiments[t.experiment],o=i().experiments[t.experiment].participants[t.id].profile;for(const s of Object.values(r.participants))_I(i,{experiment:r.name,id:s.userId},e.stageName,a=>{a.messages.push({fromUserId:t.id,messageType:"userMessage",text:e.message,fromProfile:o,timestamp:(new Date).valueOf()})},{skipSetting:!0});n&&n.withoutSetting||i.set({...i()})}(this.appData,{experiment:this.experiment().name,id:this.userData().userId},{stageName:this.workingOnStage().name,message:t})}nextStep(){let t=this.viewingStage().name;this.edit(e=>{if(e.workingOnStageName===t){const n=e.futureStageNames.shift();if(!n)return;e.completedStageNames.push(e.workingOnStageName),e.workingOnStageName=n,t=n}else{const n=e.completedStageNames.indexOf(t);t=n===e.completedStageNames.length-1?e.workingOnStageName:e.completedStageNames[n+1]}this.session.edit(n=>{n.stage=t})})}}class hae{constructor(t,e){this.fromUrlParams=t,this.defaultSessionData=e,this.defaultSession=vs(this.defaultSessionData);const n={...this.defaultSessionData};Object.assign(n,t()),this.state=vs(n,{equal:su});const r=vs(n);this.toUrlParams=vs(t()),wl(()=>{const o=this.fromUrlParams(),s=_x(this.state),a=Object.assign({...this.defaultSession()},o);r.set(a),su(s,a)||this.state.set(a)},{allowSignalWrites:!0}),wl(()=>{const o={...this.state()};for(const s of Object.keys(o)){const a=s;su(o[a],this.defaultSession()[a])&&delete o[a]}su(_x(r),this.state())||this.toUrlParams.set(o)},{allowSignalWrites:!0})}edit(t){let n={...this.state()};const r=t(n);r&&(n={...r}),this.state.set(n)}}class fae{constructor(t,e,n,r){this.router=t,this.route=e,this.routeParamNames=n,this.defaultSessionData=r;const o=vs(e.snapshot.params,{equal:su});this.paramsSubscription=this.route.params.subscribe(l=>{o.set(l)});const s=vs(e.snapshot.queryParams,{equal:su});this.queryParamsSubscription=this.route.queryParams.subscribe(l=>s.set(l));const a=wi(()=>({...o(),...s()}));this.session=new hae(a,this.defaultSessionData),this.sessionToRouterEffectRef=wl(()=>{const l={},c={},u=this.session.toUrlParams();Object.keys(u).forEach(f=>{this.routeParamNames.has(f)?l[f]=u[f]:c[f]=u[f]}),this.router.navigate([],{relativeTo:this.route,queryParams:c})})}destroy(){this.paramsSubscription.unsubscribe(),this.queryParamsSubscription.unsubscribe(),this.sessionToRouterEffectRef.destroy()}}const mae={user:"",experiment:"",stage:""};var pv=function(i){return i.LandingPage="LandingPage",i.Participant="Participant",i.Experimenter="Experimenter",i}(pv||{});const gae={kind:pv.LandingPage};function BC(){const i={settings:{name:"LLM-Experimenter",sheetsId:"",sheetsRange:""},experiments:{}};return a8("initial experiment",gI(),i),i}function a8(i,t,e){const n=s8(i,3,t);e.experiments[n.name]=n}function l8(i,t,e,n){const r=i(),o=r.experiments[t.experiment];let a={...o.participants[t.id]};const l=e(a);if(l&&(a={...l}),a.userId!==t.id)throw new Error(`Editing a user should not their id: new: ${a.userId}, old: ${t.id}`);o.participants[a.userId]=a,(!n||!n.skipSetting)&&i.set({...r})}function _I(i,t,e,n,r){l8(i,t,o=>{const s=n(o.stageMap[e].config);s&&(o.stageMap[e].config=s)},r)}var gv=function(i){return i.bar="bar",i.ugg="ugg",i}(gv||{});function kae(i,t){return t.kind===i?t:null}function bI(i,t){if(i.kind===t)return i;throw new Error(`Given object with kind=${i.kind} needs to have kind=${t}`)}function c8(i,t){return i.kind===t}const VC={kind:gv.bar,data:{barNumber:5}};function d8(i,t,e,n,r,o,s){try{var a=i[o](s),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(n,r)}function Hi(i){return function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function s(l){d8(o,n,r,s,a,"next",l)}function a(l){d8(o,n,r,s,a,"throw",l)}s(void 0)})}}function vI(){return(vI=Hi(function*(i){const t=yield fetch("/api/embed",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(i)});return 200!==t.status?(console.error(t.statusText),{error:`fetch request failed (${t.status}): ${t.statusText}`}):yield t.json()})).apply(this,arguments)}c8(VC,gv.bar)&&(VC.data.barNumber+=1);class Sae{constructor(){this.name="SimpleEmbedder"}embed(t,e){return Hi(function*(){return yield function Eae(i){return vI.apply(this,arguments)}({text:t})})()}}function yI(){return(yI=Hi(function*(i){const t=yield fetch("/api/llm",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(i)});return console.log(t),yield t.json()})).apply(this,arguments)}class Aae{constructor(t){this.defaultOptions={},this.name="SimpleLlm",t&&(this.defaultOptions=t)}predict(t,e){var n=this;return Hi(function*(){const r={...n.defaultOptions};return e&&Object.assign(r,e),yield function Mae(i){return yI.apply(this,arguments)}({text:t,params:r})})()}}let u8=(()=>{class i{constructor(){this.embedder=new Sae,this.llm=new Aae({candidateCount:1})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function HC(...i){const t=ei(i),e=f0(i),{args:n,keys:r}=W4(i);if(0===n.length)return dn([],t);const o=new zt(function Iae(i,t,e=jn){return n=>{h8(t,()=>{const{length:r}=i,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)h8(t,()=>{const c=dn(i[l],t);let u=!1;c.subscribe(ae(n,f=>{o[l]=f,u||(u=!0,a--),a||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,r?s=>j4(r,s):jn));return e?o.pipe(yT(e)):o}function h8(i,t,e){i?Da(e,i,t):t()}const zC=Zt(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function _v(...i){return function Oae(){return ud(1)}()(dn(i,ei(i)))}function wI(i){return new zt(t=>{Gn(i()).subscribe(t)})}function bv(i,t){const e=Tt(i)?i:()=>i,n=r=>r.error(e());return new zt(t?r=>t.schedule(n,0,r):n)}function xI(){return ce((i,t)=>{let e=null;i._refCount++;const n=ae(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class f8 extends zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,q(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new We;const e=this.getSubject();t.add(this.source.subscribe(ae(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=We.EMPTY)}return t}refCount(){return xI()(this)}}function qi(i){return i<=0?()=>Gr:ce((t,e)=>{let n=0;t.subscribe(ae(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function _r(...i){const t=ei(i);return ce((e,n)=>{(t?_v(i,e,t):_v(i,e)).subscribe(n)})}function di(i,t){return ce((e,n)=>{let r=0;e.subscribe(ae(n,o=>i.call(t,o,r++)&&n.next(o)))})}function UC(i){return ce((t,e)=>{let n=!1;t.subscribe(ae(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function m8(i=Rae){return ce((t,e)=>{let n=!1;t.subscribe(ae(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function Rae(){return new zC}function Jh(i,t){const e=arguments.length>=2;return n=>n.pipe(i?di((r,o)=>i(r,o,n)):jn,qi(1),e?UC(t):m8(()=>new zC))}function Pp(i,t){return Tt(t)?Mn(i,t,1):Mn(i,1)}function En(i,t,e){const n=Tt(i)||t||e?{next:i,error:t,complete:e}:i;return n?ce((r,o)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;r.subscribe(ae(o,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),o.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),o.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),o.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):jn}function Yh(i){return ce((t,e)=>{let o,n=null,r=!1;n=t.subscribe(ae(e,void 0,void 0,s=>{o=Gn(i(s,Yh(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function CI(i){return i<=0?()=>Gr:ce((t,e)=>{let n=[];t.subscribe(ae(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function WC(i){return ue(()=>i)}function jC(i){return ce((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function et(i){return ce((t,e)=>{Gn(i).subscribe(ae(e,()=>e.complete(),ot)),!e.closed&&t.subscribe(e)})}const kt="primary",vv=Symbol("RouteTitle");class Lae{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fp(i){return new Lae(i)}function Bae(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const r={};for(let o=0;o<n.length;o++){const s=n[o],a=i[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Sl(i,t){const e=i?DI(i):void 0,n=t?DI(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!p8(i[r],t[r]))return!1;return!0}function DI(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function p8(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}return i===t}function g8(i){return i.length>0?i[i.length-1]:null}function au(i){return function Tae(i){return!!i&&(i instanceof zt||Tt(i.lift)&&Tt(i.subscribe))}(i)?i:zb(i)?dn(Promise.resolve(i)):Re(i)}const Hae={exact:function v8(i,t,e){if(!Xh(i.segments,t.segments)||!$C(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!v8(i.children[n],t.children[n],e))return!1;return!0},subset:y8},_8={exact:function zae(i,t){return Sl(i,t)},subset:function Uae(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>p8(i[e],t[e]))},ignored:()=>!0};function b8(i,t,e){return Hae[e.paths](i.root,t.root,e.matrixParams)&&_8[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function y8(i,t,e){return w8(i,t,t.segments,e)}function w8(i,t,e,n){if(i.segments.length>e.length){const r=i.segments.slice(0,e.length);return!(!Xh(r,e)||t.hasChildren()||!$C(r,e,n))}if(i.segments.length===e.length){if(!Xh(i.segments,e)||!$C(i.segments,e,n))return!1;for(const r in t.children)if(!i.children[r]||!y8(i.children[r],t.children[r],n))return!1;return!0}{const r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!!(Xh(i.segments,r)&&$C(i.segments,r,n)&&i.children[kt])&&w8(i.children[kt],t,o,n)}}function $C(i,t,e){return t.every((n,r)=>_8[e](i[r].parameters,n.parameters))}class Np{constructor(t=new xi([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fp(this.queryParams)),this._queryParamMap}toString(){return $ae.serialize(this)}}class xi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return GC(this)}}class yv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fp(this.parameters)),this._parameterMap}toString(){return D8(this)}}function Xh(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}let Lp=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>new kI,providedIn:"root"})}return i})();class kI{parse(t){const e=new ile(t);return new Np(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${wv(t.root,!0)}`,n=function Kae(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(r=>`${qC(e)}=${qC(r)}`).join("&"):`${qC(e)}=${qC(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function Gae(i){return encodeURI(i)}(t.fragment)}`:""}`}}const $ae=new kI;function GC(i){return i.segments.map(t=>D8(t)).join("/")}function wv(i,t){if(!i.hasChildren())return GC(i);if(t){const e=i.children[kt]?wv(i.children[kt],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==kt&&n.push(`${r}:${wv(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function jae(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===kt&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==kt&&(e=e.concat(t(r,n)))}),e}(i,(n,r)=>r===kt?[wv(i.children[kt],!1)]:[`${r}:${wv(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[kt]?`${GC(i)}/${e[0]}`:`${GC(i)}/(${e.join("//")})`}}function x8(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qC(i){return x8(i).replace(/%3B/gi,";")}function EI(i){return x8(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function KC(i){return decodeURIComponent(i)}function C8(i){return KC(i.replace(/\+/g,"%20"))}function D8(i){return`${EI(i.path)}${function qae(i){return Object.keys(i).map(t=>`;${EI(t)}=${EI(i[t])}`).join("")}(i.parameters)}`}const Jae=/^[^\/()?;#]+/;function SI(i){const t=i.match(Jae);return t?t[0]:""}const Yae=/^[^\/()?;=#]+/,Zae=/^[^=?&#]+/,ele=/^[^&#]+/;class ile{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xi([],{}):new xi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[kt]=new xi(t,e)),n}parseSegment(){const t=SI(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(t),new yv(KC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Xae(i){const t=i.match(Yae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=SI(this.remaining);r&&(n=r,this.capture(n))}t[KC(e)]=KC(n)}parseQueryParam(t){const e=function Qae(i){const t=i.match(Zae);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function tle(i){const t=i.match(ele);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const r=C8(e),o=C8(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=SI(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=kt);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[kt]:new xi([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new z(4011,!1)}}function k8(i){return i.segments.length>0?new xi([],{[kt]:i}):i}function E8(i){const t={};for(const n of Object.keys(i.children)){const o=E8(i.children[n]);if(n===kt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function nle(i){if(1===i.numberOfChildren&&i.children[kt]){const t=i.children[kt];return new xi(i.segments.concat(t.segments),t.children)}return i}(new xi(i.segments,t))}function Zh(i){return i instanceof Np}function S8(i){let t;const r=k8(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new xi(o.url,s);return o===i&&(t=a),a}(i.root));return t??r}function M8(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(0===t.length)return MI(r,r,r,e,n);const o=function ole(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new T8(!0,0,i);let t=0,e=!1;const n=i.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new T8(e,t,n)}(t);if(o.toRoot())return MI(r,r,new xi([],{}),e,n);const s=function sle(i,t,e){if(i.isAbsolute)return new YC(t,!0,0);if(!e)return new YC(t,!1,NaN);if(null===e.parent)return new YC(e,!0,0);const n=JC(i.commands[0])?0:1;return function ale(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new z(4005,!1);r=n.segments.length}return new YC(n,!1,r-o)}(e,e.segments.length-1+n,i.numberOfDoubleDots)}(o,r,i),a=s.processChildren?Cv(s.segmentGroup,s.index,o.commands):I8(s.segmentGroup,s.index,o.commands);return MI(r,s.segmentGroup,a,e,n)}function JC(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function xv(i){return"object"==typeof i&&null!=i&&i.outlets}function MI(i,t,e,n,r){let s,o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=i===t?e:A8(i,t,e);const a=k8(E8(s));return new Np(a,o,r)}function A8(i,t,e){const n={};return Object.entries(i.children).forEach(([r,o])=>{n[r]=o===t?e:A8(o,t,e)}),new xi(i.segments,n)}class T8{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&JC(n[0]))throw new z(4003,!1);const r=n.find(xv);if(r&&r!==g8(n))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class YC{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function I8(i,t,e){if(i||(i=new xi([],{})),0===i.segments.length&&i.hasChildren())return Cv(i,t,e);const n=function cle(i,t,e){let n=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;const s=i.segments[r],a=e[n];if(xv(a))break;const l=`${a}`,c=n<e.length-1?e[n+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!R8(l,c,s))return o;n+=2}else{if(!R8(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const o=new xi(i.segments.slice(0,n.pathIndex),{});return o.children[kt]=new xi(i.segments.slice(n.pathIndex),i.children),Cv(o,0,r)}return n.match&&0===r.length?new xi(i.segments,{}):n.match&&!i.hasChildren()?AI(i,t,e):n.match?Cv(i,0,r):AI(i,t,e)}function Cv(i,t,e){if(0===e.length)return new xi(i.segments,{});{const n=function lle(i){return xv(i[0])?i[0].outlets:{[kt]:i}}(e),r={};if(Object.keys(n).some(o=>o!==kt)&&i.children[kt]&&1===i.numberOfChildren&&0===i.children[kt].segments.length){const o=Cv(i.children[kt],t,e);return new xi(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=I8(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{void 0===n[o]&&(r[o]=s)}),new xi(i.segments,r)}}function AI(i,t,e){const n=i.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(xv(o)){const l=dle(o.outlets);return new xi(n,l)}if(0===r&&JC(e[0])){n.push(new yv(i.segments[t].path,O8(e[0]))),r++;continue}const s=xv(o)?o.outlets[kt]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&JC(a)?(n.push(new yv(s,O8(a))),r+=2):(n.push(new yv(s,{})),r++)}return new xi(n,{})}function dle(i){const t={};return Object.entries(i).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[e]=AI(new xi([],{}),0,n))}),t}function O8(i){const t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function R8(i,t,e){return i==e.path&&Sl(t,e.parameters)}const Dv="imperative";class Ml{constructor(t,e){this.id=t,this.url=e}}class XC extends Ml{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wc extends Ml{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bp extends Ml{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vp extends Ml{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}}class ZC extends Ml{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class P8 extends Ml{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ule extends Ml{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hle extends Ml{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fle extends Ml{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mle extends Ml{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ple{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gle{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _le{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ble{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vle{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yle{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F8{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class TI{}class II{constructor(t){this.url=t}}class wle{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kv,this.attachRef=null}}let kv=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new wle,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class N8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=OI(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=OI(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=RI(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return RI(t,this._root).map(e=>e.value)}}function OI(i,t){if(i===t.value)return t;for(const e of t.children){const n=OI(i,e);if(n)return n}return null}function RI(i,t){if(i===t.value)return[t];for(const e of t.children){const n=RI(i,e);if(n.length)return n.unshift(t),n}return[]}class Ua{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hp(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class L8 extends N8{constructor(t,e){super(t),this.snapshot=e,NI(this,t)}toString(){return this.snapshot.toString()}}function B8(i,t){const e=function xle(i,t){const s=new FI([],{},{},"",{},kt,t,null,{});return new V8("",new Ua(s,[]))}(0,t),n=new wr([new yv("",{})]),r=new wr({}),o=new wr({}),s=new wr({}),a=new wr(""),l=new jc(n,r,s,a,o,kt,t,e.root);return l.snapshot=e.root,new L8(new Ua(l,[]),e)}class jc{constructor(t,e,n,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ue(c=>c[vv]))??Re(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(t=>Fp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(t=>Fp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PI(i,t,e="emptyOnly"){let n;const{routeConfig:r}=i;return n=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:i.params,data:i.data,resolve:{...i.data,...i._resolvedData??{}}}:{params:{...t.params,...i.params},data:{...t.data,...i.data},resolve:{...i.data,...t.data,...r?.data,...i._resolvedData}},r&&z8(r)&&(n.resolve[vv]=r.title),n}class FI{get title(){return this.data?.[vv]}constructor(t,e,n,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class V8 extends N8{constructor(t,e){super(e),this.url=t,NI(this,e)}toString(){return H8(this._root)}}function NI(i,t){t.value._routerState=i,t.children.forEach(e=>NI(i,e))}function H8(i){const t=i.children.length>0?` { ${i.children.map(H8).join(", ")} } `:"";return`${i.value}${t}`}function LI(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Sl(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Sl(t.params,e.params)||i.paramsSubject.next(e.params),function Vae(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Sl(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.urlSubject.next(e.url),Sl(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function BI(i,t){const e=Sl(i.params,t.params)&&function Wae(i,t){return Xh(i,t)&&i.every((e,n)=>Sl(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||BI(i.parent,t.parent))}function z8(i){return"string"==typeof i.title||null===i.title}let QC=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=te(kv),this.location=te(Fr),this.changeDetector=te(Nt),this.environmentInjector=te(Wo),this.inputBinder=te(eD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cle(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tn]})}return i})();class Cle{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jc?this.route:t===kv?this.childContexts:this.parent.get(t,e)}}const eD=new V("");let U8=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=HC([n.queryParams,n.params,n.data]).pipe(An(([o,s,a],l)=>(a={...o,...s,...a},0===l?Re(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const s=function Ate(i){const t=Dt(i);if(!t)return null;const e=new Db(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(n.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();function Ev(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const r=function kle(i,t,e){return t.children.map(n=>{for(const r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Ev(i,n,r);return Ev(i,n)})}(i,t,e);return new Ua(n,r)}{if(i.shouldAttach(t.value)){const o=i.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ev(i,a)),s}}const n=function Ele(i){return new jc(new wr(i.url),new wr(i.params),new wr(i.queryParams),new wr(i.fragment),new wr(i.data),i.outlet,i.component,i)}(t.value),r=t.children.map(o=>Ev(i,o));return new Ua(n,r)}}const VI="ngNavigationCancelingError";function W8(i,t){const{redirectTo:e,navigationBehaviorOptions:n}=Zh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=j8(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function j8(i,t,e){const n=new Error("NavigationCancelingError: "+(i||""));return n[VI]=!0,n.cancellationCode=t,e&&(n.url=e),n}function $8(i){return i&&i[VI]}let G8=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["ng-component"]],standalone:!0,features:[pi],decls:1,vars:0,template:function(n,r){1&n&&$(0,"router-outlet")},dependencies:[QC],encapsulation:2})}return i})();function HI(i){const t=i.children&&i.children.map(HI),e=t?{...i,children:t}:{...i};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==kt&&(e.component=G8),e}function Al(i){return i.outlet||kt}function Sv(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ple{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),LI(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hp(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Hp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Hp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){const r=Hp(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new yle(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ble(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,o=e?e.value:null;if(LI(r),r===o)if(r.component){const s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),LI(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Sv(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class q8{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tD{constructor(t,e){this.component=t,this.route=e}}function Fle(i,t,e){const n=i._root;return Mv(n,t?t._root:null,e,[n.value])}function zp(i,t){const e=Symbol(),n=t.get(i,e);return n===e?"function"!=typeof i||function md(i){return null!==zf(i)}(i)?t.get(i):i:n}function Mv(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hp(t);return i.children.forEach(s=>{(function Lle(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=i.value,s=t?t.value:null,a=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Ble(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Xh(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Xh(i.url,t.url)||!Sl(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BI(i,t)||!Sl(i.queryParams,t.queryParams);default:return!BI(i,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new q8(n)):(o.data=s.data,o._resolvedData=s._resolvedData),Mv(i,t,o.component?a?a.children:null:e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new tD(a.outlet.component,s))}else s&&Av(t,a,r),r.canActivateChecks.push(new q8(n)),Mv(i,null,o.component?a?a.children:null:e,n,r)})(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Av(a,e.getContext(s),r)),r}function Av(i,t,e){const n=Hp(i),r=i.value;Object.entries(n).forEach(([o,s])=>{Av(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new tD(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Tv(i){return"function"==typeof i}function K8(i){return i instanceof zC||"EmptyError"===i?.name}const iD=Symbol("INITIAL_VALUE");function Up(){return An(i=>HC(i.map(t=>t.pipe(qi(1),_r(iD)))).pipe(ue(t=>{for(const e of t)if(!0!==e){if(e===iD)return iD;if(!1===e||e instanceof Np)return e}return!0}),di(t=>t!==iD),qi(1)))}function J8(i){return function If(...i){return Of(i)}(En(t=>{if(Zh(t))throw W8(0,t)}),ue(t=>!0===t))}class zI{constructor(t){this.segmentGroup=t||null}}class UI extends Error{constructor(t){super(),this.urlTree=t}}function Wp(i){return bv(new zI(i))}class rce{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new z(4002,!1)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Re(n);if(r.numberOfChildren>1||!r.children[kt])return bv(new z(4e3,!1));r=r.children[kt]}}applyRedirectCommands(t,e,n){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e.startsWith("/"))throw new UI(r);return r}applyRedirectCreateUrlTree(t,e,n,r){const o=this.createSegmentGroup(t,e.root,n,r);return new Np(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);n[r]=e[a]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){const o=this.createSegments(t,e.segments,n,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,r)}),new xi(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}const WI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oce(i,t,e,n,r){const o=jI(i,t,e);return o.matched?(n=function Mle(i,t){return i.providers&&!i._injector&&(i._injector=gA(i.providers,t,`Route: ${i.path}`)),i._injector??t}(t,n),function tce(i,t,e,n){const r=t.canMatch;return r&&0!==r.length?Re(r.map(s=>{const a=zp(s,i);return au(function jle(i){return i&&Tv(i.canMatch)}(a)?a.canMatch(t,e):Cc(i,()=>a(t,e)))})).pipe(Up(),J8()):Re(!0)}(n,t,e).pipe(ue(s=>!0===s?o:{...WI}))):Re(o)}function jI(i,t,e){if("**"===t.path)return function sce(i){return{matched:!0,parameters:i.length>0?g8(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?{...WI}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Bae)(e,i,t);if(!r)return{...WI};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Y8(i,t,e,n){return e.length>0&&function cce(i,t,e){return e.some(n=>nD(i,t,n)&&Al(n)!==kt)}(i,e,n)?{segmentGroup:new xi(t,lce(n,new xi(e,i.children))),slicedSegments:[]}:0===e.length&&function dce(i,t,e){return e.some(n=>nD(i,t,n))}(i,e,n)?{segmentGroup:new xi(i.segments,ace(i,0,e,n,i.children)),slicedSegments:e}:{segmentGroup:new xi(i.segments,i.children),slicedSegments:e}}function ace(i,t,e,n,r){const o={};for(const s of n)if(nD(i,e,s)&&!r[Al(s)]){const a=new xi([],{});o[Al(s)]=a}return{...r,...o}}function lce(i,t){const e={};e[kt]=t;for(const n of i)if(""===n.path&&Al(n)!==kt){const r=new xi([],{});e[Al(n)]=r}return e}function nD(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class fce{}class gce{constructor(t,e,n,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new rce(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new z(4002,!1)}recognize(){const t=Y8(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ue(e=>{const n=new FI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),r=new Ua(n,e),o=new V8("",r),s=function rle(i,t,e=null,n=null){return M8(S8(i),t,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,kt).pipe(Yh(n=>{if(n instanceof UI)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof zI?this.noMatchError(n):n}))}inheritParamsAndData(t,e){const n=t.value,r=PI(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0).pipe(ue(o=>o instanceof Ua?[o]:[]))}processChildren(t,e,n){const r=[];for(const o of Object.keys(n.children))"primary"===o?r.unshift(o):r.push(o);return dn(r).pipe(Pp(o=>{const s=n.children[o],a=function Ole(i,t){const e=i.filter(n=>Al(n)===t);return e.push(...i.filter(n=>Al(n)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),function Fae(i,t){return ce(function Pae(i,t,e,n,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ae(s,u=>{const f=c++;l=a?i(l,u,f):(a=!0,u),n&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(i,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),UC(null),function Nae(i,t){const e=arguments.length>=2;return n=>n.pipe(i?di((r,o)=>i(r,o,n)):jn,CI(1),e?UC(t):m8(()=>new zC))}(),Mn(o=>{if(null===o)return Wp(n);const s=X8(o);return function _ce(i){i.sort((t,e)=>t.value.outlet===kt?-1:e.value.outlet===kt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),Re(s)}))}processSegment(t,e,n,r,o,s){return dn(e).pipe(Pp(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,n,r,o,s).pipe(Yh(l=>{if(l instanceof zI)return Re(null);throw l}))),Jh(a=>!!a),Yh(a=>{if(K8(a))return function hce(i,t,e){return 0===t.length&&!i.children[e]}(n,r,o)?Re(new fce):Wp(n);throw a}))}processSegmentAgainstRoute(t,e,n,r,o,s,a){return function uce(i,t,e,n){return!!(Al(i)===n||n!==kt&&nD(t,e,i))&&jI(t,i,e).matched}(n,r,o,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s):Wp(r):Wp(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=jI(e,r,o);if(!a)return Wp(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,f).pipe(Mn(p=>this.processSegment(t,n,e,p.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,o){const s=oce(e,n,r,t);return"**"===n.path&&(e.children={}),s.pipe(An(a=>a.matched?this.getChildConfig(t=n._injector??t,n,r).pipe(An(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:u,remainingSegments:f,parameters:p}=a,g=new FI(u,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function vce(i){return i.data||{}}(n),Al(n),n.component??n._loadedComponent??null,n,function yce(i){return i.resolve||{}}(n)),{segmentGroup:b,slicedSegments:v}=Y8(e,u,f,l);if(0===v.length&&b.hasChildren())return this.processChildren(c,l,b).pipe(ue(S=>null===S?null:new Ua(g,S)));if(0===l.length&&0===v.length)return Re(new Ua(g,[]));const D=Al(n)===o;return this.processSegment(c,l,b,v,D?kt:o,!0).pipe(ue(S=>new Ua(g,S instanceof Ua?[S]:[])))})):Wp(e)))}getChildConfig(t,e,n){return e.children?Re({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Re({routes:e._loadedRoutes,injector:e._loadedInjector}):function ece(i,t,e,n){const r=t.canLoad;return void 0===r||0===r.length?Re(!0):Re(r.map(s=>{const a=zp(s,i);return au(function Hle(i){return i&&Tv(i.canLoad)}(a)?a.canLoad(t,e):Cc(i,()=>a(t,e)))})).pipe(Up(),J8())}(t,e,n).pipe(Mn(r=>r?this.configLoader.loadChildren(t,e).pipe(En(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function nce(i){return bv(j8(!1,3))}())):Re({routes:[],injector:t})}}function bce(i){const t=i.value.routeConfig;return t&&""===t.path}function X8(i){const t=[],e=new Set;for(const n of i){if(!bce(n)){t.push(n);continue}const r=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):t.push(n)}for(const n of e){const r=X8(n.children);t.push(new Ua(n.value,r))}return t.filter(n=>!e.has(n))}function Z8(i){const t=i.children.map(e=>Z8(e)).flat();return[i,...t]}function $I(i){return An(t=>{const e=i(t);return e?dn(e).pipe(ue(()=>t)):Re(t)})}let Q8=(()=>{class i{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===kt);return n}getResolvedTitleForRoute(e){return e.data[vv]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(Ece),providedIn:"root"})}return i})(),Ece=(()=>{class i extends Q8{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||i)(U(B4))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const jp=new V("",{providedIn:"root",factory:()=>({})}),$p=new V("ROUTES");let GI=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(mV)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Re(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=au(e.loadComponent()).pipe(ue(ez),En(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),jC(()=>{this.componentLoaders.delete(e)})),r=new f8(n,()=>new de).pipe(xI());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Re({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=function Sce(i,t,e,n){return au(i.loadChildren()).pipe(ue(ez),Mn(r=>r instanceof T3||Array.isArray(r)?Re(r):dn(t.compileModuleAsync(r))),ue(r=>{n&&n(i);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get($p,[],{optional:!0,self:!0}).flat()),{routes:s.map(HI),injector:o}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(jC(()=>{this.childrenLoaders.delete(n)})),s=new f8(o,()=>new de).pipe(xI());return this.childrenLoaders.set(n,s),s}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ez(i){return function Mce(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let qI=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(Ace),providedIn:"root"})}return i})(),Ace=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const tz=new V(""),iz=new V("");function Tce(i,t,e){const n=i.get(iz),r=i.get(nt);return i.get(_e).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),function Ice(i){return new Promise(t=>{aL(t,{injector:i})})}(i))),{onViewTransitionCreated:l}=n;return l&&Cc(i,()=>l({transition:a,from:t,to:e})),s})}let rD=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new de,this.transitionAbortSubject=new de,this.configLoader=te(GI),this.environmentInjector=te(Wo),this.urlSerializer=te(Lp),this.rootContexts=te(kv),this.location=te(Sp),this.inputBindingEnabled=null!==te(eD,{optional:!0}),this.titleStrategy=te(Q8),this.options=te(jp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(qI),this.createViewTransition=te(tz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new gle(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ple(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new wr({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Dv,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(di(o=>0!==o.id),ue(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),An(o=>{this.currentTransition=o;let s=!1,a=!1;return Re(o).pipe(En(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),An(l=>{const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const f="";return this.events.next(new Vp(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),Gr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Re(l).pipe(An(f=>{const p=this.transitions?.getValue();return this.events.next(new XC(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Gr:Promise.resolve(f)}),function wce(i,t,e,n,r,o){return Mn(s=>function mce(i,t,e,n,r,o,s="emptyOnly"){return new gce(i,t,e,n,r,s,o).recognize()}(i,t,e,n,s.extractedUrl,r,o).pipe(ue(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),En(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new P8(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:b,extras:v}=l,D=new XC(f,this.urlSerializer.serialize(p),g,b);this.events.next(D);const S=B8(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:S,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=p,Re(o)}{const f="";return this.events.next(new Vp(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),Gr}}),En(l=>{const c=new ule(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),ue(l=>(this.currentTransition=o={...l,guards:Fle(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Gle(i,t){return Mn(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Re({...e,guardsResult:!0}):function qle(i,t,e,n){return dn(i).pipe(Mn(r=>function Qle(i,t,e,n,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Re(o.map(a=>{const l=Sv(t)??r,c=zp(a,l);return au(function Wle(i){return i&&Tv(i.canDeactivate)}(c)?c.canDeactivate(i,t,e,n):Cc(l,()=>c(i,t,e,n))).pipe(Jh())})).pipe(Up()):Re(!0)}(r.component,r.route,e,t,n)),Jh(r=>!0!==r,!0))}(s,n,r,i).pipe(Mn(a=>a&&function Vle(i){return"boolean"==typeof i}(a)?function Kle(i,t,e,n){return dn(t).pipe(Pp(r=>_v(function Yle(i,t){return null!==i&&t&&t(new _le(i)),Re(!0)}(r.route.parent,n),function Jle(i,t){return null!==i&&t&&t(new vle(i)),Re(!0)}(r.route,n),function Zle(i,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Nle(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(s)).filter(s=>null!==s).map(s=>wI(()=>Re(s.guards.map(l=>{const c=Sv(s.node)??e,u=zp(l,c);return au(function Ule(i){return i&&Tv(i.canActivateChild)}(u)?u.canActivateChild(n,i):Cc(c,()=>u(n,i))).pipe(Jh())})).pipe(Up())));return Re(o).pipe(Up())}(i,r.path,e),function Xle(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Re(!0);const r=n.map(o=>wI(()=>{const s=Sv(t)??e,a=zp(o,s);return au(function zle(i){return i&&Tv(i.canActivate)}(a)?a.canActivate(t,i):Cc(s,()=>a(t,i))).pipe(Jh())}));return Re(r).pipe(Up())}(i,r.route,e))),Jh(r=>!0!==r,!0))}(n,o,i,t):Re(a)),ue(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),En(l=>{if(o.guardsResult=l.guardsResult,Zh(l.guardsResult))throw W8(0,l.guardsResult);const c=new hle(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),di(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),$I(l=>{if(l.guards.canActivateChecks.length)return Re(l).pipe(En(c=>{const u=new fle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),An(c=>{let u=!1;return Re(c).pipe(function xce(i,t){return Mn(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return Re(e);const o=new Set(r.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of Z8(l))s.add(c);let a=0;return dn(s).pipe(Pp(l=>o.has(l)?function Cce(i,t,e,n){const r=i.routeConfig,o=i._resolve;return void 0!==r?.title&&!z8(r)&&(o[vv]=r.title),function Dce(i,t,e,n){const r=DI(i);if(0===r.length)return Re({});const o={};return dn(r).pipe(Mn(s=>function kce(i,t,e,n){const r=Sv(t)??n,o=zp(i,r);return au(o.resolve?o.resolve(t,e):Cc(r,()=>o(t,e)))}(i[s],t,e,n).pipe(Jh(),En(a=>{o[s]=a}))),CI(1),WC(o),Yh(s=>K8(s)?Gr:bv(s)))}(o,i,t,n).pipe(ue(s=>(i._resolvedData=s,i.data=PI(i,i.parent,e).resolve,null)))}(l,n,i,t):(l.data=PI(l,l.parent,i).resolve,Re(void 0))),En(()=>a++),CI(1),Mn(l=>a===s.size?Re(e):Gr))})}(this.paramsInheritanceStrategy,this.environmentInjector),En({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),En(c=>{const u=new mle(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),$I(l=>{const c=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(En(p=>{u.component=p}),ue(()=>{})));for(const p of u.children)f.push(...c(p));return f};return HC(c(l.targetSnapshot.root)).pipe(UC(),qi(1))}),$I(()=>this.afterPreactivation()),An(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?dn(u).pipe(ue(()=>o)):Re(o)}),ue(l=>{const c=function Dle(i,t,e){const n=Ev(i,t._root,e?e._root:void 0);return new L8(n,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),En(()=>{this.events.next(new TI)}),((i,t,e,n)=>ue(r=>(new Ple(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qi(1),En({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),et(this.transitionAbortSubject.pipe(En(l=>{throw l}))),jC(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Yh(l=>{if(a=!0,$8(l))this.events.next(new Bp(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function Sle(i){return $8(i)&&Zh(i.url)}(l)?this.events.next(new II(l.url)):o.resolve(!1);else{this.events.next(new ZC(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return Gr}))}))}cancelNavigationTransition(e,n,r){const o=new Bp(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Oce(i){return i!==Dv}let Rce=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(Fce),providedIn:"root"})}return i})();class Pce{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Fce=(()=>{class i extends Pce{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),nz=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:()=>te(Nce),providedIn:"root"})}return i})(),Nce=(()=>{class i extends nz{constructor(){super(...arguments),this.location=te(Sp),this.urlSerializer=te(Lp),this.options=te(jp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(qI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Np,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=B8(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{"popstate"===n.type&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof XC)this.stateMemento=this.createStateMemento();else if(e instanceof Vp)this.rawUrlTree=n.initialUrl;else if(e instanceof P8){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else e instanceof TI?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Bp&&(3===e.code||2===e.code)?this.restoreHistory(n):e instanceof ZC?this.restoreHistory(n,!0):e instanceof Wc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Iv=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Iv||{});function rz(i,t){i.events.pipe(di(e=>e instanceof Wc||e instanceof Bp||e instanceof ZC||e instanceof Vp),ue(e=>e instanceof Wc||e instanceof Vp?Iv.COMPLETE:e instanceof Bp&&(0===e.code||1===e.code)?Iv.REDIRECTING:Iv.FAILED),di(e=>e!==Iv.REDIRECTING),qi(1)).subscribe(()=>{t()})}function Lce(i){throw i}const Bce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(uV),this.stateManager=te(nz),this.options=te(jp,{optional:!0})||{},this.pendingTasks=te(fV),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(rD),this.urlSerializer=te(Lp),this.location=te(Sp),this.urlHandlingStrategy=te(qI),this._events=new de,this.errorHandler=this.options.errorHandler||Lce,this.navigated=!1,this.routeReuseStrategy=te(Rce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te($p,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(eD,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=te(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(n,o),n instanceof Bp&&0!==n.code&&1!==n.code)this.navigated=!0;else if(n instanceof Wc)this.navigated=!0;else if(n instanceof II){const s=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Oce(r.source)};this.scheduleNavigation(s,Dv,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function zce(i){return!(i instanceof TI||i instanceof II)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Dv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)}))}navigateToSyncWithBrowser(e,n,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(HI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:s;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{f=S8(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return M8(f,e,u,c??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=Zh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Dv,null,n)}navigate(e,n={skipLocationChange:!1}){return function Hce(i){for(let t=0;t<i.length;t++)if(null==i[t])throw new z(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(r=!0===n?{...Bce}:!1===n?{...Vce}:n,Zh(e))return b8(this.currentUrlTree,e,r);const o=this.parseUrl(e);return b8(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const o=e[r];return null!=o&&(n[r]=o),n},{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,p)=>{a=f,l=p});const u=this.pendingTasks.add();return rz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qh=(()=>{class i{constructor(e,n,r,o,s,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new de,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Wc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function be(i,t,e){return function re(i,t){return"src"===t&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===t&&("base"===i||"link"===i)?R:T}(t,e)(i)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,o=this.el.nativeElement;null!==n?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||i)(C(So),C(jc),Xr("tabindex"),C(Ic),C(ke),C(Vh))};static#t=this.\u0275dir=ne({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&J("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&ze("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ht],skipLocationChange:["skipLocationChange","skipLocationChange",ht],replaceUrl:["replaceUrl","replaceUrl",ht],routerLink:"routerLink"},standalone:!0,features:[er,tn]})}return i})(),KI=(()=>{class i{get isActive(){return this._isActive}constructor(e,n,r,o,s){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof Wc&&this.update()})}ngAfterContentInit(){Re(this.links.changes,Re(null)).pipe(ud()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=dn(e).pipe(ud()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function Uce(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(So),C(ke),C(Ic),C(Nt),C(Qh,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(1&n&&ut(o,Qh,5),2&n){let s;fe(s=me())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[tn]})}return i})();class oz{}let Wce=(()=>{class i{constructor(e,n,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(di(e=>e instanceof Wc),Pp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const o of n){o.providers&&!o._injector&&(o._injector=gA(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return dn(r).pipe(ud())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):Re(null);const o=r.pipe(Mn(s=>null===s?Re(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return n.loadComponent&&!n._loadedComponent?dn([o,this.loader.loadComponent(n)]).pipe(ud()):o})}static#e=this.\u0275fac=function(n){return new(n||i)(U(So),U(mV),U(Wo),U(oz),U(GI))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const JI=new V("");let sz=(()=>{class i{constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof XC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Wc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Vp&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof F8&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new F8(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){gM()};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();function Tl(i,t){return{\u0275kind:i,\u0275providers:t}}function lz(){const i=te(Xn);return t=>{const e=i.get(Qd);if(t!==e.components[0])return;const n=i.get(So),r=i.get(cz);1===i.get(YI)&&n.initialNavigation(),i.get(dz,null,xt.Optional)?.setUpPreloading(),i.get(JI,null,xt.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const cz=new V("",{factory:()=>new de}),YI=new V("",{providedIn:"root",factory:()=>1}),dz=new V("");function qce(i){return Tl(0,[{provide:dz,useExisting:Wce},{provide:oz,useExisting:i}])}function Jce(i){return Tl(9,[{provide:tz,useValue:Tce},{provide:iz,useValue:{skipNextTransition:!!i?.skipInitialTransition,...i}}])}const uz=new V("ROUTER_FORROOT_GUARD"),Yce=[Sp,{provide:Lp,useClass:kI},So,kv,{provide:jc,useFactory:function az(i){return i.routerState.root},deps:[So]},GI,[]];let ef=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[Yce,[],{provide:$p,multi:!0,useValue:e},{provide:uz,useFactory:ede,deps:[[So,new yc,new dh]]},{provide:jp,useValue:n||{}},n?.useHash?{provide:Vh,useClass:Pte}:{provide:Vh,useClass:i4},{provide:JI,useFactory:()=>{const i=te(ine),t=te(_e),e=te(jp),n=te(rD),r=te(Lp);return e.scrollOffset&&i.setOffset(e.scrollOffset),new sz(r,n,i,t,e)}},n?.preloadingStrategy?qce(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?tde(n):[],n?.bindToComponentInputs?Tl(8,[U8,{provide:eD,useExisting:U8}]).\u0275providers:[],n?.enableViewTransitions?Jce().\u0275providers:[],[{provide:hz,useFactory:lz},{provide:PA,multi:!0,useExisting:hz}]]}}static forChild(e){return{ngModule:i,providers:[{provide:$p,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||i)(U(uz,8))};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();function ede(i){return"guarded"}function tde(i){return["disabled"===i.initialNavigation?Tl(3,[{provide:SA,multi:!0,useFactory:()=>{const t=te(So);return()=>{t.setUpLocationChangeListener()}}},{provide:YI,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?Tl(2,[{provide:YI,useValue:0},{provide:SA,multi:!0,deps:[Xn],useFactory:t=>{const e=t.get(Ote,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=t.get(So),o=t.get(cz);rz(r,()=>{n(!0)}),t.get(rD).afterPreactivation=()=>(n(!0),o.closed?Re(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const hz=new V("");let XI,br=(()=>{class i{constructor(e,n,r){this.lmApiService=e,this.router=n,this.route=r,this.state=vs(gae),this.data=vs(JSON.parse(localStorage.getItem("data")||JSON.stringify(BC()))),this.editData=function wae(i){return function t(e){let n=i();const r=e(n);r&&(n=r);const o={...n};return i.set(o),o}}(this.data),this.updaterLoop(),this.appName=wi(()=>this.data().settings.name),this.dataJson=wi(()=>JSON.stringify(this.data())),this.dataSize=wi(()=>this.dataJson().length),this.errors=vs([]),wl(()=>{localStorage.setItem("data",this.dataJson())})}updaterLoop(){const e=JSON.parse(localStorage.getItem("data")||JSON.stringify(BC()));su(e,this.data())||this.data.set(e),setTimeout(()=>this.updaterLoop(),3e3)}getParticipantAndStage(e){const r=bI(this.state(),pv.Participant).particpant;return{stageData:wi(()=>bI(r.viewingStage(),e).config),participant:r}}validParticipant(e,n){return e in this.data().experiments&&n in this.data().experiments[e].participants}setSetting(e,n){const r=this.data();r.settings[e]!==n&&(r.settings[e]=n,this.data.set({...r}))}reset(){this.data.set(BC())}addExperiment(e,n){if(e in this.data().experiments)throw new Error(`experiment with that name already exists: ${e}`);this.editData(r=>{const o=s8(e,3,n);r.experiments[o.name]=o})}deleteExperiment(e){this.editData(n=>{delete n.experiments[e]})}static#e=this.\u0275fac=function(n){return new(n||i)(U(u8),U(So),U(jc))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),nde=(()=>{class i{constructor(e){this.stateService=e,wl(()=>{document.title=`Experiment: ${this.stateService.appName()}`})}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&$(0,"router-outlet")},dependencies:[QC]})}return i})();try{XI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{XI=!1}let Gp,zi=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function tne(i){return i===y4}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!XI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||i)(U(kc))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const fz=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mz(){if(Gp)return Gp;if("object"!=typeof document||!document)return Gp=new Set(fz),Gp;let i=document.createElement("input");return Gp=new Set(fz.filter(t=>(i.setAttribute("type",t),i.type===t))),Gp}let Ov,oD,tf,ZI;function Il(i){return function rde(){if(null==Ov&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ov=!0}))}finally{Ov=Ov||!1}return Ov}()?i:!!i.capture}function pz(){if(null==tf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tf=!1,tf;if("scrollBehavior"in document.documentElement.style)tf=!0;else{const i=Element.prototype.scrollTo;tf=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return tf}function Rv(){if("object"!=typeof document||!document)return 0;if(null==oD){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),oD=0,0===i.scrollLeft&&(i.scrollLeft=1,oD=0===i.scrollLeft?1:2),i.remove()}return oD}function QI(i){if(function ode(){if(null==ZI){const i=typeof document<"u"?document.head:null;ZI=!(!i||!i.createShadowRoot&&!i.attachShadow)}return ZI}()){const t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function na(i){return i.composedPath?i.composedPath()[0]:i.target}function eO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ra(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}class yde extends We{constructor(t,e){super()}schedule(t,e=0){return this}}const uD={setInterval(i,t,...e){const{delegate:n}=uD;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){const{delegate:t}=uD;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};class rO extends yde{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return uD.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&uD.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,n=!1;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,va(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const oO={now:()=>(oO.delegate||Date).now(),delegate:void 0};class Pv{constructor(t,e=Pv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Pv.now=oO.now;class sO extends Pv{constructor(t,e=Pv.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Fv=new sO(rO),wde=Fv;function hD(i,t=Fv){return ce((e,n)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,n.next(c)}};function l(){const c=s+i,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void n.add(r);a()}e.subscribe(ae(n,c=>{o=c,s=t.now(),r||(r=t.schedule(l,i),n.add(r))},()=>{a(),n.complete()},void 0,()=>{o=r=null}))})}function gz(i){return di((t,e)=>i<=e)}function $e(i){return null!=i&&"false"!=`${i}`}function Ki(i,t=0){return function xde(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function Nv(i){return Array.isArray(i)?i:[i]}function Bn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function pn(i){return i instanceof ke?i.nativeElement:i}let _z=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Cde=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=pn(e);return new zt(r=>{const s=this._observeElement(n).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new de,r=this._mutationObserverFactory.create(o=>n.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(n){return new(n||i)(U(_z))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bz=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ki(e),this._subscribe()}constructor(e,n,r){this._contentObserver=e,this._elementRef=n,this._ngZone=r,this.event=new pe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(hD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(C(Cde),C(ke),C(_e))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled",ht],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[er]})}return i})(),aO=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[_z]})}return i})();const vz=new Set;let nf,Dde=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ede}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function kde(i,t){if(!vz.has(i))try{nf||(nf=document.createElement("style"),t&&(nf.nonce=t),nf.setAttribute("type","text/css"),document.head.appendChild(nf)),nf.sheet&&(nf.sheet.insertRule(`@media ${i} {body{ }}`,0),vz.add(i))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi),U(Z_,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ede(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Sde=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new de}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return yz(Nv(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=HC(yz(Nv(e)).map(s=>this._registerQuery(s).observable));return o=_v(o.pipe(qi(1)),o.pipe(gz(1),hD(0))),o.pipe(ue(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new zt(s=>{const a=l=>this._zone.run(()=>s.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(_r(n),ue(({matches:s})=>({query:e,matches:s})),et(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(n){return new(n||i)(U(Dde),U(_e))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yz(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function xz(i,t,e){const n=fD(i,t);n.some(r=>r.trim()==e.trim())||(n.push(e.trim()),i.setAttribute(t,n.join(" ")))}function lO(i,t,e){const r=fD(i,t).filter(o=>o!=e.trim());r.length?i.setAttribute(t,r.join(" ")):i.removeAttribute(t)}function fD(i,t){return(i.getAttribute(t)||"").match(/\S+/g)||[]}const Cz="cdk-describedby-message",mD="cdk-describedby-host";let cO=0,Mde=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+cO++,this._document=e,this._id=te(fh)+"-"+cO++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;const o=dO(n,r);"string"!=typeof n?(Dz(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;const o=dO(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof n){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${mD}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(mD);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){const r=this._document.createElement("div");Dz(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(dO(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const n=fD(e,"aria-describedby").filter(r=>0!=r.indexOf(Cz));e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){const r=this._messageRegistry.get(n);xz(e,"aria-describedby",r.messageElement.id),e.setAttribute(mD,this._id),r.referenceCount++}_removeMessageReference(e,n){const r=this._messageRegistry.get(n);r.referenceCount--,lO(e,"aria-describedby",r.messageElement.id),e.removeAttribute(mD)}_isElementDescribedByMessage(e,n){const r=fD(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&"object"==typeof n)return!0;const r=null==n?"":`${n}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(zi))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function dO(i,t){return"string"==typeof i?`${t||""}/${i}`:i}function Dz(i,t){i.id||(i.id=`${Cz}-${t}-${cO++}`)}class kz{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new de,this._typeaheadSubscription=We.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new de,this.change=new de,t instanceof Pc&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(En(e=>this._pressedLetters.push(e)),hD(t),di(()=>this._pressedLetters.length>0),ue(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let r=1;r<n.length+1;r++){const o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ra(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Pc?this._items.toArray():this._items}}class Ade extends kz{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class pD extends kz{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ez=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ide(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function Tde(i){try{return i.frameElement}catch{return null}}(function Vde(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===Mz(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=Mz(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Lde(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function Bde(i){return!function Rde(i){return function Fde(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function Ode(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function Pde(i){return function Nde(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Sz(i))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Sz(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Mz(i){if(!Sz(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Hde{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qi(1)).subscribe(t)}}let zde=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new Hde(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||i)(U(Ez),U(_e),U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function gD(i){return 0===i.buttons||0===i.detail}function _D(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Ude=new V("cdk-input-modality-detector-options"),Wde={ignoreKeys:[18,17,224,91,16]},qp=Il({passive:!0,capture:!0});let jde=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new wr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=na(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gD(s)?"keyboard":"mouse"),this._mostRecentTarget=na(s))},this._onTouchstart=s=>{_D(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=na(s))},this._options={...Wde,...o},this.modalityDetected=this._modality.pipe(gz(1)),this.modalityChanged=this.modalityDetected.pipe(hd()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qp),r.addEventListener("mousedown",this._onMousedown,qp),r.addEventListener("touchstart",this._onTouchstart,qp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qp),document.removeEventListener("mousedown",this._onMousedown,qp),document.removeEventListener("touchstart",this._onTouchstart,qp))}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi),U(_e),U(nt),U(Ude,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $de=new V("liveAnnouncerElement",{providedIn:"root",factory:function Gde(){return null}}),qde=new V("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Kde=0,Jde=(()=>{class i{constructor(e,n,r,o){this._ngZone=n,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...n){const r=this._defaultOptions;let o,s;return 1===n.length&&"number"==typeof n[0]?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Kde++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){const o=n[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(n){return new(n||i)(U($de,8),U(_e),U(nt),U(qde,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Yde=new V("cdk-focus-monitor-default-options"),bD=Il({passive:!0,capture:!0});let Wa=(()=>{class i{constructor(e,n,r,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new de,this._rootNodeFocusAndBlurListener=a=>{for(let c=na(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const r=pn(e);if(!this._platform.isBrowser||1!==r.nodeType)return Re();const o=QI(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;const a={checkChildren:n,subject:new de,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const n=pn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){const o=pn(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const r=this._elementInfo.get(n),o=na(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){const r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,bD),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,bD)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(et(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bD),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bD),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!n||n===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0;return!1}static#e=this.\u0275fac=function(n){return new(n||i)(U(_e),U(zi),U(jde),U(nt,8),U(Yde,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Tz="cdk-high-contrast-black-on-white",Iz="cdk-high-contrast-white-on-black",uO="cdk-high-contrast-active";let Oz=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=te(Sde).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(uO,Tz,Iz),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(uO,Tz):2===n&&e.add(uO,Iz)}}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi),U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rz=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Oz))};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[aO]})}return i})();const Xde=new V("cdk-dir-doc",{providedIn:"root",factory:function Zde(){return te(nt)}}),Qde=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ks=(()=>{class i{constructor(e){this.value="ltr",this.change=new pe,e&&(this.value=function eue(i){const t=i?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Qde.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||i)(U(Xde,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Lv=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const tue=["text"];function iue(i,t){if(1&i&&$(0,"mat-pseudo-checkbox",6),2&i){const e=Q();j("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function nue(i,t){1&i&&$(0,"mat-pseudo-checkbox",7),2&i&&j("disabled",Q().disabled)}function rue(i,t){if(1&i&&(w(0,"span",8),I(1),k()),2&i){const e=Q();M(1),ii("(",e.group.label,")")}}const oue=[[["mat-icon"]],"*"],sue=["mat-icon","*"],lue=new V("mat-sanity-checks",{providedIn:"root",factory:function aue(){return!0}});let Mt=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!eO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||i)(U(Oz),U(lue,8),U(nt))};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Lv,Lv]})}return i})();function Nz(i){return class extends i{get disabled(){return this._disabled}set disabled(t){this._disabled=$e(t)}constructor(...t){super(...t),this._disabled=!1}}}function vD(i,t){return class extends i{get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function yD(i){return class extends i{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=$e(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function Kp(i,t=0){return class extends i{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ki(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function hO(i){return class extends i{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let wD=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class due{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lz=Il({passive:!0,capture:!0});class uue{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=na(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){const o=this._events.get(e);if(o){const s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Lz)})}removeHandler(t,e,n){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(n),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Lz)))}}const Bz={enterDuration:225,exitDuration:150},Vz=Il({passive:!0,capture:!0}),Hz=["mousedown","touchstart"],zz=["mouseup","mouseleave","touchend","touchcancel"];class Vv{static#e=this._eventManager=new uue;constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pn(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Bz,...n.animation};n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function fue(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const f=window.getComputedStyle(u),g=f.transitionDuration,b="none"===f.transitionProperty||"0s"===g||"0s, 0s"===g||0===r.width&&0===r.height,v=new due(this,u,n,b);u.style.transform="scale3d(1, 1, 1)",v.state=0,n.persistent||(this._mostRecentTransientRipple=v);let D=null;return!b&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const S=()=>this._finishRippleTransition(v),A=()=>this._destroyRipple(v);u.addEventListener("transitionend",S),u.addEventListener("transitioncancel",A),D={onTransitionEnd:S,onTransitionCancel:A}}),this._activeRipples.set(v,D),(b||!c)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,n={...Bz,...t.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=pn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Hz.forEach(n=>{Vv._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{zz.forEach(e=>{this._triggerElement.addEventListener(e,this,Vz)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=gD(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!_D(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Hz.forEach(e=>Vv._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&zz.forEach(e=>t.removeEventListener(e,this,Vz)))}}const cu=new V("mat-ripple-global-options");let Rl=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Vv(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e),C(zi),C(cu,8),C(Vi,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})(),Pl=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Mt]})}return i})(),mue=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(n){return new(n||i)(C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){2&n&&Ae("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return i})(),Uz=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt]})}return i})();const Wz=new V("MAT_OPTION_PARENT_COMPONENT"),jz=new V("MatOptgroup");let pue=0;class gue{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let fO=(()=>{class i{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,n,r,o){this._element=e,this._changeDetectorRef=n,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+pue++,this.onSelectionChange=new pe,this._stateChanges=new de}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ra(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new gue(this,e))}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(Nt),C(Wz,8),C(jz,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(1&n&&Ft(tue,7),2&n){let o;fe(o=me())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){1&n&&J("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&n&&(ws("id",r.id),ze("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Ae("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:["disabled","disabled",ht]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[er],ngContentSelectors:sue,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(n,r){1&n&&(Lt(oue),he(0,iue,1,2,"mat-pseudo-checkbox",0),ye(1),w(2,"span",1,2),ye(4,1),k(),he(5,nue,1,1,"mat-pseudo-checkbox",3)(6,rue,2,1,"span",4),$(7,"div",5)),2&n&&(xe(0,r.multiple?0:-1),M(5),xe(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),M(1),xe(6,r.group&&r.group._inert?6:-1),M(1),j("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Rl,mue],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),$z=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Pl,Mt,Uz]})}return i})();const Gz={capture:!0},qz=["focus","click","mouseenter","touchstart"],mO="mat-ripple-loader-uninitialized",pO="mat-ripple-loader-class-name",Kz="mat-ripple-loader-centered",xD="mat-ripple-loader-disabled";let Jz=(()=>{class i{constructor(){this._document=te(nt,{optional:!0}),this._animationMode=te(Vi,{optional:!0}),this._globalRippleOptions=te(cu,{optional:!0}),this._platform=te(zi),this._ngZone=te(_e),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${mO}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of qz)this._document?.addEventListener(e,this._onInteraction,Gz)})}ngOnDestroy(){for(const e of qz)this._document?.removeEventListener(e,this._onInteraction,Gz)}configureRipple(e,n){e.setAttribute(mO,""),(n.className||!e.hasAttribute(pO))&&e.setAttribute(pO,n.className||""),n.centered&&e.setAttribute(Kz,""),n.disabled&&e.setAttribute(xD,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,n){const r=e.matRipple;r?r.disabled=n:n?e.setAttribute(xD,""):e.removeAttribute(xD)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(pO)),e.append(n);const r=new Rl(new ke(n),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(Kz),r.disabled=e.hasAttribute(xD),this.attachRipple(e,r),r}attachRipple(e,n){e.removeAttribute(mO),e.matRipple=n}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const vue=["mat-button",""],yue=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wue=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Cue=["mat-icon-button",""],Due=["*"],kue=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Yz=(()=>{class i{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,n,r,o){this._elementRef=e,this._platform=n,this._ngZone=r,this._animationMode=o,this._focusMonitor=te(Wa),this._rippleLoader=te(Jz),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=this._elementRef.nativeElement,a=s.classList;for(const{attribute:l,mdcClasses:c}of kue)s.hasAttribute(l)&&a.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(n){gM()};static#t=this.\u0275dir=ne({type:i,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",ht],disabled:["disabled","disabled",ht]},features:[er]})}return i})(),$c=(()=>{class i extends Yz{constructor(e,n,r,o){super(e,n,r,o)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(zi),C(_e),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(ze("disabled",r.disabled||null),up(r.color?"mat-"+r.color:""),Ae("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Me],attrs:vue,ngContentSelectors:wue,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Lt(yue),$(0,"span",0),ye(1),w(2,"span",1),ye(3,1),k(),ye(4,2),$(5,"span",2)(6,"span",3)),2&n&&Ae("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),CD=(()=>{class i extends Yz{constructor(e,n,r,o){super(e,n,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(zi),C(_e),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["button","mat-icon-button",""]],hostVars:9,hostBindings:function(n,r){2&n&&(ze("disabled",r.disabled||null),up(r.color?"mat-"+r.color:""),Ae("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Me],attrs:Cue,ngContentSelectors:Due,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){1&n&&(Lt(),$(0,"span",0),ye(1),$(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;border-radius:50%;flex-shrink:0;text-align:center;font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return i})(),Xo=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Pl,Mt]})}return i})();class Sue extends de{constructor(t=1/0,e=1/0,n=oO){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){const s=e.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}class Aue{constructor(t){this._box=t,this._destroyed=new de,this._resizeSubject=new de,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new zt(e=>{const n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(di(e=>e.some(n=>n.target===t)),function Mue(i,t,e){let n,r=!1;return i&&"object"==typeof i?({bufferSize:n=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=i):n=i??1/0,xr({connector:()=>new Sue(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),et(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Tue=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=te(_e)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,n){const r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Aue(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Gc="*";function qc(i,t){return{type:7,name:i,definitions:t,options:{}}}function oa(i,t=null){return{type:4,styles:t,timings:i}}function Vn(i){return{type:6,styles:i,offset:null}}function sa(i,t,e){return{type:0,name:i,styles:t,options:e}}function Es(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Oue(i=null){return{type:9,options:i}}function Rue(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}class Hv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Xz{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}const Lue=["notch"],Bue=["matFormFieldNotchedOutline",""],Vue=["*"],Hue=["textField"],zue=["iconPrefixContainer"],Uue=["textPrefixContainer"];function Wue(i,t){1&i&&$(0,"span",16)}function jue(i,t){if(1&i&&(w(0,"label",14),ye(1,1),he(2,Wue,1,0,"span",15),k()),2&i){const e=Q(2);j("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ze("for",e._control.id),M(2),xe(2,!e.hideRequiredMarker&&e._control.required?2:-1)}}function $ue(i,t){1&i&&he(0,jue,3,5,"label",14),2&i&&xe(0,Q()._hasFloatingLabel()?0:-1)}function Gue(i,t){1&i&&$(0,"div",17)}function que(i,t){}function Kue(i,t){1&i&&he(0,que,0,0,"ng-template",9),2&i&&(Q(2),j("ngTemplateOutlet",Nn(1)))}function Jue(i,t){if(1&i&&(w(0,"div",5),he(1,Kue,1,1,null,9),k()),2&i){const e=Q();j("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),M(1),xe(1,e._forceDisplayInfixLabel()?-1:1)}}function Yue(i,t){1&i&&(w(0,"div",18,19),ye(2,2),k())}function Xue(i,t){1&i&&(w(0,"div",20,21),ye(2,3),k())}function Zue(i,t){}function Que(i,t){1&i&&he(0,Zue,0,0,"ng-template",9),2&i&&(Q(),j("ngTemplateOutlet",Nn(1)))}function ehe(i,t){1&i&&(w(0,"div",22),ye(1,4),k())}function the(i,t){1&i&&(w(0,"div",23),ye(1,5),k())}function ihe(i,t){1&i&&$(0,"div",12)}function nhe(i,t){1&i&&(w(0,"div",24),ye(1,6),k()),2&i&&j("@transitionMessages",Q()._subscriptAnimationState)}function rhe(i,t){if(1&i&&(w(0,"mat-hint",26),I(1),k()),2&i){const e=Q(2);j("id",e._hintLabelId),M(1),Ot(e.hintLabel)}}function ohe(i,t){if(1&i&&(w(0,"div",25),he(1,rhe,2,2,"mat-hint",26),ye(2,7),$(3,"div",27),ye(4,8),k()),2&i){const e=Q();j("@transitionMessages",e._subscriptAnimationState),M(1),xe(1,e.hintLabel?1:-1)}}const she=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ahe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ja=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-label"]]})}return i})();const lhe=new V("MatError");let che=0,Zz=(()=>{class i{constructor(){this.align="start",this.id="mat-mdc-hint-"+che++}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){2&n&&(ws("id",r.id),ze("align",null),Ae("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return i})();const dhe=new V("MatPrefix"),uhe=new V("MatSuffix"),Qz=new V("FloatingLabelParent");let e6=(()=>{class i{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=te(Tue),this._ngZone=te(_e),this._parent=te(Qz),this._resizeSubscription=new We}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function hhe(i){if(null!==i.offsetParent)return i.scrollWidth;const e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const n=e.scrollWidth;return e.remove(),n}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke))};static#t=this.\u0275dir=ne({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();const t6="mdc-line-ripple--active",DD="mdc-line-ripple--deactivating";let i6=(()=>{class i{constructor(e,n){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(DD);"opacity"===r.propertyName&&s&&o.remove(t6,DD)},n.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(DD),e.add(t6)}deactivate(){this._elementRef.nativeElement.classList.add(DD)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e))};static#t=this.\u0275dir=ne({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),n6=(()=>{class i{constructor(e,n){this._elementRef=e,this._ngZone=n,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e))};static#t=this.\u0275cmp=x({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(1&n&&Ft(Lue,5),2&n){let o;fe(o=me())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Bue,ngContentSelectors:Vue,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(n,r){1&n&&(Lt(),$(0,"div",0),w(1,"div",1,2),ye(3),k(),$(4,"div",3))},encapsulation:2,changeDetection:0})}return i})();const fhe={transitionMessages:qc("transitionMessages",[sa("enter",Vn({opacity:1,transform:"translateY(0%)"})),Es("void => enter",[Vn({opacity:0,transform:"translateY(-5px)"}),oa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let kD=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i})}return i})();const ED=new V("MatFormField"),mhe=new V("MAT_FORM_FIELD_DEFAULT_OPTIONS");let r6=0,Kc=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=$e(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,n,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+r6++,this._hintLabelId="mat-mdc-hint-"+r6++,this._subscriptAnimationState="",this._destroyed=new de,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(et(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Wi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(et(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(et(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const n=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=n?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(Nt),C(_e),C(ks),C(zi),C(mhe,8),C(Vi,8),C(nt))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,ja,5),ut(o,ja,7),ut(o,kD,5),ut(o,dhe,5),ut(o,uhe,5),ut(o,lhe,5),ut(o,Zz,5)),2&n){let s;fe(s=me())&&(r._labelChildNonStatic=s.first),fe(s=me())&&(r._labelChildStatic=s.first),fe(s=me())&&(r._formFieldControl=s.first),fe(s=me())&&(r._prefixChildren=s),fe(s=me())&&(r._suffixChildren=s),fe(s=me())&&(r._errorChildren=s),fe(s=me())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(1&n&&(Ft(Hue,5),Ft(zue,5),Ft(Uue,5),Ft(e6,5),Ft(n6,5),Ft(i6,5)),2&n){let o;fe(o=me())&&(r._textField=o.first),fe(o=me())&&(r._iconPrefixContainer=o.first),fe(o=me())&&(r._textPrefixContainer=o.first),fe(o=me())&&(r._floatingLabel=o.first),fe(o=me())&&(r._notchedOutline=o.first),fe(o=me())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,r){2&n&&Ae("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Te([{provide:ED,useExisting:i},{provide:Qz,useExisting:i}])],ngContentSelectors:ahe,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(1&n&&(Lt(she),he(0,$ue,1,1,"ng-template",null,0,$b),w(2,"div",1,2),J("click",function(s){return r._control.onContainerClick(s)}),he(4,Gue,1,0,"div",3),w(5,"div",4),he(6,Jue,2,2,"div",5)(7,Yue,3,0,"div",6)(8,Xue,3,0,"div",7),w(9,"div",8),he(10,Que,1,1,null,9),ye(11),k(),he(12,ehe,2,0,"div",10)(13,the,2,0,"div",11),k(),he(14,ihe,1,0,"div",12),k(),w(15,"div",13),he(16,nhe,2,1)(17,ohe,5,2),k()),2&n){let o;M(2),Ae("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),M(2),xe(4,r._hasOutline()||r._control.disabled?-1:4),M(2),xe(6,r._hasOutline()?6:-1),M(1),xe(7,r._hasIconPrefix?7:-1),M(1),xe(8,r._hasTextPrefix?8:-1),M(2),xe(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),M(2),xe(12,r._hasTextSuffix?12:-1),M(1),xe(13,r._hasIconSuffix?13:-1),M(1),xe(14,r._hasOutline()?-1:14),M(1),Ae("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),M(1),xe(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[oT,Zz,e6,n6,i6],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fhe.transitionMessages]},changeDetection:0})}return i})(),Mo=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Bc,aO,Mt]})}return i})();const a6=Il({passive:!0});let _he=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Gr;const n=pn(e),r=this._monitoredElements.get(n);if(r)return r.subject;const o=new de,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(n.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,a6),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",a,a6)}}),o}stopMonitoring(e){const n=pn(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi),U(_e))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bhe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const vhe=new V("MAT_INPUT_VALUE_ACCESSOR"),yhe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let whe=0;const xhe=hO(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n,this.stateChanges=new de}});let Jc=(()=>{class i extends xhe{get disabled(){return this._disabled}set disabled(e){this._disabled=$e(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wT.required)??!1}set required(e){this._required=$e(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&mz().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=$e(e)}constructor(e,n,r,o,s,a,l,c,u,f){super(a,o,s,r),this._elementRef=e,this._platform=n,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+whe++,this.focused=!1,this.stateChanges=new de,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(b=>mz().has(b)),this._iOSKeyupListener=b=>{const v=b.target;!v.value&&0===v.selectionStart&&0===v.selectionEnd&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))};const p=this._elementRef.nativeElement,g=p.nodeName.toLowerCase();this._inputValueAccessor=l||p,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===g,this._isTextarea="textarea"===g,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yhe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(zi),C(Ha,10),C(Uh,8),C(Tp,8),C(wD),C(vhe,10),C(_he),C(_e),C(ED,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,r){1&n&&J("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&n&&(ws("id",r.id)("disabled",r.disabled)("required",r.required),ze("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ae("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Te([{provide:kD,useExisting:i}]),Me,tn]})}return i})(),aa=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Mo,Mo,bhe,Mt]})}return i})();new TextEncoder;const c6=new TextDecoder;class She extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class rf extends She{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}const h6=crypto;function Uhe(i,t){this.v=i,this.k=t}function MD(i){var t,e;function n(o,s){try{var a=i[o](s),l=a.value,c=l instanceof Uhe;Promise.resolve(c?l.v:l).then(function(u){if(c){var f="return"===o?"return":"next";if(!l.k||u.done)return n(f,u);u=i[f](u).value}r(a.done?"return":"normal",u)},function(u){n("throw",u)})}catch(u){r("throw",u)}}function r(o,s){switch(o){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):e=null}this._invoke=function(o,s){return new Promise(function(a,l){var c={key:o,arg:s,resolve:a,reject:l,next:null};e?e=e.next=c:(t=e=c,n(o,s))})},"function"!=typeof i.return&&(this.return=void 0)}let YO;h6.getRandomValues.bind(h6),Symbol(),MD.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},MD.prototype.next=function(i){return this._invoke("next",i)},MD.prototype.throw=function(i){return this._invoke("throw",i)},MD.prototype.return=function(i){return this._invoke("return",i)},(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(YO="jose/v5.1.0");function Qhe(i){if("string"!=typeof i)throw new rf("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:e}=i.split(".");if(5===e)throw new rf("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new rf("Invalid JWT");if(!t)throw new rf("JWTs must contain a payload");let n,r;try{n=(i=>{let t=i;t instanceof Uint8Array&&(t=c6.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return(i=>{const t=atob(i),e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e})(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}})(t)}catch{throw new rf("Failed to base64url decode the payload")}try{r=JSON.parse(c6.decode(n))}catch{throw new rf("Failed to parse the decoded payload as JSON")}if(!function Zhe(i){if(!function Xhe(i){return"object"==typeof i&&null!==i}(i)||"[object Object]"!==Object.prototype.toString.call(i))return!1;if(null===Object.getPrototypeOf(i))return!0;let t=i;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t}(r))throw new rf("Invalid JWT Claims Set");return r}let iR=(()=>{class i{constructor(e){this.ngZone=e,this.jwtCredential=vs(null),this.tokenResponse=vs(null),this.promptOnLoad=!1,this.credential=wi(()=>{const r=this.jwtCredential();return r?Qhe(r):null});const n=document.createElement("script");n.type="text/javascript",n.src="https://accounts.google.com/gsi/client",n.async=!0,document.head.appendChild(n),this.googleGciClientLoaded=new Promise((r,o)=>n.onload=()=>{r()}).then(()=>google.accounts.id.initialize({client_id:"enter you oauth client id here",callback:r=>{this.ngZone.run(()=>{this.jwtCredential.set(r.credential)})},auto_select:!0}))}getToken(e){var n=this;return Hi(function*(){let r=n.tokenResponse();return(!r||!google.accounts.oauth2.hasGrantedAllScopes(r,e))&&(r=yield n.authorize(e),n.tokenResponse.set(r)),console.log(r.expires_in),r})()}authorize(e){return Hi(function*(){return new Promise((n,r)=>{google.accounts.oauth2.initTokenClient({client_id:"enter you oauth client id here",scope:e,callback:n}).requestAccessToken()})})()}logout(){const e=this.tokenResponse();e&&google.accounts.oauth2.revoke(e.access_token,()=>{this.jwtCredential.set(null),this.tokenResponse.set(null)})}prompt(){var e=this;return Hi(function*(){yield e.googleGciClientLoaded,google.accounts.id.prompt()})()}renderLoginButton(e){var n=this;return Hi(function*(){yield n.googleGciClientLoaded,google.accounts.id.renderButton(e,{type:"standard",theme:"outline",size:"medium",width:215})})()}signout(){var e=this;return Hi(function*(){yield e.googleGciClientLoaded,google.accounts.id.disableAutoSelect()})()}static#e=this.\u0275fac=function(n){return new(n||i)(U(_e))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const nfe=["googleButton"];function rfe(i,t){1&i&&(w(0,"div"),$(1,"img",11),k()),2&i&&(M(1),j("src",t.picture,T))}function ofe(i,t){1&i&&$(0,"div",null,12)}function sfe(i,t){if(1&i&&(w(0,"div",13),I(1),k()),2&i){const e=Q();M(1),Ot(e.error)}}function afe(i,t){1&i&&(w(0,"div")(1,"p"),I(2," You are logged in as an experiment, you can "),w(3,"a",14),I(4,"view experiments"),k(),I(5," or "),w(6,"a",15),I(7,"create a new one"),k()()())}let w6=(()=>{class i{constructor(e,n,r,o){this.route=e,this.router=n,this.stateService=r,this.authService=o,this.error="",this.experiments=wi(()=>(console.log(this.stateService.data()),Object.values(this.stateService.data().experiments).sort((s,a)=>(console.log(s),console.log(a),s.name.localeCompare(a.name))))),wl(()=>{document.title=`Experiment: ${this.stateService.appName()}`})}joinExperiment(e){var n=this;return Hi(function*(){n.error="";const r=e.split("/");console.log(r);const o=r.pop();console.log(o),console.log(r);const s=r.join("");console.log(s),o&&s?(console.log("navigate"),yield n.router.navigate(["/participant",s,o]),console.log("navigated")):n.error="Bad access code"})()}ngAfterViewInit(){console.log(this.googleButton),this.googleButton&&this.authService.renderLoginButton(this.googleButton.nativeElement)}clearError(){this.error=""}static#e=this.\u0275fac=function(n){return new(n||i)(C(jc),C(So),C(br),C(iR))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-home"]],viewQuery:function(n,r){if(1&n&&Ft(nfe,5),2&n){let o;fe(o=me())&&(r.googleButton=o.first)}},standalone:!0,features:[pi],decls:24,vars:4,consts:[["role","banner",1,"toolbar"],[1,"title"],[1,"spacer"],["aria-label","PAIR","href","https://pair.withgoogle.com/","title","Home",1,"small-logo"],["src","/recommendation-rudders/assets/pair-logo.svg","alt","PAIR logo"],["role","main",1,"content"],["class","error"],[1,"full-width"],["matInput","","placeholder","Write your response"],["accessCodeInput",""],["color","primary","mat-button","",3,"click"],["alt","profile picture",1,"profileImg",3,"src"],["googleButton",""],[1,"error"],["routerLink","experimenter"],["routerLink","experimenter/create-experiment"]],template:function(n,r){if(1&n){const o=ki();w(0,"div",0)(1,"span",1),I(2),k(),$(3,"div",2),he(4,rfe,2,1,"div")(5,ofe,2,0),w(6,"a",3),$(7,"img",4),k()(),w(8,"div",5),he(9,sfe,2,1,"div",6)(10,afe,8,0,"div"),w(11,"div")(12,"p"),I(13,"To join an experiment, enter your access code:"),k(),w(14,"p")(15,"mat-form-field",7)(16,"mat-label"),I(17,"Access code"),k(),$(18,"input",8,9),k(),$(20,"br"),w(21,"button",10),J("click",function(){Ve(o);const a=Nn(19);return Se(r.joinExperiment(a.value))}),w(22,"span"),I(23,"Join the experiment"),k()()()()()}if(2&n){let o;M(2),ii("Experiment: ",r.stateService.appName(),""),M(2),xe(4,(o=r.authService.credential())?4:5,o),M(5),xe(9,r.error?9:-1),M(1),xe(10,(o=r.authService.credential())?10:-1,o)}},dependencies:[Mo,Kc,ja,Xo,$c,za,aa,Jc,ef,Qh],styles:[".toolbar[_ngcontent-%COMP%]{top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#000000de;color:#fff;font-weight:600;flex:0 0 60px}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.small-logo[_ngcontent-%COMP%]{width:100px}.spacer[_ngcontent-%COMP%]{flex:1}.page[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.title[_ngcontent-%COMP%]{font-weight:400}.current-user[_ngcontent-%COMP%]{margin:0 15px;font-weight:300;color:#ccc}.content[_ngcontent-%COMP%]   .mat-drawer-container[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);min-width:100%}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}.icon-menu-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-content:center}.icon-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.profileImg[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.error[_ngcontent-%COMP%]{color:red;background-color:#fee;padding:.5em;border-radius:5px;border:1px solid #AAA;margin-bottom:1em}.content[_ngcontent-%COMP%]{padding:1em}"]})}return i})();const TD=new V("mat-chips-default-options");let lR,A6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[wD,{provide:TD,useValue:{separatorKeyCodes:[13]}}],imports:[Mt,Pl,Mt]})}return i})(),Lfe=1;const RD={};function T6(i){return i in RD&&(delete RD[i],!0)}const Bfe={setImmediate(i){const t=Lfe++;return RD[t]=!0,lR||(lR=Promise.resolve()),lR.then(()=>T6(t)&&i()),t},clearImmediate(i){T6(i)}},{setImmediate:Vfe,clearImmediate:Hfe}=Bfe,PD={setImmediate(...i){const{delegate:t}=PD;return(t?.setImmediate||Vfe)(...i)},clearImmediate(i){const{delegate:t}=PD;return(t?.clearImmediate||Hfe)(i)},delegate:void 0},cR=new class Ufe extends sO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class zfe extends rO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=PD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(PD.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function I6(i,t){return t?e=>_v(t.pipe(qi(1),function Wfe(){return ce((i,t)=>{i.subscribe(ae(t,ot))})}()),e.pipe(I6(i))):Mn((e,n)=>Gn(i(e,n)).pipe(qi(1),WC(e)))}function dR(i=0,t,e=wde){let n=-1;return null!=t&&(h0(t)?e=t:n=t),new zt(r=>{let o=function jfe(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function O6(i,t=Fv){const e=dR(i,t);return I6(()=>e)}class uR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class R6 extends uR{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}}class FD extends uR{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class $fe extends uR{constructor(t){super(),this.element=t instanceof ke?t.nativeElement:t}}class P6{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof R6?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof FD?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof $fe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gfe extends P6{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Xn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qfe=(()=>{class i extends P6{constructor(e,n,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new pe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector,e.projectableNodes||void 0);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(n){return new(n||i)(C(Zm),C(Fr),C(nt))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Me]})}return i})(),F6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const Kfe=["addListener","removeListener"],Jfe=["addEventListener","removeEventListener"],Yfe=["on","off"];function zv(i,t,e,n){if(Tt(e)&&(n=e,e=void 0),n)return zv(i,t,e).pipe(yT(n));const[r,o]=function Qfe(i){return Tt(i.addEventListener)&&Tt(i.removeEventListener)}(i)?Jfe.map(s=>a=>i[s](t,a,e)):function Xfe(i){return Tt(i.addListener)&&Tt(i.removeListener)}(i)?Kfe.map(N6(i,t)):function Zfe(i){return Tt(i.on)&&Tt(i.off)}(i)?Yfe.map(N6(i,t)):[];if(!r&&Nf(i))return Mn(s=>zv(s,t,e))(Gn(i));if(!r)throw new TypeError("Invalid event target");return new zt(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function N6(i,t){return e=>n=>i[e](t,n)}const Uv={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Uv;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=t(o=>{e=void 0,i(o)});return new We(()=>e?.(r))},requestAnimationFrame(...i){const{delegate:t}=Uv;return(t?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Uv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},L6=new class tme extends sO{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,r){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw r}}}(class eme extends rO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Uv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Uv.cancelAnimationFrame(e),t._scheduled=void 0)}});function B6(i,t=Fv){return function ime(i){return ce((t,e)=>{let n=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ae(e,c=>{n=!0,r=c,o||Gn(i(c)).subscribe(o=ae(e,a,l))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>dR(i,t))}let Zp=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new de,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new zt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(B6(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Re()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(di(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=pn(n),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zv(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||i)(U(_e),U(zi),U(nt,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Wv=(()=>{class i{constructor(e,n,r,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=o,this._destroyed=new de,this._elementScrolled=new zt(s=>this.ngZone.runOutsideAngular(()=>zv(this.elementRef.nativeElement,"scroll").pipe(et(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&0!=Rv()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Rv()?e.left=e.right:1==Rv()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;pz()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:n:"end"==e&&(e=s?n:r),s&&2==Rv()?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Rv()?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(Zp),C(_e),C(ks,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return i})(),jv=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new de,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(B6(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||i)(U(zi),U(_e),U(nt,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),sf=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})(),V6=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Lv,sf,Lv,sf]})}return i})();const H6=pz();class sme{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Bn(-this._previousScrollPosition.left),t.style.top=Bn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,r=this._document.body.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),H6&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),H6&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class ame{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(di(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class z6{enable(){}disable(){}attach(){}}function hR(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function U6(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class lme{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();hR(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cme=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new z6,this.close=s=>new ame(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new sme(this._viewportRuler,this._document),this.reposition=s=>new lme(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(n){return new(n||i)(U(Zp),U(jv),U(_e),U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class fR{constructor(t){if(this.scrollStrategy=new z6,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class dme{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let W6=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ume=(()=>{class i extends W6{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(_e,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hme=(()=>{class i extends W6{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=na(o)},this._clickListener=o=>{const s=na(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(zi),U(_e,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),j6=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||eO()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const n=this._document.createElement("div");n.classList.add(e),eO()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(zi))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class fme{constructor(t,e,n,r,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new de,this._attachments=new de,this._detachments=new de,this._locationChanges=We.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new de,this._outsidePointerEvents=new de,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Bn(this._config.width),t.height=Bn(this._config.height),t.minWidth=Bn(this._config.minWidth),t.minHeight=Bn(this._config.minHeight),t.maxWidth=Bn(this._config.maxWidth),t.maxHeight=Bn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){const r=Nv(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(et(Wi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $6="cdk-overlay-connected-position-bounding-box",mme=/([A-Za-z%]+)$/;class pme{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de,this._resizeSubscription=We.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add($6),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,n,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,n)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&af(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($6),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r,o;if("center"==n.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==n.originX?s:a}return e.left<0&&(r-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r,o;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){const o=q6(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let p=0-a,g=a+o.height-n.height,b=this._subtractOverflows(o.width,0-s,s+o.width-n.width),v=this._subtractOverflows(o.height,p,g),D=b*v;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,o=n.right-e.x,s=G6(this._overlayRef.getConfig().minHeight),a=G6(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=q6(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new dme(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let o,s,a,u,f,p;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-t.y+2*this._viewportMargin,o=n.height-a+this._viewportMargin;else{const g=Math.min(n.bottom-t.y+n.top,t.y),b=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)p=n.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=n.right-t.x;else{const g=Math.min(n.right-t.x+n.left,t.x),b=this._lastBoundingBoxSize.width;u=2*g,f=t.x-g,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-b/2)}return{top:s,left:f,bottom:a,right:p,width:u,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Bn(n.height),r.top=Bn(n.top),r.bottom=Bn(n.bottom),r.width=Bn(n.width),r.left=Bn(n.left),r.right=Bn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Bn(o)),s&&(r.maxWidth=Bn(s))}this._lastBoundingBoxSize=n,af(this._boundingBox.style,r)}_resetBoundingBoxStyles(){af(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){af(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();af(n,this._getExactOverlayY(e,t,u)),af(n,this._getExactOverlayX(e,t,u))}else n.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),n.transform=a.trim(),s.maxHeight&&(r?n.maxHeight=Bn(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Bn(s.maxWidth):o&&(n.maxWidth="")),af(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Bn(o.y),r}_getExactOverlayX(t,e,n){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Bn(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:U6(t,n),isOriginOutsideView:hR(t,n),isOverlayClipped:U6(e,n),isOverlayOutsideView:hR(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Nv(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ke)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function af(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function G6(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(mme);return e&&"px"!==e?null:parseFloat(t)}return i||null}function q6(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const K6="cdk-global-overlay-wrapper";class gme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(K6),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,f=this._xOffset,p="rtl"===this._overlayRef.getConfig().direction;let g="",b="",v="";l?v="flex-start":"center"===u?(v="center",p?b=f:g=f):p?"left"===u||"end"===u?(v="flex-end",g=f):("right"===u||"start"===u)&&(v="flex-start",b=f):"left"===u||"start"===u?(v="flex-start",g=f):("right"===u||"end"===u)&&(v="flex-end",b=f),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":b,e.justifyContent=v,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(K6),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let _me=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new gme}flexibleConnectedTo(e){return new pme(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||i)(U(jv),U(nt),U(zi),U(j6))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bme=0,hu=(()=>{class i{constructor(e,n,r,o,s,a,l,c,u,f,p,g){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=p,this._animationsModuleType=g}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),s=new fR(e);return s.direction=s.direction||this._directionality.value,new fme(o,n,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+bme++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Qd)),new Gfe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||i)(U(cme),U(j6),U(Zm),U(_me),U(ume),U(Xn),U(_e),U(nt),U(ks),U(Sp),U(hme),U(Vi,8))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const vme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],J6=new V("cdk-connected-overlay-scroll-strategy");let mR=(()=>{class i{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return i})(),Y6=(()=>{class i{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,n,r,o,s){this._overlay=e,this._dir=s,this._backdropSubscription=We.EMPTY,this._attachSubscription=We.EMPTY,this._detachSubscription=We.EMPTY,this._positionSubscription=We.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new pe,this.positionChange=new pe,this.attach=new pe,this.detach=new pe,this.overlayKeydown=new pe,this.overlayOutsideClick=new pe,this._templatePortal=new FD(n,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vme);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!ra(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new fR({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ome(i,t=!1){return ce((e,n)=>{let r=0;e.subscribe(ae(n,o=>{const s=i(o,r++);(s||t)&&n.next(o),!s&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||i)(C(hu),C(qo),C(Fr),C(J6),C(ks,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",ht],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",ht],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ht],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ht],push:["cdkConnectedOverlayPush","push",ht],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ht]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[er,tn]})}return i})();const wme={provide:J6,deps:[hu],useFactory:function yme(i){return()=>i.scrollStrategies.reposition()}};let pR=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[hu,wme],imports:[Lv,F6,V6,V6]})}return i})();const xme=["mat-menu-item",""];function Cme(i,t){1&i&&(Ta(),w(0,"svg",3),$(1,"polygon",4),k())}const Dme=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],kme=["mat-icon, [matMenuItemIcon]","*"];function Eme(i,t){if(1&i){const e=ki();w(0,"div",0),J("keydown",function(r){return Ve(e),Se(Q()._handleKeydown(r))})("click",function(){return Ve(e),Se(Q().closed.emit("click"))})("@transformMenu.start",function(r){return Ve(e),Se(Q()._onAnimationStart(r))})("@transformMenu.done",function(r){return Ve(e),Se(Q()._onAnimationDone(r))}),w(1,"div",1),ye(2),k()()}if(2&i){const e=Q();j("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),ze("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Sme=["*"],gR=new V("MAT_MENU_PANEL");let ND=(()=>{class i{constructor(e,n,r,o,s){this._elementRef=e,this._document=n,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new de,this._focused=new de,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),n=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<n.length;r++)n[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(nt),C(Wa),C(gR,8),C(Nt))};static#t=this.\u0275cmp=x({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(n,r){1&n&&J("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&n&&(ze("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Ae("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:["disabled","disabled",ht],disableRipple:["disableRipple","disableRipple",ht]},exportAs:["matMenuItem"],features:[er],attrs:xme,ngContentSelectors:kme,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,r){1&n&&(Lt(Dme),ye(0),w(1,"span",0),ye(2,1),k(),$(3,"div",1),he(4,Cme,2,0,":svg:svg",2)),2&n&&(M(3),j("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),M(1),xe(4,r._triggersSubmenu?4:-1))},dependencies:[Rl],encapsulation:2,changeDetection:0})}return i})();const Mme=new V("MatMenuContent"),LD={transformMenu:qc("transformMenu",[sa("void",Vn({opacity:0,transform:"scale(0.8)"})),Es("void => enter",oa("120ms cubic-bezier(0, 0, 0.2, 1)",Vn({opacity:1,transform:"scale(1)"}))),Es("* => void",oa("100ms 25ms linear",Vn({opacity:0})))]),fadeInItems:qc("fadeInItems",[sa("showing",Vn({opacity:1})),Es("void => *",[Vn({opacity:0}),oa("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ame=0;const Tme=new V("mat-menu-default-options",{providedIn:"root",factory:function Ime(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let $v=(()=>{class i{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,n,r,o){this._elementRef=e,this._ngZone=n,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new Pc,this._classList={},this._panelAnimationState="void",this._animationDone=new de,this.closed=new pe,this.close=this.closed,this.panelId="mat-menu-panel-"+Ame++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new pD(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(_r(this._directDescendantItems),An(e=>Wi(...e.map(n=>n._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const n=this._keyManager;if("enter"===this._panelAnimationState&&n.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,n.activeItemIndex||0));r[o]&&!r[o].disabled?n.setActiveItem(o):n.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(_r(this._directDescendantItems),An(n=>Wi(...n.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const n=e.keyCode,r=this._keyManager;switch(n){case 27:ra(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===n||40===n)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(qi(1)).subscribe(()=>{let n=null;if(this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!n||!n.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&n&&n.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const n=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${n}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,n=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===n,r["mat-menu-below"]="below"===n,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(_r(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(n=>n._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e),C(Tme),C(Nt))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-menu"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,Mme,5),ut(o,ND,5),ut(o,ND,4)),2&n){let s;fe(s=me())&&(r.lazyContent=s.first),fe(s=me())&&(r._allItems=s),fe(s=me())&&(r.items=s)}},viewQuery:function(n,r){if(1&n&&Ft(qo,5),2&n){let o;fe(o=me())&&(r.templateRef=o.first)}},hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(n,r){2&n&&ze("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:["overlapTrigger","overlapTrigger",ht],hasBackdrop:["hasBackdrop","hasBackdrop",e=>null==e?null:ht(e)],panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Te([{provide:gR,useExisting:i}]),er],ngContentSelectors:Sme,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(n,r){1&n&&(Lt(),he(0,Eme,3,6,"ng-template"))},dependencies:[pC],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[LD.transformMenu,LD.fadeInItems]},changeDetection:0})}return i})();const X6=new V("mat-menu-scroll-strategy"),Rme={provide:X6,deps:[hu],useFactory:function Ome(i){return()=>i.scrollStrategies.reposition()}},Z6=Il({passive:!0});let Pme=(()=>{class i{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(n=>{this._destroyMenu(n),("click"===n||"tab"===n)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(n)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,n,r,o,s,a,l,c,u){this._overlay=e,this._element=n,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=We.EMPTY,this._hoverSubscription=We.EMPTY,this._menuCloseSubscription=We.EMPTY,this._changeDetectorRef=te(Nt),this._handleTouchStart=f=>{_D(f)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof $v?s:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,Z6)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Z6),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const n=this._createOverlay(e),r=n.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,n.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof $v&&(e._startAnimation(),e._directDescendantItems.changes.pipe(et(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,n){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const n=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,n instanceof $v?(n._resetAnimation(),n.lazyContent?n._animationDone.pipe(di(r=>"void"===r.toState),qi(1),et(n.lazyContent._attached)).subscribe({next:()=>n.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),n?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let n=0,r=e.parentMenu;for(;r;)n++,r=r.parentMenu;e.setElevation(n)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const n=this._getOverlayConfig(e);this._subscribeToPositions(e,n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new fR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,n){e.setPositionClasses&&n.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,s)):e.setPositionClasses(o,s)})}_setPosition(e,n){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[s,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,f]=[r,o],p=0;if(this.triggersSubmenu()){if(f=r="before"===e.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}p="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");n.withPositions([{originX:r,originY:l,overlayX:u,overlayY:s,offsetY:p},{originX:o,originY:l,overlayX:f,overlayY:s,offsetY:p},{originX:r,originY:c,overlayX:u,overlayY:a,offsetY:-p},{originX:o,originY:c,overlayX:f,overlayY:a,offsetY:-p}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return Wi(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:Re(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(di(s=>s!==this._menuItemInstance),di(()=>this._menuOpen)):Re(),n)}_handleMousedown(e){gD(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const n=e.keyCode;(13===n||32===n)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===n&&"ltr"===this.dir||37===n&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(di(e=>e===this._menuItemInstance&&!e.disabled),O6(0,cR)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof $v&&this.menu._isAnimating?this.menu._animationDone.pipe(qi(1),O6(0,cR),et(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new FD(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(n){return new(n||i)(C(hu),C(ke),C(Fr),C(X6),C(gR,8),C(ND,10),C(ks,8),C(Wa),C(_e))};static#t=this.\u0275dir=ne({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(n,r){1&n&&J("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&n&&ze("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return i})(),Gv=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[Rme],imports:[Bc,Pl,Mt,pR,sf,Mt]})}return i})();const Fme=new V("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),Lme=vD(class{constructor(i){this._elementRef=i}},"primary");let Bme=(()=>{class i extends Lme{constructor(e,n,r,o,s){super(e),this._ngZone=n,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new pe,this._mode="determinate",this._transitionendHandler=a=>{0===this.animationEnd.observers.length||!a.target||!a.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===o,s&&(s.color&&(this.color=this.defaultColor=s.color),this.mode=s.mode||this.mode)}get value(){return this._value}set value(e){this._value=Q6(Ki(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=Q6(Ki(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e),C(Nt),C(Vi,8),C(Fme,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(n,r){2&n&&(ze("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Ae("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Me],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(n,r){1&n&&(w(0,"div",0),$(1,"div",1)(2,"div",2),k(),w(3,"div",3),$(4,"span",4),k(),w(5,"div",5),$(6,"span",4),k()),2&n&&(M(1),Cl("flex-basis",r._getBufferBarFlexBasis()),M(2),Cl("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return i})();function Q6(i,t=0,e=100){return Math.max(t,Math.min(e,i))}let eU=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt]})}return i})();class _R{}class Yc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),o=r.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Vme{encodeKey(t){return tU(t)}encodeValue(t){return tU(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zme=/%(\d[a-f0-9])/gi,Ume={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tU(i){return encodeURIComponent(i).replace(zme,(t,e)=>Ume[e]??t)}function BD(i){return`${i}`}class fu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vme,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Hme(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],r=Array.isArray(n)?n.map(BD):[BD(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(BD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const r=n.indexOf(BD(t.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Wme{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iU(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function nU(i){return typeof Blob<"u"&&i instanceof Blob}function rU(i){return typeof FormData<"u"&&i instanceof FormData}class qv{constructor(t,e,n,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jme(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Yc),this.context||(this.context=new Wme),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new fu,this.urlWithParams=e}serializeBody(){return null===this.body?null:iU(this.body)||nU(this.body)||rU(this.body)||function $me(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rU(this.body)?null:nU(this.body)?this.body.type||null:iU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,p)=>f.set(p,t.setHeaders[p]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,p)=>f.set(p,t.setParams[p]),c)),new qv(e,n,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var vR=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(vR||{});class Gme{constructor(t,e=200,n="OK"){this.headers=t.headers||new Yc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Kv extends Gme{constructor(t={}){super(t),this.type=vR.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Kv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function yR(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}let wR=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof qv)o=e;else{let l,c;l=r.headers instanceof Yc?r.headers:new Yc(r.headers),r.params&&(c=r.params instanceof fu?r.params:new fu({fromObject:r.params})),o=new qv(e,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Re(o).pipe(Pp(l=>this.handler.handle(l)));if(e instanceof qv||"events"===r.observe)return s;const a=s.pipe(di(l=>l instanceof Kv));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ue(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ue(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ue(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ue(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new fu).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,yR(r,n))}post(e,n,r={}){return this.request("POST",e,yR(r,n))}put(e,n,r={}){return this.request("PUT",e,yR(r,n))}static#e=this.\u0275fac=function(n){return new(n||i)(U(_R))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})();const mpe=["*"];let zD;function Jv(i){return function ppe(){if(void 0===zD&&(zD=null,typeof window<"u")){const i=window;void 0!==i.trustedTypes&&(zD=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return zD}()?.createHTML(i)||i}function vU(i){return Error(`Unable to find icon with the name "${i}"`)}function yU(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function wU(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class cf{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let UD=(()=>{class i{constructor(e,n,r,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,o){return this._addSvgIconConfig(e,n,new cf(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,o){const s=this._sanitizer.sanitize(_.HTML,r);if(!s)throw wU(r);const a=Jv(s);return this._addSvgIconConfig(e,n,new cf("",a,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new cf(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){const o=this._sanitizer.sanitize(_.HTML,n);if(!o)throw wU(n);const s=Jv(o);return this._addSvgIconSetConfig(e,new cf("",s,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(_.RESOURCE_URL,e);if(!n)throw yU(e);const r=this._cachedIconsByUrl.get(n);return r?Re(WD(r)):this._loadSvgIconFromConfig(new cf(e,null)).pipe(En(o=>this._cachedIconsByUrl.set(n,o)),ue(o=>WD(o)))}getNamedSvgIcon(e,n=""){const r=xU(n,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):bv(vU(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Re(WD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ue(n=>WD(n)))}_getSvgFromIconSetConfigs(e,n){const r=this._extractIconWithNameFromAnySet(e,n);return r?Re(r):$4(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Yh(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(_.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Re(null)})))).pipe(ue(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw vU(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(En(n=>e.svgText=n),ue(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Re(null):this._fetchIcon(e).pipe(En(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Jv("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const n=this._svgElementFromString(Jv("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&n.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function gpe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(_.RESOURCE_URL,n);if(!s)throw yU(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ue(c=>Jv(c)),jC(()=>this._inProgressUrlFetches.delete(s)),xr());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(xU(e,n),r),this}_addSvgIconSetConfig(e,n){const r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](n,e);if(o)return bpe(o)?new cf(o.url,null,o.options):new cf(o,null)}}static#e=this.\u0275fac=function(n){return new(n||i)(U(wR,8),U(vT),U(nt,8),U(Zs))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function WD(i){return i.cloneNode(!0)}function xU(i,t){return i+":"+t}function bpe(i){return!(!i.url||!i.options)}const vpe=vD(class{constructor(i){this._elementRef=i}}),ype=new V("MAT_ICON_DEFAULT_OPTIONS"),wpe=new V("mat-icon-location",{providedIn:"root",factory:function xpe(){const i=te(nt),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),CU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Cpe=CU.map(i=>`[${i}]`).join(", "),Dpe=/^url\(['"]?#(.*?)['"]?\)$/;let Qp=(()=>{class i extends vpe{get inline(){return this._inline}set inline(e){this._inline=$e(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,o,s,a){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=We.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const r=e.childNodes[n];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Cpe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)CU.forEach(s=>{const a=n[o],l=a.getAttribute(s),c=l?l.match(Dpe):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(qi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(UD),Xr("aria-hidden"),C(wpe),C(Zs),C(ype,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(n,r){2&n&&(ze("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ae("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Me],ngContentSelectors:mpe,decls:1,vars:0,template:function(n,r){1&n&&(Lt(),ye(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return i})(),df=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Mt]})}return i})(),DU=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Xo,Bc,df,Gv]})}return i})(),Epe=(()=>{class i{constructor(){this.onceReady=new Promise((e,n)=>{gapi.load("client",Hi(function*(){yield gapi.client.init({apiKey:"enter api key for drive api here",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}),e()}))})}saveData(e,n,r,o){var s=this;return Hi(function*(){yield s.onceReady;const a="7b0b5c0a693503324e88a977b6121ee0",l=`--${a}`,u="application/json; charset=UTF-8",p=`\n${l}\nContent-Type: application/json; charset=UTF-8\n\n`+JSON.stringify({name:n,mimeType:u})+`\n${l}\nContent-Type: ${u}\nContent-Transfer-Encoding: BINARY\n\n`+e+`\n${l}--`,g=gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":`multipart/related; boundary="${a}"`,"Content-Length":`${p.length}`},body:p}),b=yield new Promise((v,D)=>g.execute(v));console.log("status:",b.status),console.log("statusText:",b.statusText),console.log("result:",b.result)})()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Spe=gn(161);class oi{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){[t,e]=eg(this,t,e);let r=[];return this.decompose(0,t,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(e,this.length,r,1),Fl.from(r,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=eg(this,t,e);let n=[];return this.decompose(t,e,n,0),Fl.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),r=new Yv(this),o=new Yv(t);for(let s=e,a=e;;){if(r.next(s),o.next(s),s=0,r.lineBreak!=o.lineBreak||r.done!=o.done||r.value!=o.value)return!1;if(a+=r.value.length,r.done||a>=n)return!0}}iter(t=1){return new Yv(this,t)}iterRange(t,e=this.length){return new EU(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let r=this.line(t).from;n=this.iterRange(r,Math.max(r,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new SU(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new Sn(t):Fl.from(Sn.split(t,[])):oi.empty}}class Sn extends oi{constructor(t,e=function Mpe(i){let t=-1;for(let e of i)t+=e.length+1;return t}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,r){for(let o=0;;o++){let s=this.text[o],a=r+s.length;if((e?n:a)>=t)return new Ape(r,a,n,s);r=a+1,n++}}decompose(t,e,n,r){let o=t<=0&&e>=this.length?this:new Sn(kU(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&r){let s=n.pop(),a=jD(o.text,s.text.slice(),0,o.length);if(a.length<=32)n.push(new Sn(a,s.length+o.length));else{let l=a.length>>1;n.push(new Sn(a.slice(0,l)),new Sn(a.slice(l)))}}else n.push(o)}replace(t,e,n){if(!(n instanceof Sn))return super.replace(t,e,n);[t,e]=eg(this,t,e);let r=jD(this.text,jD(n.text,kU(this.text,0,t)),e),o=this.length+n.length-(e-t);return r.length<=32?new Sn(r,o):Fl.from(Sn.split(r,[]),o)}sliceString(t,e=this.length,n="\n"){[t,e]=eg(this,t,e);let r="";for(let o=0,s=0;o<=e&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>t&&s&&(r+=n),t<l&&e>o&&(r+=a.slice(Math.max(0,t-o),e-o)),o=l+1}return r}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],r=-1;for(let o of t)n.push(o),r+=o.length+1,32==n.length&&(e.push(new Sn(n,r)),n=[],r=-1);return r>-1&&e.push(new Sn(n,r)),e}}class Fl extends oi{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,r){for(let o=0;;o++){let s=this.children[o],a=r+s.length,l=n+s.lines-1;if((e?l:a)>=t)return s.lineInner(t,e,n,r);r=a+1,n=l+1}}decompose(t,e,n,r){for(let o=0,s=0;s<=e&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(t<=l&&e>=s){let c=r&((s<=t?1:0)|(l>=e?2:0));s>=t&&l<=e&&!c?n.push(a):a.decompose(t-s,e-s,n,c)}s=l+1}}replace(t,e,n){if([t,e]=eg(this,t,e),n.lines<this.lines)for(let r=0,o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.length;if(t>=o&&e<=a){let l=s.replace(t-o,e-o,n),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[r]=l,new Fl(u,this.length-(e-t)+n.length)}return super.replace(o,a,l)}o=a+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){[t,e]=eg(this,t,e);let r="";for(let o=0,s=0;o<this.children.length&&s<=e;o++){let a=this.children[o],l=s+a.length;s>t&&o&&(r+=n),t<l&&e>s&&(r+=a.sliceString(t-s,e-s,n)),s=l+1}return r}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Fl))return 0;let n=0,[r,o,s,a]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;r+=e,o+=e){if(r==s||o==a)return n;let l=this.children[r],c=t.children[o];if(l!=c)return n+l.scanIdentical(c,e);n+=l.length+1}}static from(t,e=t.reduce((n,r)=>n+r.length+1,-1)){let n=0;for(let g of t)n+=g.lines;if(n<32){let g=[];for(let b of t)b.flatten(g);return new Sn(g,e)}let r=Math.max(32,n>>5),o=r<<1,s=r>>1,a=[],l=0,c=-1,u=[];function f(g){let b;if(g.lines>o&&g instanceof Fl)for(let v of g.children)f(v);else g.lines>s&&(l>s||!l)?(p(),a.push(g)):g instanceof Sn&&l&&(b=u[u.length-1])instanceof Sn&&g.lines+b.lines<=32?(l+=g.lines,c+=g.length+1,u[u.length-1]=new Sn(b.text.concat(g.text),b.length+1+g.length)):(l+g.lines>r&&p(),l+=g.lines,c+=g.length+1,u.push(g))}function p(){0!=l&&(a.push(1==u.length?u[0]:Fl.from(u,c)),c=-1,l=u.length=0)}for(let g of t)f(g);return p(),1==a.length?a[0]:new Fl(a,e)}}function jD(i,t,e=0,n=1e9){for(let r=0,o=0,s=!0;o<i.length&&r<=n;o++){let a=i[o],l=r+a.length;l>=e&&(l>n&&(a=a.slice(0,n-r)),r<e&&(a=a.slice(e-r)),s?(t[t.length-1]+=a,s=!1):t.push(a)),r=l+1}return t}function kU(i,t,e){return jD(i,[""],t,e)}oi.empty=new Sn([""],0);class Yv{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Sn?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,r=this.nodes[n],o=this.offsets[n],s=o>>1;if(s==(e>0?r instanceof Sn?r.text.length:r.children.length:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(r instanceof Sn){let l=r.text[s+(e<0?-1:0)];if(this.offsets[n]+=e,l.length>Math.max(0,t))return this.value=0==t?l:e>0?l.slice(t):l.slice(0,l.length-t),this;t-=l.length}else{let l=r.children[s+(e<0?-1:0)];t>l.length?(t-=l.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(e>0?1:(l instanceof Sn?l.text.length:l.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class EU{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new Yv(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:r}=this.cursor.next(t);return this.pos+=(r.length+t)*e,this.value=r.length<=n?r:e<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class SU{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:r}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(oi.prototype[Symbol.iterator]=function(){return this.iter()},Yv.prototype[Symbol.iterator]=EU.prototype[Symbol.iterator]=SU.prototype[Symbol.iterator]=function(){return this});class Ape{constructor(t,e,n,r){this.from=t,this.to=e,this.number=n,this.text=r}get length(){return this.to-this.from}}function eg(i,t,e){return[t=Math.max(0,Math.min(i.length,t)),Math.max(t,Math.min(i.length,e))]}let tg="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(i=>i?parseInt(i,36):1);for(let i=1;i<tg.length;i++)tg[i]+=tg[i-1];function Tpe(i){for(let t=1;t<tg.length;t+=2)if(tg[t]>i)return tg[t-1]<=i;return!1}function MU(i){return i>=127462&&i<=127487}const AU=8205;function Lr(i,t,e=!0,n=!0){return(e?TU:Ipe)(i,t,n)}function TU(i,t,e){if(t==i.length)return t;t&&IU(i.charCodeAt(t))&&OU(i.charCodeAt(t-1))&&t--;let n=Br(i,t);for(t+=la(n);t<i.length;){let r=Br(i,t);if(n==AU||r==AU||e&&Tpe(r))t+=la(r),n=r;else{if(!MU(r))break;{let o=0,s=t-2;for(;s>=0&&MU(Br(i,s));)o++,s-=2;if(o%2==0)break;t+=2}}}return t}function Ipe(i,t,e){for(;t>0;){let n=TU(i,t-2,e);if(n<t)return n;t--}return 0}function IU(i){return i>=56320&&i<57344}function OU(i){return i>=55296&&i<56320}function Br(i,t){let e=i.charCodeAt(t);if(!OU(e)||t+1==i.length)return e;let n=i.charCodeAt(t+1);return IU(n)?n-56320+(e-55296<<10)+65536:e}function DR(i){return i<=65535?String.fromCharCode(i):(i-=65536,String.fromCharCode(55296+(i>>10),56320+(1023&i)))}function la(i){return i<65536?1:2}const kR=/\r\n?|\n/;var Ao=function(i){return i[i.Simple=0]="Simple",i[i.TrackDel=1]="TrackDel",i[i.TrackBefore=2]="TrackBefore",i[i.TrackAfter=3]="TrackAfter",i}(Ao||(Ao={}));class Nl{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,r=0;e<this.sections.length;){let o=this.sections[e++],s=this.sections[e++];s<0?(t(n,r,o),r+=o):r+=s,n+=o}}iterChangedRanges(t,e=!1){ER(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];r<0?t.push(n,r):t.push(r,n)}return new Nl(t)}composeDesc(t){return this.empty?t:t.empty?this:RU(this,t)}mapDesc(t,e=!1){return t.empty?this:SR(this,t,e)}mapPos(t,e=-1,n=Ao.Simple){let r=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=r+a;if(l<0){if(c>t)return o+(t-r);o+=a}else{if(n!=Ao.Simple&&c>=t&&(n==Ao.TrackDel&&r<t&&c>t||n==Ao.TrackBefore&&r<t||n==Ao.TrackAfter&&c>t))return null;if(c>t||c==t&&e<0&&!a)return t==r||e<0?o:o+l;o+=l}r=c}if(t>r)throw new RangeError(`Position ${t} is out of range for changeset of length ${r}`);return o}touchesRange(t,e=t){for(let n=0,r=0;n<this.sections.length&&r<=e;){let a=r+this.sections[n++];if(this.sections[n++]>=0&&r<=e&&a>=t)return!(r<t&&a>e)||"cover";r=a}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],r=this.sections[e++];t+=(t?" ":"")+n+(r>=0?":"+r:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>"number"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Nl(t)}static create(t){return new Nl(t)}}class or extends Nl{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return ER(this,(e,n,r,o,s)=>t=t.replace(r,r+(n-e),s),!1),t}mapDesc(t,e=!1){return SR(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let r=0,o=0;r<e.length;r+=2){let s=e[r],a=e[r+1];if(a>=0){e[r]=a,e[r+1]=s;let l=r>>1;for(;n.length<l;)n.push(oi.empty);n.push(s?t.slice(o,o+s):oi.empty)}o+=s}return new or(e,n)}compose(t){return this.empty?t:t.empty?this:RU(this,t,!0)}map(t,e=!1){return t.empty?this:SR(this,t,e,!0)}iterChanges(t,e=!1){ER(this,t,e)}get desc(){return Nl.create(this.sections)}filter(t){let e=[],n=[],r=[],o=new Xv(this);e:for(let s=0,a=0;;){let l=s==t.length?1e9:t[s++];for(;a<l||a==l&&0==o.len;){if(o.done)break e;let u=Math.min(o.len,l-a);to(r,u,-1);let f=-1==o.ins?-1:0==o.off?o.ins:0;to(e,u,f),f>0&&pu(n,e,o.text),o.forward(u),a+=u}let c=t[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);to(e,u,-1),to(r,u,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(u),a+=u}}return{changes:new or(e,n),filtered:Nl.create(r)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],r=this.sections[e+1];t.push(r<0?n:0==r?[n]:[n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let r=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!r.length)return;s<e&&to(r,e-s,-1);let f=new or(r,o);a=a?a.compose(f.map(a)):f,r=[],o=[],s=0}return function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof or){if(u.length!=e)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${e})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:p=f,insert:g}=u;if(f>p||f<0||p>e)throw new RangeError(`Invalid change range ${f} to ${p} (in doc of length ${e})`);let b=g?"string"==typeof g?oi.of(g.split(n||kR)):g:oi.empty,v=b.length;if(f==p&&0==v)return;f<s&&l(),f>s&&to(r,f-s,-1),to(r,p-f,v),pu(o,r,b),s=p}}(t),l(!a),a}static empty(t){return new or(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let r=0;r<t.length;r++){let o=t[r];if("number"==typeof o)e.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((s,a)=>a&&"string"!=typeof s))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)e.push(o[0],0);else{for(;n.length<r;)n.push(oi.empty);n[r]=oi.of(o.slice(1)),e.push(o[0],n[r].length)}}}return new or(e,n)}static createSet(t,e){return new or(t,e)}}function to(i,t,e,n=!1){if(0==t&&e<=0)return;let r=i.length-2;r>=0&&e<=0&&e==i[r+1]?i[r]+=t:0==t&&0==i[r]?i[r+1]+=e:n?(i[r]+=t,i[r+1]+=e):i.push(t,e)}function pu(i,t,e){if(0==e.length)return;let n=t.length-2>>1;if(n<i.length)i[i.length-1]=i[i.length-1].append(e);else{for(;i.length<n;)i.push(oi.empty);i.push(e)}}function ER(i,t,e){let n=i.inserted;for(let r=0,o=0,s=0;s<i.sections.length;){let a=i.sections[s++],l=i.sections[s++];if(l<0)r+=a,o+=a;else{let c=r,u=o,f=oi.empty;for(;c+=a,u+=l,l&&n&&(f=f.append(n[s-2>>1])),!(e||s==i.sections.length||i.sections[s+1]<0);)a=i.sections[s++],l=i.sections[s++];t(r,c,o,u,f),r=c,o=u}}}function SR(i,t,e,n=!1){let r=[],o=n?[]:null,s=new Xv(i),a=new Xv(t);for(let l=-1;;)if(-1==s.ins&&-1==a.ins){let c=Math.min(s.len,a.len);to(r,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!e))){let c=a.len;for(to(r,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(to(r,0,s.ins),o&&pu(o,r,s.text),l=s.i),s.forward(u),c-=u}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?or.createSet(r,o):Nl.create(r);throw new Error("Mismatched change set lengths")}{let c=0,u=s.len;for(;u;)if(-1==a.ins){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else{if(!(0==a.ins&&a.len<u))break;u-=a.len,a.next()}to(r,c,l<s.i?s.ins:0),o&&l<s.i&&pu(o,r,s.text),l=s.i,s.forward(s.len-u)}}}function RU(i,t,e=!1){let n=[],r=e?[]:null,o=new Xv(i),s=new Xv(t);for(let a=!1;;){if(o.done&&s.done)return r?or.createSet(n,r):Nl.create(n);if(0==o.ins)to(n,o.len,0,a),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=n.length;if(-1==o.ins){let u=-1==s.ins?-1:s.off?0:s.ins;to(n,l,u,a),r&&u&&pu(r,n,s.text)}else-1==s.ins?(to(n,o.off?0:o.len,l,a),r&&pu(r,n,o.textBit(l))):(to(n,o.off?0:o.len,s.off?0:s.ins,a),r&&!s.off&&pu(r,n,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||n.length>c),o.forward2(l),s.forward(l)}}else to(n,0,s.ins,a),r&&pu(r,n,s.text),s.next()}}class Xv{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?oi.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?oi.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class uf{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,r;return this.empty?n=r=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new uf(n,r,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return ee.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return ee.range(this.anchor,n)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return ee.range(t.anchor,t.head)}static create(t,e,n){return new uf(t,e,n)}}class ee{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:ee.create(this.ranges.map(n=>n.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(t.ranges[n],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new ee([this.main],0)}addRange(t,e=!0){return ee.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,ee.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ee(t.ranges.map(e=>uf.fromJSON(e)),t.main)}static single(t,e=t){return new ee([ee.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,r=0;r<t.length;r++){let o=t[r];if(o.empty?o.from<=n:o.from<n)return ee.normalized(t.slice(),e);n=o.to}return new ee(t,e)}static cursor(t,e=0,n,r){return uf.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(r??16777215)<<6)}static range(t,e,n,r){let o=(n??16777215)<<6|(null==r?7:Math.min(6,r));return e<t?uf.create(e,t,48|o):uf.create(t,e,(e>t?8:0)|o)}static normalized(t,e=0){let n=t[e];t.sort((r,o)=>r.from-o.from),e=t.indexOf(n);for(let r=1;r<t.length;r++){let o=t[r],s=t[r-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);r<=e&&e--,t.splice(--r,2,o.anchor>o.head?ee.range(l,a):ee.range(a,l))}}return new ee(t,e)}}function PU(i,t){for(let e of i.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let MR=0;class Ee{constructor(t,e,n,r,o){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=r,this.id=MR++,this.default=t([]),this.extensions="function"==typeof o?o(this):o}get reader(){return this}static define(t={}){return new Ee(t.combine||(e=>e),t.compareInput||((e,n)=>e===n),t.compare||(t.combine?(e,n)=>e===n:AR),!!t.static,t.enables)}of(t){return new $D([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new $D(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new $D(t,this,2,e)}from(t,e){return e||(e=n=>n),this.compute([t],n=>e(n.field(t)))}}function AR(i,t){return i==t||i.length==t.length&&i.every((e,n)=>e===t[n])}class $D{constructor(t,e,n,r){this.dependencies=t,this.facet=e,this.type=n,this.value=r,this.id=MR++}dynamicSlot(t){var e;let n=this.value,r=this.facet.compareInput,o=this.id,s=t[o]>>1,a=2==this.type,l=!1,c=!1,u=[];for(let f of this.dependencies)"doc"==f?l=!0:"selection"==f?c=!0:1&(null!==(e=t[f.id])&&void 0!==e?e:1)||u.push(t[f.id]);return{create:f=>(f.values[s]=n(f),1),update(f,p){if(l&&p.docChanged||c&&(p.docChanged||p.selection)||TR(f,u)){let g=n(f);if(a?!FU(g,f.values[s],r):!r(g,f.values[s]))return f.values[s]=g,1}return 0},reconfigure:(f,p)=>{let g,b=p.config.address[o];if(null!=b){let v=qD(p,b);if(this.dependencies.every(D=>D instanceof Ee?p.facet(D)===f.facet(D):!(D instanceof Hn)||p.field(D,!1)==f.field(D,!1))||(a?FU(g=n(f),v,r):r(g=n(f),v)))return f.values[s]=v,0}else g=n(f);return f.values[s]=g,1}}}}function FU(i,t,e){if(i.length!=t.length)return!1;for(let n=0;n<i.length;n++)if(!e(i[n],t[n]))return!1;return!0}function TR(i,t){let e=!1;for(let n of t)1&ey(i,n)&&(e=!0);return e}function Ope(i,t,e){let n=e.map(l=>i[l.id]),r=e.map(l=>l.type),o=n.filter(l=>!(1&l)),s=i[t.id]>>1;function a(l){let c=[];for(let u=0;u<n.length;u++){let f=qD(l,n[u]);if(2==r[u])for(let p of f)c.push(p);else c.push(f)}return t.combine(c)}return{create(l){for(let c of n)ey(l,c);return l.values[s]=a(l),1},update(l,c){if(!TR(l,o))return 0;let u=a(l);return t.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=TR(l,n),f=c.config.facets[t.id],p=c.facet(t);if(f&&!u&&AR(e,f))return l.values[s]=p,0;let g=a(l);return t.compare(g,p)?(l.values[s]=p,0):(l.values[s]=g,1)}}}const NU=Ee.define({static:!0});class Hn{constructor(t,e,n,r,o){this.id=t,this.createF=e,this.updateF=n,this.compareF=r,this.spec=o,this.provides=void 0}static define(t){let e=new Hn(MR++,t.create,t.update,t.compare||((n,r)=>n===r),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(NU).find(n=>n.field==this);return(e?.create||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:n=>(n.values[e]=this.create(n),1),update:(n,r)=>{let o=n.values[e],s=this.updateF(o,r);return this.compareF(o,s)?0:(n.values[e]=s,1)},reconfigure:(n,r)=>null!=r.config.address[this.id]?(n.values[e]=r.field(this),0):(n.values[e]=this.create(n),1)}}init(t){return[this,NU.of({field:this,create:t})]}get extension(){return this}}function Zv(i){return t=>new LU(t,i)}const gu={highest:Zv(0),high:Zv(1),default:Zv(2),low:Zv(3),lowest:Zv(4)};class LU{constructor(t,e){this.inner=t,this.prec=e}}class Qv{of(t){return new IR(this,t)}reconfigure(t){return Qv.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class IR{constructor(t,e){this.compartment=t,this.inner=e}}class GD{constructor(t,e,n,r,o,s){for(this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=r,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let r=[],o=Object.create(null),s=new Map;for(let p of function Rpe(i,t,e){let n=[[],[],[],[],[]],r=new Map;return function o(s,a){let l=r.get(s);if(null!=l){if(l<=a)return;let c=n[l].indexOf(s);c>-1&&n[l].splice(c,1),s instanceof IR&&e.delete(s.compartment)}if(r.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof IR){if(e.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=t.get(s.compartment)||s.inner;e.set(s.compartment,c),o(c,a)}else if(s instanceof LU)o(s.inner,s.prec);else if(s instanceof Hn)n[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof $D)n[a].push(s),s.facet.extensions&&o(s.facet.extensions,2);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}(i,2),n.reduce((s,a)=>s.concat(a))}(t,e,s))p instanceof Hn?r.push(p):(o[p.facet.id]||(o[p.facet.id]=[])).push(p);let a=Object.create(null),l=[],c=[];for(let p of r)a[p.id]=c.length<<1,c.push(g=>p.slot(g));let u=n?.config.facets;for(let p in o){let g=o[p],b=g[0].facet,v=u&&u[p]||[];if(g.every(D=>0==D.type))if(a[b.id]=l.length<<1|1,AR(v,g))l.push(n.facet(b));else{let D=b.combine(g.map(S=>S.value));l.push(n&&b.compare(D,n.facet(b))?n.facet(b):D)}else{for(let D of g)0==D.type?(a[D.id]=l.length<<1|1,l.push(D.value)):(a[D.id]=c.length<<1,c.push(S=>D.dynamicSlot(S)));a[b.id]=c.length<<1,c.push(D=>Ope(D,b,g))}}let f=c.map(p=>p(a));return new GD(t,s,f,a,l,o)}}function ey(i,t){if(1&t)return 2;let e=t>>1,n=i.status[e];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;i.status[e]=4;let r=i.computeSlot(i,i.config.dynamicSlots[e]);return i.status[e]=2|r}function qD(i,t){return 1&t?i.config.staticValues[t>>1]:i.values[t>>1]}const BU=Ee.define(),OR=Ee.define({combine:i=>i.some(t=>t),static:!0}),VU=Ee.define({combine:i=>i.length?i[0]:void 0,static:!0}),HU=Ee.define(),zU=Ee.define(),UU=Ee.define(),WU=Ee.define({combine:i=>!!i.length&&i[0]});class Xc{constructor(t,e){this.type=t,this.value=e}static define(){return new Ppe}}class Ppe{of(t){return new Xc(this,t)}}class Fpe{constructor(t){this.map=t}of(t){return new Bt(this,t)}}let Bt=(()=>{class i{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return void 0===n?void 0:n==this.value?this:new i(this.type,n)}is(e){return this.type==e}static define(e={}){return new Fpe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let o of e){let s=o.map(n);s&&r.push(s)}return r}}return i.reconfigure=i.define(),i.appendConfig=i.define(),i})(),Ll=(()=>{class i{constructor(e,n,r,o,s,a){this.startState=e,this.changes=n,this.selection=r,this.effects=o,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&PU(r,n.newLength),s.some(l=>l.type==i.time)||(this.annotations=s.concat(i.time.of(Date.now())))}static create(e,n,r,o,s,a){return new i(e,n,r,o,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(i.userEvent);return!(!n||!(n==e||n.length>e.length&&n.slice(0,e.length)==e&&"."==n[e.length]))}}return i.time=Xc.define(),i.userEvent=Xc.define(),i.addToHistory=Xc.define(),i.remote=Xc.define(),i})();function Npe(i,t){let e=[];for(let n=0,r=0;;){let o,s;if(n<i.length&&(r==t.length||t[r]>=i[n]))o=i[n++],s=i[n++];else{if(!(r<t.length))return e;o=t[r++],s=t[r++]}!e.length||e[e.length-1]<o?e.push(o,s):e[e.length-1]<s&&(e[e.length-1]=s)}}function jU(i,t,e){var n;let r,o,s;return e?(r=t.changes,o=or.empty(t.changes.length),s=i.changes.compose(t.changes)):(r=t.changes.map(i.changes),o=i.changes.mapDesc(t.changes,!0),s=i.changes.compose(r)),{changes:s,selection:t.selection?t.selection.map(o):null===(n=i.selection)||void 0===n?void 0:n.map(r),effects:Bt.mapEffects(i.effects,r).concat(Bt.mapEffects(t.effects,o)),annotations:i.annotations.length?i.annotations.concat(t.annotations):t.annotations,scrollIntoView:i.scrollIntoView||t.scrollIntoView}}function RR(i,t,e){let n=t.selection,r=ig(t.annotations);return t.userEvent&&(r=r.concat(Ll.userEvent.of(t.userEvent))),{changes:t.changes instanceof or?t.changes:or.of(t.changes||[],e,i.facet(VU)),selection:n&&(n instanceof ee?n:ee.single(n.anchor,n.head)),effects:ig(t.effects),annotations:r,scrollIntoView:!!t.scrollIntoView}}function $U(i,t,e){let n=RR(i,t.length?t[0]:{},i.doc.length);t.length&&!1===t[0].filter&&(e=!1);for(let o=1;o<t.length;o++){!1===t[o].filter&&(e=!1);let s=!!t[o].sequential;n=jU(n,RR(i,t[o],s?n.changes.newLength:i.doc.length),s)}let r=Ll.create(i,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function Bpe(i){let t=i.startState,e=t.facet(UU),n=i;for(let r=e.length-1;r>=0;r--){let o=e[r](i);o&&Object.keys(o).length&&(n=jU(n,RR(t,o,i.changes.newLength),!0))}return n==i?i:Ll.create(t,i.changes,i.selection,n.effects,n.annotations,n.scrollIntoView)}(e?function Lpe(i){let t=i.startState,e=!0;for(let r of t.facet(HU)){let o=r(i);if(!1===o){e=!1;break}Array.isArray(o)&&(e=!0===e?o:Npe(e,o))}if(!0!==e){let r,o;if(!1===e)o=i.changes.invertedDesc,r=or.empty(t.doc.length);else{let s=i.changes.filter(e);r=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}i=Ll.create(t,r,i.selection&&i.selection.map(o),Bt.mapEffects(i.effects,o),i.annotations,i.scrollIntoView)}let n=t.facet(zU);for(let r=n.length-1;r>=0;r--){let o=n[r](i);i=o instanceof Ll?o:Array.isArray(o)&&1==o.length&&o[0]instanceof Ll?o[0]:$U(t,ig(o),!1)}return i}(r):r)}const Vpe=[];function ig(i){return null==i?Vpe:Array.isArray(i)?i:[i]}var Ji=function(i){return i[i.Word=0]="Word",i[i.Space=1]="Space",i[i.Other=2]="Other",i}(Ji||(Ji={}));const Hpe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let PR;try{PR=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let Ss=(()=>{class i{constructor(e,n,r,o,s,a){this.config=e,this.doc=n,this.selection=r,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)ey(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(null!=r)return ey(this,r),qD(this,r);if(n)throw new RangeError("Field is not present in this state")}update(...e){return $U(this,e,!0)}applyTransaction(e){let s,n=this.config,{base:r,compartments:o}=n;for(let l of e.effects)l.is(Qv.reconfigure)?(n&&(o=new Map,n.compartments.forEach((c,u)=>o.set(u,c)),n=null),o.set(l.value.compartment,l.value.extension)):l.is(Bt.reconfigure)?(n=null,r=l.value):l.is(Bt.appendConfig)&&(n=null,r=ig(r).concat(l.value));n?s=e.startState.values.slice():(n=GD.resolve(r,o,this),s=new i(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,u)=>u.reconfigure(c,this),null).values);let a=e.startState.facet(OR)?e.newSelection:e.newSelection.asSingle();new i(n,e.newDoc,a,s,(l,c)=>c.update(l,e),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ee.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),o=this.changes(r.changes),s=[r.range],a=ig(r.effects);for(let l=1;l<n.ranges.length;l++){let c=e(n.ranges[l]),u=this.changes(c.changes),f=u.map(o);for(let g=0;g<l;g++)s[g]=s[g].map(f);let p=o.mapDesc(u,!0);s.push(c.range.map(p)),o=o.compose(f),a=Bt.mapEffects(a,f).concat(Bt.mapEffects(ig(c.effects),p))}return{changes:o,selection:ee.create(s,n.mainIndex),effects:a}}changes(e=[]){return e instanceof or?e:or.of(e,this.doc.length,this.facet(i.lineSeparator))}toText(e){return oi.of(e.split(this.facet(i.lineSeparator)||kR))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return null==n?e.default:(ey(this,n),qD(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let o=e[r];o instanceof Hn&&null!=this.config.address[o.id]&&(n[r]=o.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(r)for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let a=r[s],l=e[s];o.push(a.init(c=>a.spec.fromJSON(l,c)))}return i.create({doc:e.doc,selection:ee.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=GD.resolve(e.extensions||[],new Map),r=e.doc instanceof oi?e.doc:oi.of((e.doc||"").split(n.staticFacet(i.lineSeparator)||kR)),o=e.selection?e.selection instanceof ee?e.selection:ee.single(e.selection.anchor,e.selection.head):ee.single(0);return PU(o,r.length),n.staticFacet(OR)||(o=o.asSingle()),new i(n,r,o,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(i.tabSize)}get lineBreak(){return this.facet(i.lineSeparator)||"\n"}get readOnly(){return this.facet(WU)}phrase(e,...n){for(let r of this.facet(i.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,o)=>{if("$"==o)return"$";let s=+(o||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let o=[];for(let s of this.facet(BU))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&o.push(a[e]);return o}charCategorizer(e){return function Upe(i){return t=>{if(!/\S/.test(t))return Ji.Space;if(function zpe(i){if(PR)return PR.test(i);for(let t=0;t<i.length;t++){let e=i[t];if(/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Hpe.test(e)))return!0}return!1}(t))return Ji.Word;for(let e=0;e<i.length;e++)if(t.indexOf(i[e])>-1)return Ji.Word;return Ji.Other}}(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:o}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-r,l=e-r;for(;a>0;){let c=Lr(n,a,!1);if(s(n.slice(c,a))!=Ji.Word)break;a=c}for(;l<o;){let c=Lr(n,l);if(s(n.slice(l,c))!=Ji.Word)break;l=c}return a==l?null:ee.range(a+r,l+r)}}return i.allowMultipleSelections=OR,i.tabSize=Ee.define({combine:t=>t.length?t[0]:4}),i.lineSeparator=VU,i.readOnly=WU,i.phrases=Ee.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(o=>t[o]==e[o])}}),i.languageData=BU,i.changeFilter=HU,i.transactionFilter=zU,i.transactionExtender=UU,i})();function $a(i,t,e={}){let n={};for(let r of i)for(let o of Object.keys(r)){let s=r[o],a=n[o];if(void 0===a)n[o]=s;else if(a!==s&&void 0!==s){if(!Object.hasOwnProperty.call(e,o))throw new Error("Config merge conflict for field "+o);n[o]=e[o](a,s)}}for(let r in t)void 0===n[r]&&(n[r]=t[r]);return n}Qv.reconfigure=Bt.define();class ff{eq(t){return this==t}range(t,e=t){return ty.create(t,e,this)}}ff.prototype.startSide=ff.prototype.endSide=0,ff.prototype.point=!1,ff.prototype.mapMode=Ao.TrackDel;class ty{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new ty(t,e,n)}}function FR(i,t){return i.from-t.from||i.value.startSide-t.value.startSide}class NR{constructor(t,e,n,r){this.from=t,this.to=e,this.value=n,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,r=0){let o=n?this.to:this.from;for(let s=r,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-t||(n?this.value[l].endSide:this.value[l].startSide)-e;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(t,e,n,r){for(let o=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,o);o<s;o++)if(!1===r(this.from[o]+t,this.to[o]+t,this.value[o]))return!1}map(t,e){let n=[],r=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let p,g,c=this.value[l],u=this.from[l]+t,f=this.to[l]+t;if(u==f){let b=e.mapPos(u,c.startSide,c.mapMode);if(null==b||(p=g=b,c.startSide!=c.endSide&&(g=e.mapPos(u,c.endSide),g<p)))continue}else if(p=e.mapPos(u,c.startSide),g=e.mapPos(f,c.endSide),p>g||p==g&&c.startSide>0&&c.endSide<=0)continue;(g-p||c.endSide-c.startSide)<0||(s<0&&(s=p),c.point&&(a=Math.max(a,g-p)),n.push(c),r.push(p-s),o.push(g-s))}return{mapped:n.length?new NR(r,o,n,a):null,pos:s}}}let Yi=(()=>{class i{constructor(e,n,r,o){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=o}static create(e,n,r,o){return new i(e,n,r,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:o=0,filterTo:s=this.length}=e,a=e.filter;if(0==n.length&&!a)return this;if(r&&(n=n.slice().sort(FR)),this.isEmpty)return n.length?i.of(n):this;let l=new qU(this,null,-1).goto(0),c=0,u=[],f=new Zc;for(;l.value||c<n.length;)if(c<n.length&&(l.from-n[c].from||l.startSide-n[c].value.startSide)>=0){let p=n[c++];f.addInner(p.from,p.to,p.value)||u.push(p)}else 1==l.rangeIndex&&l.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(l.chunkIndex)<n[c].from)&&(!a||o>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||o>l.to||s<l.from||a(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||u.push(ty.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!u.length?i.empty:this.nextLayer.update({add:u,filter:a,filterFrom:o,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],o=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a],u=e.touchesRange(l,l+c.length);if(!1===u)o=Math.max(o,c.maxPoint),n.push(c),r.push(e.mapPos(l));else if(!0===u){let{mapped:f,pos:p}=c.map(l,e);f&&(o=Math.max(o,f.maxPoint),n.push(f),r.push(p))}}let s=this.nextLayer.map(e);return 0==n.length?s:new i(r,n,s||i.empty,o)}between(e,n,r){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],a=this.chunk[o];if(n>=s&&e<=s+a.length&&!1===a.between(s,e-s,n-s,r))return}this.nextLayer.between(e,n,r)}}iter(e=0){return iy.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return iy.from(e).goto(n)}static compare(e,n,r,o,s=-1){let a=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),c=GU(a,l,r),u=new ny(a,c,s),f=new ny(l,c,s);r.iterGaps((p,g,b)=>KU(u,p,f,g,b,o)),r.empty&&0==r.length&&KU(u,0,f,0,0,o)}static eq(e,n,r=0,o){null==o&&(o=999999999);let s=e.filter(f=>!f.isEmpty&&n.indexOf(f)<0),a=n.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let l=GU(s,a),c=new ny(s,l,0).goto(r),u=new ny(a,l,0).goto(r);for(;;){if(c.to!=u.to||!BR(c.active,u.active)||c.point&&(!u.point||!c.point.eq(u.point)))return!1;if(c.to>o)return!0;c.next(),u.next()}}static spans(e,n,r,o,s=-1){let a=new ny(e,null,s).goto(n),l=n,c=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let f=a.activeForPoint(a.to),p=a.pointFrom<n?f.length+1:Math.min(f.length,c);o.point(l,u,a.point,f,p,a.pointRank),c=Math.min(a.openEnd(u),f.length)}else u>l&&(o.span(l,u,a.active,c),c=a.openEnd(u));if(a.to>r)return c+(a.point&&a.to>r?1:0);l=a.to,a.next()}}static of(e,n=!1){let r=new Zc;for(let o of e instanceof ty?[e]:n?function Wpe(i){if(i.length>1)for(let t=i[0],e=1;e<i.length;e++){let n=i[e];if(FR(t,n)>0)return i.slice().sort(FR);t=n}return i}(e):e)r.add(o.from,o.to,o.value);return r.finish()}static join(e){if(!e.length)return i.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let o=e[r];o!=i.empty;o=o.nextLayer)n=new i(o.chunkPos,o.chunk,n,Math.max(o.maxPoint,n.maxPoint));return n}}return i.empty=new i([],[],null,-1),i})();Yi.empty.nextLayer=Yi.empty;class Zc{finishChunk(t){this.chunks.push(new NR(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Zc)).add(t,e,n)}addInner(t,e,n){let r=t-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(Yi.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=Yi.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function GU(i,t,e){let n=new Map;for(let o of i)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&n.set(o.chunk[s],o.chunkPos[s]);let r=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let a=n.get(o.chunk[s]);null!=a&&(e?e.mapPos(a):a)==o.chunkPos[s]&&!e?.touchesRange(a,a+o.chunk[s].length)&&r.add(o.chunk[s])}return r}class qU{constructor(t,e,n,r=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<t||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex];if(this.from=t+e.from[this.rangeIndex],this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class iy{constructor(t){this.heap=t}static from(t,e=null,n=-1){let r=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&r.push(new qU(s,e,n,o));return 1==r.length?r[0]:new iy(r)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)LR(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)LR(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),LR(this.heap,0)}}}function LR(i,t){for(let e=i[t];;){let n=1+(t<<1);if(n>=i.length)break;let r=i[n];if(n+1<i.length&&r.compare(i[n+1])>=0&&(r=i[n+1],n++),e.compare(r)<0)break;i[n]=e,i[t]=r,t=n}}class ny{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=iy.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){KD(this.active,t),KD(this.activeTo,t),KD(this.activeRank,t),this.minActive=JU(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:r,rank:o}=this.cursor;for(;e<this.activeRank.length&&(o-this.activeRank[e]||r-this.activeTo[e])>0;)e++;JD(this.active,e,n),JD(this.activeTo,e,r),JD(this.activeRank,e,o),t&&JD(t,e,this.cursor.from),this.minActive=JU(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>t){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&KD(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let r=n.length-1;r>=0&&n[r]<t;r--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n]);return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function KU(i,t,e,n,r,o){i.goto(t),e.goto(n);let s=n+r,a=n,l=n-t;for(;;){let c=i.to+l-e.to||i.endSide-e.endSide,u=c<0?i.to+l:e.to,f=Math.min(u,s);if(i.point||e.point?i.point&&e.point&&(i.point==e.point||i.point.eq(e.point))&&BR(i.activeForPoint(i.to),e.activeForPoint(e.to))||o.comparePoint(a,f,i.point,e.point):f>a&&!BR(i.active,e.active)&&o.compareRange(a,f,i.active,e.active),u>s)break;a=u,c<=0&&i.next(),c>=0&&e.next()}}function BR(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(i[e]!=t[e]&&!i[e].eq(t[e]))return!1;return!0}function KD(i,t){for(let e=t,n=i.length-1;e<n;e++)i[e]=i[e+1];i.pop()}function JD(i,t,e){for(let n=i.length-1;n>=t;n--)i[n+1]=i[n];i[t]=e}function JU(i,t){let e=-1,n=1e9;for(let r=0;r<t.length;r++)(t[r]-n||i[r].endSide-i[e].endSide)<0&&(e=r,n=t[r]);return e}function ng(i,t,e=i.length){let n=0;for(let r=0;r<e;)9==i.charCodeAt(r)?(n+=t-n%t,r++):(n++,r=Lr(i,r));return n}function VR(i,t,e,n){for(let r=0,o=0;;){if(o>=t)return r;if(r==i.length)break;o+=9==i.charCodeAt(r)?e-o%e:1,r=Lr(i,r)}return!0===n?-1:i.length}const YU=typeof Symbol>"u"?"__\u037c":Symbol.for("\u037c"),zR=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),XU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class _u{constructor(t,e){this.rules=[];let{finish:n}=e||{};function r(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),p=f&&"keyframes"==f[1];if(f&&null==a)return l.push(s[0]+";");for(let g in a){let b=a[g];if(/&/.test(g))o(g.split(/,\s*/).map(v=>s.map(D=>v.replace(/&/,D))).reduce((v,D)=>v.concat(D)),b,l);else if(b&&"object"==typeof b){if(!f)throw new RangeError("The value of a property ("+g+") should be a primitive value.");o(r(g),b,u,p)}else null!=b&&u.push(g.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+b+";")}(u.length||p)&&l.push((!n||f||c?s:s.map(n)).join(", ")+" {"+u.join(" ")+"}")}for(let s in t)o(r(s),t[s],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let t=XU[YU]||1;return XU[YU]=t+1,"\u037c"+t.toString(36)}static mount(t,e,n){let r=t[zR],o=n&&n.nonce;r?o&&r.setNonce(o):r=new jpe(t,o),r.mount(Array.isArray(e)?e:[e])}}let ZU=new Map;class jpe{constructor(t,e){let n=t.ownerDocument||t,r=n.defaultView;if(!t.head&&t.adoptedStyleSheets&&r.CSSStyleSheet){let o=ZU.get(n);if(o)return t.adoptedStyleSheets=[o.sheet,...t.adoptedStyleSheets],t[zR]=o;this.sheet=new r.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],ZU.set(n,this)}else{this.styleTag=n.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);let o=t.head||t;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],t[zR]=this}mount(t){let e=this.sheet,n=0,r=0;for(let o=0;o<t.length;o++){let s=t[o],a=this.modules.indexOf(s);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),-1==a){if(this.modules.splice(r++,0,s),e)for(let l=0;l<s.rules.length;l++)e.insertRule(s.rules[l],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=s.rules.length,r++}}if(!e){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+"\n";this.styleTag.textContent=o}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var bu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ry={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},$pe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Gpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Vr=0;Vr<10;Vr++)bu[48+Vr]=bu[96+Vr]=String(Vr);for(Vr=1;Vr<=24;Vr++)bu[Vr+111]="F"+Vr;for(Vr=65;Vr<=90;Vr++)bu[Vr]=String.fromCharCode(Vr+32),ry[Vr]=String.fromCharCode(Vr);for(var UR in bu)ry.hasOwnProperty(UR)||(ry[UR]=bu[UR]);function YD(i){let t;return t=11==i.nodeType?i.getSelection?i:i.ownerDocument:i,t.getSelection()}function WR(i,t){return!!t&&(i==t||i.contains(1!=t.nodeType?t.parentNode:t))}function XD(i,t){if(!t.anchorNode)return!1;try{return WR(i,t.anchorNode)}catch{return!1}}function rg(i){return 3==i.nodeType?mf(i,0,i.nodeValue.length).getClientRects():1==i.nodeType?i.getClientRects():[]}function oy(i,t,e,n){return!!e&&(QU(i,t,e,n,-1)||QU(i,t,e,n,1))}function sy(i){for(var t=0;;t++)if(!(i=i.previousSibling))return t}function QU(i,t,e,n,r){for(;;){if(i==e&&t==n)return!0;if(t==(r<0?0:Qc(i))){if("DIV"==i.nodeName)return!1;let o=i.parentNode;if(!o||1!=o.nodeType)return!1;t=sy(i)+(r<0?0:1),i=o}else{if(1!=i.nodeType)return!1;if(1==(i=i.childNodes[t+(r<0?-1:0)]).nodeType&&"false"==i.contentEditable)return!1;t=r<0?Qc(i):0}}}function Qc(i){return 3==i.nodeType?i.nodeValue.length:i.childNodes.length}function ZD(i,t){let e=t?i.left:i.right;return{left:e,right:e,top:i.top,bottom:i.bottom}}function Jpe(i){return{left:0,right:i.innerWidth,top:0,bottom:i.innerHeight}}function eW(i,t){let e=t.width/i.offsetWidth,n=t.height/i.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-i.offsetWidth)<1)&&(e=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.height-i.offsetHeight)<1)&&(n=1),{scaleX:e,scaleY:n}}class Zpe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:n}=t;this.set(e,Math.min(t.anchorOffset,e?Qc(e):0),n,Math.min(t.focusOffset,n?Qc(n):0))}set(t,e,n,r){this.anchorNode=t,this.anchorOffset=e,this.focusNode=n,this.focusOffset=r}}let iW,og=null;function tW(i){if(i.setActive)return i.setActive();if(og)return i.focus(og);let t=[];for(let e=i;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(i.focus(null==og?{get preventScroll(){return og={preventScroll:!0},!0}}:void 0),!og){og=!1;for(let e=0;e<t.length;){let n=t[e++],r=t[e++],o=t[e++];n.scrollTop!=r&&(n.scrollTop=r),n.scrollLeft!=o&&(n.scrollLeft=o)}}}function mf(i,t,e=t){let n=iW||(iW=document.createRange());return n.setEnd(i,e),n.setStart(i,t),n}function sg(i,t,e){let n={key:t,code:t,keyCode:e,which:e,cancelable:!0},r=new KeyboardEvent("keydown",n);r.synthetic=!0,i.dispatchEvent(r);let o=new KeyboardEvent("keyup",n);return o.synthetic=!0,i.dispatchEvent(o),r.defaultPrevented||o.defaultPrevented}function nW(i){for(;i.attributes.length;)i.removeAttributeNode(i.attributes[0])}function rW(i){return i.scrollTop>Math.max(1,i.scrollHeight-i.clientHeight-4)}class io{constructor(t,e,n=!0){this.node=t,this.offset=e,this.precise=n}static before(t,e){return new io(t.parentNode,sy(t),e)}static after(t,e){return new io(t.parentNode,sy(t)+1,e)}}const jR=[];class Ui{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let n of this.children){if(n==t)return e;e+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let o,n=this.dom,r=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(o=r?r.nextSibling:n.firstChild)){let a=Ui.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,e),s.flags&=-8}if(o=r?r.nextSibling:n.firstChild,e&&!e.written&&e.node==n&&o!=s.dom&&(e.written=!0),s.dom.parentNode==n)for(;o&&o!=s.dom;)o=oW(o);else n.insertBefore(s.dom,o);r=s.dom}for(o=r?r.nextSibling:n.firstChild,o&&e&&e.node==n&&(e.written=!0);o;)o=oW(o)}else if(1&this.flags)for(let n of this.children)7&n.flags&&(n.sync(t,e),n.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let n;if(t==this.dom)n=this.dom.childNodes[e];else{let r=0==Qc(t)?0:0==e?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;0==r&&o.firstChild!=o.lastChild&&(r=t==o.firstChild?-1:1),t=o}n=r<0?t:t.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Ui.get(n);)n=n.nextSibling;if(!n)return this.length;for(let r=0,o=0;;r++){let s=this.children[r];if(s.dom==n)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,e,n=0){let r=-1,o=-1,s=-1,a=-1;for(let l=0,c=n,u=n;l<this.children.length;l++){let f=this.children[l],p=c+f.length;if(c<t&&p>e)return f.domBoundsAround(t,e,c);if(p>=t&&-1==r&&(r=l,o=c),c>e&&f.dom.parentNode==this.dom){s=l,a=u;break}u=p,c=p+f.breakAfter}return{from:o,to:a<0?n+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,n=jR){this.markDirty();for(let r=t;r<e;r++){let o=this.children[r];o.parent==this&&n.indexOf(o)<0&&o.destroy()}this.children.splice(t,e-t,...n);for(let r=0;r<n.length;r++)n[r].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new sW(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==t?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,n,r,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function oW(i){let t=i.nextSibling;return i.parentNode.removeChild(i),t}Ui.prototype.breakAfter=0;class sW{constructor(t,e,n){this.children=t,this.pos=e,this.i=n,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function aW(i,t,e,n,r,o,s,a,l){let{children:c}=i,u=c.length?c[t]:null,f=o.length?o[o.length-1]:null,p=f?f.breakAfter:s;if(!(t==n&&u&&!s&&!p&&o.length<2&&u.merge(e,r,o.length?f:null,0==e,a,l))){if(n<c.length){let g=c[n];g&&(r<g.length||g.breakAfter&&f?.breakAfter)?(t==n&&(g=g.split(r),r=0),!p&&f&&g.merge(0,r,f,!0,0,l)?o[o.length-1]=g:((r||g.children.length&&!g.children[0].length)&&g.merge(0,r,null,!1,0,l),o.push(g))):g?.breakAfter&&(f?f.breakAfter=1:s=1),n++}for(u&&(u.breakAfter=s,e>0&&(!s&&o.length&&u.merge(e,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(e<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(e,u.length,null,!1,a,0),t++));t<n&&o.length;)if(c[n-1].become(o[o.length-1]))n--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&n<c.length&&!c[t-1].breakAfter&&c[n].merge(0,0,c[t-1],!1,a,l)&&t--,(t<n||o.length)&&i.replaceChildren(t,n,o)}}function lW(i,t,e,n,r,o){let s=i.childCursor(),{i:a,off:l}=s.findPos(e,1),{i:c,off:u}=s.findPos(t,-1),f=t-e;for(let p of n)f+=p.length;i.length+=f,aW(i,c,u,a,l,n,0,r,o)}let Ms=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},$R=typeof document<"u"?document:{documentElement:{style:{}}};const GR=/Edge\/(\d+)/.exec(Ms.userAgent),cW=/MSIE \d/.test(Ms.userAgent),qR=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ms.userAgent),QD=!!(cW||qR||GR),dW=!QD&&/gecko\/(\d+)/i.test(Ms.userAgent),KR=!QD&&/Chrome\/(\d+)/.exec(Ms.userAgent),uW="webkitFontSmoothing"in $R.documentElement.style,hW=!QD&&/Apple Computer/.test(Ms.vendor),fW=hW&&(/Mobile\/\w+/.test(Ms.userAgent)||Ms.maxTouchPoints>2);var Oe={mac:fW||/Mac/.test(Ms.platform),windows:/Win/.test(Ms.platform),linux:/Linux|X11/.test(Ms.platform),ie:QD,ie_version:cW?$R.documentMode||6:qR?+qR[1]:GR?+GR[1]:0,gecko:dW,gecko_version:dW?+(/Firefox\/(\d+)/.exec(Ms.userAgent)||[0,0])[1]:0,chrome:!!KR,chrome_version:KR?+KR[1]:0,ios:fW,android:/Android\b/.test(Ms.userAgent),webkit:uW,safari:hW,webkit_version:uW?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=$R.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ed extends Ui{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){3==t.nodeType&&this.createDOM(t)}merge(t,e,n){return!(8&this.flags||n&&(!(n instanceof ed)||this.length-(e-t)+n.length>256||8&n.flags)||(this.text=this.text.slice(0,t)+(n?n.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new ed(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new io(this.dom,t)}domBoundsAround(t,e,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function ige(i,t,e){let n=i.nodeValue.length;t>n&&(t=n);let r=t,o=t,s=0;0==t&&e<0||t==n&&e>=0?Oe.chrome||Oe.gecko||(t?(r--,s=1):o<n&&(o++,s=-1)):e<0?r--:o<n&&o++;let a=mf(i,r,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:e>=0)?0:a.length-1];return Oe.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?ZD(l,s<0):l||null}(this.dom,t,e)}}class td extends Ui{constructor(t,e=[],n=0){super(),this.mark=t,this.children=e,this.length=n;for(let r of e)r.setParent(this)}setAttrs(t){if(nW(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,n,r,o,s){return!(n&&(!(n instanceof td&&n.mark.eq(this.mark))||t&&o<=0||e<this.length&&s<=0)||(lW(this,t,e,n?n.children.slice():[],o-1,s-1),this.markDirty(),0))}split(t){let e=[],n=0,r=-1,o=0;for(let a of this.children){let l=n+a.length;l>t&&e.push(n<t?a.split(t-n):a),r<0&&n>=t&&(r=o),n=l,o++}let s=this.length-t;return this.length=t,r>-1&&(this.children.length=r,this.markDirty()),new td(this.mark,e,s)}domAtPos(t){return mW(this,t)}coordsAt(t,e){return gW(this,t,e)}}class vu extends Ui{static create(t,e,n){return new vu(t,e,n)}constructor(t,e,n){super(),this.widget=t,this.length=e,this.side=n,this.prevWidget=null}split(t){let e=vu.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,n,r,o,s){return!(n&&(!(n instanceof vu&&this.widget.compare(n.widget))||t>0&&o<=0||e<this.length&&s<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}become(t){return t instanceof vu&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(0==this.length)return oi.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,n=e&&e.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):oi.empty}domAtPos(t){return(this.length?0==t:this.side>0)?io.before(this.dom):io.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let n=this.widget.coordsAt(this.dom,t,e);if(n)return n;let r=this.dom.getClientRects(),o=null;if(!r.length)return null;let s=this.side?this.side<0:t>0;for(let a=s?r.length-1:0;o=r[a],!(t>0?0==a:a==r.length-1||o.top<o.bottom);a+=s?-1:1);return ZD(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ag extends Ui{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof ag&&t.side==this.side}split(){return new ag(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?io.before(this.dom):io.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return oi.empty}get isHidden(){return!0}}function mW(i,t){let e=i.dom,{children:n}=i,r=0;for(let o=0;r<n.length;r++){let s=n[r],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==e)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(let o=r;o>0;o--){let s=n[o-1];if(s.dom.parentNode==e)return s.domAtPos(s.length)}for(let o=r;o<n.length;o++){let s=n[o];if(s.dom.parentNode==e)return s.domAtPos(0)}return new io(e,0)}function pW(i,t,e){let n,{children:r}=i;e>0&&t instanceof td&&r.length&&(n=r[r.length-1])instanceof td&&n.mark.eq(t.mark)?pW(n,t.children[0],e-1):(r.push(t),t.setParent(i)),i.length+=t.length}function gW(i,t,e){let n=null,r=-1,o=null,s=-1;!function a(c,u){for(let f=0,p=0;f<c.children.length&&p<=u;f++){let g=c.children[f],b=p+g.length;b>=u&&(g.children.length?a(g,u-p):(!o||o.isHidden&&e>0)&&(b>u||p==b&&g.getSide()>0)?(o=g,s=u-p):(p<u||p==b&&g.getSide()<0&&!g.isHidden)&&(n=g,r=u-p)),p=b}}(i,t);let l=(e<0?n:o)||n||o;return l?l.coordsAt(Math.max(0,l==n?r:s),e):function nge(i){let t=i.dom.lastChild;if(!t)return i.dom.getBoundingClientRect();let e=rg(t);return e[e.length-1]||null}(i)}function JR(i,t){for(let e in i)"class"==e&&t.class?t.class+=" "+i.class:"style"==e&&t.style?t.style+=";"+i.style:t[e]=i[e];return t}ed.prototype.children=vu.prototype.children=ag.prototype.children=jR;const _W=Object.create(null);function YR(i,t,e){if(i==t)return!0;i||(i=_W),t||(t=_W);let n=Object.keys(i),r=Object.keys(t);if(n.length-(e&&n.indexOf(e)>-1?1:0)!=r.length-(e&&r.indexOf(e)>-1?1:0))return!1;for(let o of n)if(o!=e&&(-1==r.indexOf(o)||i[o]!==t[o]))return!1;return!0}function XR(i,t,e){let n=!1;if(t)for(let r in t)e&&r in e||(n=!0,"style"==r?i.style.cssText="":i.removeAttribute(r));if(e)for(let r in e)t&&t[r]==e[r]||(n=!0,"style"==r?i.style.cssText=e[r]:i.setAttribute(r,e[r]));return n}function rge(i){let t=Object.create(null);for(let e=0;e<i.attributes.length;e++){let n=i.attributes[e];t[n.name]=n.value}return t}class sr extends Ui{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,n,r,o,s){if(n){if(!(n instanceof sr))return!1;this.dom||n.transferDOM(this)}return r&&this.setDeco(n?n.attrs:null),lW(this,t,e,n?n.children.slice():[],o,s),!0}split(t){let e=new sr;if(e.breakAfter=this.breakAfter,0==this.length)return e;let{i:n,off:r}=this.childPos(t);r&&(e.append(this.children[n].split(r),0),this.children[n].merge(r,this.children[n].length,null,!1,0,0),n++);for(let o=n;o<this.children.length;o++)e.append(this.children[o],0);for(;n>0&&0==this.children[n-1].length;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){YR(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){pW(this,t,e)}addLineDeco(t){let e=t.spec.attributes,n=t.spec.class;e&&(this.attrs=JR(e,this.attrs||{})),n&&(this.attrs=JR({class:n},this.attrs||{}))}domAtPos(t){return mW(this,t)}reuseDOM(t){"DIV"==t.nodeName&&(this.setDOM(t),this.flags|=6)}sync(t,e){var n;this.dom?4&this.flags&&(nW(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(XR(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let r=this.dom.lastChild;for(;r&&Ui.get(r)instanceof td;)r=r.lastChild;if(!(r&&this.length&&("BR"==r.nodeName||0!=(null===(n=Ui.get(r))||void 0===n?void 0:n.isEditable)||Oe.ios&&this.children.some(o=>o instanceof ed)))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let n of this.children){if(!(n instanceof ed)||/[^ -~]/.test(n.text))return null;let r=rg(n.dom);if(1!=r.length)return null;t+=r[0].width,e=r[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(t,e){let n=gW(this,t,e);if(!this.children.length&&n&&this.parent){let{heightOracle:r}=this.parent.view.viewState,o=n.bottom-n.top;if(Math.abs(o-r.lineHeight)<2&&r.textHeight<o){let s=(o-r.textHeight)/2;return{top:n.top+s,bottom:n.bottom-s,left:n.left,right:n.left}}}return n}become(t){return!1}covers(){return!0}static find(t,e){for(let n=0,r=0;n<t.children.length;n++){let o=t.children[n],s=r+o.length;if(s>=e){if(o instanceof sr)return o;if(s>e)break}r=s+o.breakAfter}return null}}class yu extends Ui{constructor(t,e,n){super(),this.widget=t,this.length=e,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(t,e,n,r,o,s){return!(n&&(!(n instanceof yu&&this.widget.compare(n.widget))||t>0&&o<=0||e<this.length&&s<=0)||(this.length=t+(n?n.length:0)+(this.length-e),0))}domAtPos(t){return 0==t?io.before(this.dom):io.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let n=new yu(this.widget,e,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return jR}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):oi.empty}domBoundsAround(){return null}become(t){return t instanceof yu&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:n}=this.deco;return e!=n&&(t<0?e<0:n>0)}}class id{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var To=function(i){return i[i.Text=0]="Text",i[i.WidgetBefore=1]="WidgetBefore",i[i.WidgetAfter=2]="WidgetAfter",i[i.WidgetRange=3]="WidgetRange",i}(To||(To={}));class Ne extends ff{constructor(t,e,n,r){super(),this.startSide=t,this.endSide=e,this.widget=n,this.spec=r}get heightRelevant(){return!1}static mark(t){return new ay(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),n=!!t.block;return e+=n&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new wu(t,e,e,n,t.widget||null,!1)}static replace(t){let n,r,e=!!t.block;if(t.isBlockGap)n=-5e8,r=4e8;else{let{start:o,end:s}=bW(t,e);n=(o?e?-3e8:-1:5e8)-1,r=1+(s?e?2e8:1:-6e8)}return new wu(t,n,r,e,t.widget||null,!0)}static line(t){return new ly(t)}static set(t,e=!1){return Yi.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Ne.none=Yi.empty;class ay extends Ne{constructor(t){let{start:e,end:n}=bW(t);super(e?-1:5e8,n?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,n;return this==t||t instanceof ay&&this.tagName==t.tagName&&(this.class||(null===(e=this.attrs)||void 0===e?void 0:e.class))==(t.class||(null===(n=t.attrs)||void 0===n?void 0:n.class))&&YR(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}ay.prototype.point=!1;class ly extends Ne{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof ly&&this.spec.class==t.spec.class&&YR(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}ly.prototype.mapMode=Ao.TrackBefore,ly.prototype.point=!0;class wu extends Ne{constructor(t,e,n,r,o,s){super(e,n,o,t),this.block=r,this.isReplace=s,this.mapMode=r?e<=0?Ao.TrackBefore:Ao.TrackAfter:Ao.TrackDel}get type(){return this.startSide!=this.endSide?To.WidgetRange:this.startSide<=0?To.WidgetBefore:To.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof wu&&function oge(i,t){return i==t||!!(i&&t&&i.compare(t))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function bW(i,t=!1){let{inclusiveStart:e,inclusiveEnd:n}=i;return null==e&&(e=i.inclusive),null==n&&(n=i.inclusive),{start:e??t,end:n??t}}function ZR(i,t,e,n=0){let r=e.length-1;r>=0&&e[r]+n>=i?e[r]=Math.max(e[r],t):e.push(i,t)}wu.prototype.point=!0;class cy{constructor(t,e,n,r){this.doc=t,this.pos=e,this.end=n,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof yu&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new sr),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(e1(new ag(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof yu)&&this.getLine()}buildText(t,e,n){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=o,this.textOff=0}let r=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-n)),this.getLine().append(e1(new ed(this.text.slice(this.textOff,this.textOff+r)),e),n),this.atCursorPos=!0,this.textOff+=r,t-=r,n=0}}span(t,e,n,r){this.buildText(e-t,n,r),this.pos=e,this.openStart<0&&(this.openStart=r)}point(t,e,n,r,o,s){if(this.disallowBlockEffectsFor[s]&&n instanceof wu){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=e-t;if(n instanceof wu)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new yu(n.widget||new vW("div"),a,n));else{let l=vu.create(n.widget||new vW("span"),a,a?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&o<=r.length&&(t<e||n.startSide>0),u=!l.isEditable&&(t<e||o>r.length||n.startSide<=0),f=this.getLine();2==this.pendingBuffer&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(r),c&&(f.append(e1(new ag(1),r),o),o=r.length+Math.max(0,o-r.length)),f.append(e1(l,r),o),this.atCursorPos=u,this.pendingBuffer=u?t<e||o>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=o)}static build(t,e,n,r,o){let s=new cy(t,e,n,o);return s.openEnd=Yi.spans(r,e,n,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function e1(i,t){for(let e of t)i=new td(e,[i],i.length);return i}class vW extends id{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var Si=function(i){return i[i.LTR=0]="LTR",i[i.RTL=1]="RTL",i}(Si||(Si={}));const pf=Si.LTR,QR=Si.RTL;function yW(i){let t=[];for(let e=0;e<i.length;e++)t.push(1<<+i[e]);return t}const sge=yW("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),age=yW("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),eP=Object.create(null),Bl=[];for(let i of["()","[]","{}"]){let t=i.charCodeAt(0),e=i.charCodeAt(1);eP[t]=e,eP[e]=-t}function wW(i){return i<=247?sge[i]:1424<=i&&i<=1524?2:1536<=i&&i<=1785?age[i-1536]:1774<=i&&i<=2220?4:8192<=i&&i<=8204?256:64336<=i&&i<=65023?4:1}const lge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xu{get dir(){return this.level%2?QR:pf}constructor(t,e,n){this.from=t,this.to=e,this.level=n}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,n,r){let o=-1;for(let s=0;s<t.length;s++){let a=t[s];if(a.from<=e&&a.to>=e){if(a.level==n)return s;(o<0||(0!=r?r<0?a.from<e:a.to>e:t[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function xW(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++){let n=i[e],r=t[e];if(n.from!=r.from||n.to!=r.to||n.direction!=r.direction||!xW(n.inner,r.inner))return!1}return!0}const Mi=[];function tP(i,t,e,n,r,o,s){let a=n%2?2:1;if(n%2==r%2)for(let l=t,c=0;l<e;){let u=!0,f=!1;if(c==o.length||l<o[c].from){let v=Mi[l];v!=a&&(u=!1,f=16==v)}let p=u||1!=a?null:[],g=u?n:n+1,b=l;e:for(;;)if(c<o.length&&b==o[c].from){if(f)break e;let v=o[c];if(!u)for(let D=v.to,S=c+1;;){if(D==e)break e;if(!(S<o.length&&o[S].from==D)){if(Mi[D]==a)break e;break}D=o[S++].to}c++,p?p.push(v):(v.from>l&&s.push(new xu(l,v.from,g)),iP(i,v.direction==pf!=!(g%2)?n+1:n,r,v.inner,v.from,v.to,s),l=v.to),b=v.to}else{if(b==e||(u?Mi[b]!=a:Mi[b]==a))break;b++}p?tP(i,l,b,n+1,r,p,s):l<b&&s.push(new xu(l,b,g)),l=b}else for(let l=e,c=o.length;l>t;){let u=!0,f=!1;if(!c||l>o[c-1].to){let v=Mi[l-1];v!=a&&(u=!1,f=16==v)}let p=u||1!=a?null:[],g=u?n:n+1,b=l;e:for(;;)if(c&&b==o[c-1].to){if(f)break e;let v=o[--c];if(!u)for(let D=v.from,S=c;;){if(D==t)break e;if(!S||o[S-1].to!=D){if(Mi[D-1]==a)break e;break}D=o[--S].from}p?p.push(v):(v.to<l&&s.push(new xu(v.to,l,g)),iP(i,v.direction==pf!=!(g%2)?n+1:n,r,v.inner,v.from,v.to,s),l=v.from),b=v.from}else{if(b==t||(u?Mi[b-1]!=a:Mi[b-1]==a))break;b--}p?tP(i,b,l,n+1,r,p,s):b<l&&s.push(new xu(b,l,g)),l=b}}function iP(i,t,e,n,r,o,s){let a=t%2?2:1;(function cge(i,t,e,n,r){for(let o=0;o<=n.length;o++){let s=o?n[o-1].to:t,a=o<n.length?n[o].from:e,l=o?256:r;for(let c=s,u=l,f=l;c<a;c++){let p=wW(i.charCodeAt(c));512==p?p=u:8==p&&4==f&&(p=16),Mi[c]=4==p?2:p,7&p&&(f=p),u=p}for(let c=s,u=l,f=l;c<a;c++){let p=Mi[c];if(128==p)c<a-1&&u==Mi[c+1]&&24&u?p=Mi[c]=u:Mi[c]=256;else if(64==p){let g=c+1;for(;g<a&&64==Mi[g];)g++;let b=c&&8==u||g<e&&8==Mi[g]?1==f?1:8:256;for(let v=c;v<g;v++)Mi[v]=b;c=g-1}else 8==p&&1==f&&(Mi[c]=1);u=p,7&p&&(f=p)}}})(i,r,o,n,a),function dge(i,t,e,n,r){let o=1==r?2:1;for(let s=0,a=0,l=0;s<=n.length;s++){let u=s<n.length?n[s].from:e;for(let p,g,b,f=s?n[s-1].to:t;f<u;f++)if(g=eP[p=i.charCodeAt(f)])if(g<0){for(let v=a-3;v>=0;v-=3)if(Bl[v+1]==-g){let D=Bl[v+2],S=2&D?r:4&D?1&D?o:r:0;S&&(Mi[f]=Mi[Bl[v]]=S),a=v;break}}else{if(189==Bl.length)break;Bl[a++]=f,Bl[a++]=p,Bl[a++]=l}else if(2==(b=Mi[f])||1==b){let v=b==r;l=v?0:1;for(let D=a-3;D>=0;D-=3){let S=Bl[D+2];if(2&S)break;if(v)Bl[D+2]|=2;else{if(4&S)break;Bl[D+2]|=4}}}}}(i,r,o,n,a),function uge(i,t,e,n){for(let r=0,o=n;r<=e.length;r++){let a=r<e.length?e[r].from:t;for(let l=r?e[r-1].to:i;l<a;){let c=Mi[l];if(256==c){let u=l+1;for(;;)if(u==a){if(r==e.length)break;u=e[r++].to,a=r<e.length?e[r].from:t}else{if(256!=Mi[u])break;u++}let f=1==o,g=f==(1==(u<t?Mi[u]:n))?f?1:2:n;for(let b=u,v=r,D=v?e[v-1].to:i;b>l;)b==D&&(b=e[--v].from,D=v?e[v-1].to:i),Mi[--b]=g;l=u}else o=c,l++}}}(r,o,n,a),tP(i,r,o,t,e,n,s)}function DW(i){return[new xu(0,i,0)]}let kW="";function EW(i,t,e,n,r){var o;let s=n.head-i.from,a=xu.find(t,s,null!==(o=n.bidiLevel)&&void 0!==o?o:-1,n.assoc),l=t[a],c=l.side(r,e);if(s==c){let p=a+=r?1:-1;if(p<0||p>=t.length)return null;l=t[a=p],s=l.side(!r,e),c=l.side(r,e)}let u=Lr(i.text,s,l.forward(r,e));(u<l.from||u>l.to)&&(u=c),kW=i.text.slice(Math.min(s,u),Math.max(s,u));let f=a==(r?t.length-1:0)?null:t[a+(r?1:-1)];return f&&u==c&&f.level+(r?0:1)<l.level?ee.cursor(f.side(!r,e)+i.from,f.forward(r,e)?1:-1,f.level):ee.cursor(u+i.from,l.forward(r,e)?-1:1,l.level)}function hge(i,t,e){for(let n=t;n<e;n++){let r=wW(i.charCodeAt(n));if(1==r)return pf;if(2==r||4==r)return QR}return pf}const SW=Ee.define(),MW=Ee.define(),AW=Ee.define(),TW=Ee.define(),nP=Ee.define(),IW=Ee.define(),OW=Ee.define(),RW=Ee.define({combine:i=>i.some(t=>t)}),PW=Ee.define({combine:i=>i.some(t=>t)});class lg{constructor(t,e="nearest",n="nearest",r=5,o=5,s=!1){this.range=t,this.y=e,this.x=n,this.yMargin=r,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new lg(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new lg(ee.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const t1=Bt.define({map:(i,t)=>i.map(t)});function ca(i,t,e){let n=i.facet(TW);n.length?n[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const n1=Ee.define({combine:i=>!i.length||i[0]});let fge=0;const dy=Ee.define();class rn{constructor(t,e,n,r,o){this.id=t,this.create=e,this.domEventHandlers=n,this.domEventObservers=r,this.extension=o(this)}static define(t,e){const{eventHandlers:n,eventObservers:r,provide:o,decorations:s}=e||{};return new rn(fge++,t,n,r,a=>{let l=[dy.of(a)];return s&&l.push(uy.of(c=>{let u=c.plugin(a);return u?s(u):Ne.none})),o&&l.push(o(a)),l})}static fromClass(t,e){return rn.define(n=>new t(n),e)}}class rP{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(n){if(ca(e.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){ca(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(null!==(e=this.value)&&void 0!==e&&e.destroy)try{this.value.destroy()}catch(n){ca(t.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const FW=Ee.define(),r1=Ee.define(),uy=Ee.define(),NW=Ee.define(),oP=Ee.define(),LW=Ee.define();function BW(i,t){let e=i.state.facet(LW);if(!e.length)return e;let n=e.map(o=>o instanceof Function?o(i):o),r=[];return Yi.spans(n,t.from,t.to,{point(){},span(o,s,a,l){let c=o-t.from,u=s-t.from,f=r;for(let p=a.length-1;p>=0;p--,l--){let b,g=a[p].spec.bidiIsolate;if(null==g&&(g=hge(t.text,c,u)),l>0&&f.length&&(b=f[f.length-1]).to==c&&b.direction==g)b.to=u,f=b.inner;else{let v={from:c,to:u,direction:g,inner:[]};f.push(v),f=v.inner}}}}),r}const VW=Ee.define();function HW(i){let t=0,e=0,n=0,r=0;for(let o of i.state.facet(VW)){let s=o(i);s&&(null!=s.left&&(t=Math.max(t,s.left)),null!=s.right&&(e=Math.max(e,s.right)),null!=s.top&&(n=Math.max(n,s.top)),null!=s.bottom&&(r=Math.max(r,s.bottom)))}return{left:t,right:e,top:n,bottom:r}}const hy=Ee.define();class As{constructor(t,e,n,r){this.fromA=t,this.toA=e,this.fromB=n,this.toB=r}join(t){return new As(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,n=this;for(;e>0;e--){let r=t[e-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),t.splice(e-1,1)}}return t.splice(e,0,n),t}static extendWithRanges(t,e){if(0==e.length)return t;let n=[];for(let r=0,o=0,s=0,a=0;;r++){let l=r==t.length?null:t[r],c=s-a,u=l?l.fromB:1e9;for(;o<e.length&&e[o]<u;){let p=e[o+1],g=Math.max(a,e[o]),b=Math.min(u,p);if(g<=b&&new As(g+c,b+c,g,b).addToSet(n),p>u)break;o+=2}if(!l)return n;new As(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),s=l.toA,a=l.toB}}}class o1{constructor(t,e,n){this.view=t,this.state=e,this.transactions=n,this.flags=0,this.startState=t.state,this.changes=or.empty(this.startState.doc.length);for(let o of n)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,s,a,l)=>r.push(new As(o,s,a,l))),this.changedRanges=r}static create(t,e,n){return new o1(t,e,n)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class zW extends Ui{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new sr],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new As(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let n=t.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=-1;this.view.inputState.composing>=0&&(null!==(e=this.domChanged)&&void 0!==e&&e.newSel?r=this.domChanged.newSel.head:!function yge(i,t){let e=!1;return t&&i.iterChangedRanges((n,r)=>{n<t.to&&r>t.from&&(e=!0)}),e}(t.changes,this.hasComposition)&&!t.selectionSet&&(r=t.state.selection.main.head));let o=r>-1?function pge(i,t,e){let n=WW(i,e);if(!n)return null;let{node:r,from:o,to:s}=n,a=r.nodeValue;if(/[\n\r]/.test(a)||i.state.doc.sliceString(n.from,n.to)!=a)return null;let l=t.invertedDesc,c=new As(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let f=r.parentNode;;f=f.parentNode){let p=Ui.get(f);if(p instanceof td)u.push({node:f,deco:p.mark});else{if(p instanceof sr||"DIV"==f.nodeName&&f.parentNode==i.contentDOM)return{range:c,text:r,marks:u,line:f};if(f==i.contentDOM)return null;u.push({node:f,deco:new ay({inclusive:!0,attributes:rge(f),tagName:f.tagName.toLowerCase()})})}}}(this.view,t.changes,r):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;n=new As(c,u,t.changes.mapPos(c,-1),t.changes.mapPos(u,1)).addToSet(n.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Oe.ie||Oe.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let l=function bge(i,t,e){let n=new _ge;return Yi.compare(i,t,e,n),n.changes}(this.decorations,this.updateDeco(),t.changes);return n=As.extendWithRanges(n,l),!!(7&this.flags||0!=n.length)&&(this.updateInner(n,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Oe.chrome||Oe.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof yu&&s.widget instanceof UW&&o.push(s.dom);r.updateGaps(o)}updateChildren(t,e,n){let r=n?n.range.addToSet(t.slice()):t,o=this.childCursor(e);for(let s=r.length-1;;s--){let a=s>=0?r[s]:null;if(!a)break;let p,g,b,v,{fromA:l,toA:c,fromB:u,toB:f}=a;if(n&&n.range.fromB<f&&n.range.toB>u){let H=cy.build(this.view.state.doc,u,n.range.fromB,this.decorations,this.dynamicDecorationMap),W=cy.build(this.view.state.doc,n.range.toB,f,this.decorations,this.dynamicDecorationMap);g=H.breakAtStart,b=H.openStart,v=W.openEnd;let ie=this.compositionView(n);W.breakAtStart?ie.breakAfter=1:W.content.length&&ie.merge(ie.length,ie.length,W.content[0],!1,W.openStart,0)&&(ie.breakAfter=W.content[0].breakAfter,W.content.shift()),H.content.length&&ie.merge(0,0,H.content[H.content.length-1],!0,0,H.openEnd)&&H.content.pop(),p=H.content.concat(ie).concat(W.content)}else({content:p,breakAtStart:g,openStart:b,openEnd:v}=cy.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:D,off:S}=o.findPos(c,1),{i:A,off:L}=o.findPos(l,-1);aW(this,A,L,D,S,p,g,b,v)}n&&this.fixCompositionDOM(n)}compositionView(t){let e=new ed(t.text.nodeValue);e.flags|=8;for(let{deco:r}of t.marks)e=new td(r,[e],e.length);let n=new sr;return n.append(e,0),n}fixCompositionDOM(t){let e=(o,s)=>{s.flags|=8|(s.children.some(l=>7&l.flags)?1:0),this.markedForComposition.add(s);let a=Ui.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},n=this.childPos(t.range.fromB,1),r=this.children[n.i];e(t.line,r);for(let o=t.marks.length-1;o>=-1;o--)n=r.childPos(n.off,1),r=r.children[n.i],e(o>=0?t.marks[o].node:t.text,r)}updateSelection(t=!1,e=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,r=n==this.dom,o=!r&&XD(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(r||e||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Oe.gecko&&a.empty&&!this.hasComposition&&function mge(i){return 1==i.node.nodeType&&i.node.firstChild&&(0==i.offset||"false"==i.node.childNodes[i.offset-1].contentEditable)&&(i.offset==i.node.childNodes.length||"false"==i.node.childNodes[i.offset].contentEditable)}(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new io(f,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!oy(l.node,l.offset,u.anchorNode,u.anchorOffset)||!oy(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Oe.android&&Oe.chrome&&this.dom.contains(u.focusNode)&&function vge(i,t){for(let e=i;e&&e!=t;e=e.assignedSlot||e.parentNode)if(1==e.nodeType&&"false"==e.contentEditable)return!0;return!1}(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=YD(this.view.root);if(f)if(a.empty){if(Oe.gecko){let p=function gge(i,t){return 1!=i.nodeType?0:(t&&"false"==i.childNodes[t-1].contentEditable?1:0)|(t<i.childNodes.length&&"false"==i.childNodes[t].contentEditable?2:0)}(l.node,l.offset);if(p&&3!=p){let g=jW(l.node,l.offset,1==p?1:-1);g&&(l=new io(g.node,g.offset))}}f.collapse(l.node,l.offset),null!=a.bidiLevel&&void 0!==f.caretBidiLevel&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let p=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(p)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new io(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new io(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&oy(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,n=YD(t.root),{anchorNode:r,anchorOffset:o}=t.observer.selectionRange;if(!(n&&e.empty&&e.assoc&&n.modify))return;let s=sr.find(this,e.head);if(!s)return;let a=s.posAtStart;if(e.head==a||e.head==a+s.length)return;let l=this.coordsAt(e.head,-1),c=this.coordsAt(e.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(e.head+e.assoc);n.collapse(u.node,u.offset),n.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=e.from&&n.collapse(r,o)}moveToLine(t){let n,e=this.dom;if(t.node!=e)return t;for(let r=t.offset;!n&&r<e.childNodes.length;r++){let o=Ui.get(e.childNodes[r]);o instanceof sr&&(n=o.domAtPos(0))}for(let r=t.offset-1;!n&&r>=0;r--){let o=Ui.get(e.childNodes[r]);o instanceof sr&&(n=o.domAtPos(o.length))}return n?new io(n.node,n.offset,!0):t}nearest(t){for(let e=t;e;){let n=Ui.get(e);if(n&&n.rootView==this)return n;e=e.parentNode}return null}posFromDOM(t,e){let n=this.nearest(t);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(t,e)+n.posAtStart}domAtPos(t){let{i:e,off:n}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let r=this.children[e];if(n<r.length||r instanceof sr)break;e++,n=0}return this.children[e].domAtPos(n)}coordsAt(t,e){let n=null,r=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<t)break;c<=t&&(c<t||a.covers(-1))&&(l>t||a.covers(1))&&(!n||a instanceof sr&&!(n instanceof sr&&e>=0))&&(n=a,r=c),o=c}return n?n.coordsAt(t-r,e):null}coordsForChar(t){let{i:e,off:n}=this.childPos(t,1),r=this.children[e];if(!(r instanceof sr))return null;for(;r.children.length;){let{i:a,off:l}=r.childPos(n,1);for(;;a++){if(a==r.children.length)return null;if((r=r.children[a]).length)break}n=l}if(!(r instanceof ed))return null;let o=Lr(r.text,n);if(o==n)return null;let s=mf(r.dom,n,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(t){let e=[],{from:n,to:r}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Si.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],p=c+f.length;if(p>r)break;if(c>=n){let g=f.dom.getBoundingClientRect();if(e.push(g.height),s){let b=f.dom.lastChild,v=b?rg(b):[];if(v.length){let D=v[v.length-1],S=l?D.right-g.left:g.right-D.left;S>a&&(a=S,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=p)}}}c=p+f.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return"rtl"==getComputedStyle(this.children[e].dom).direction?Si.RTL:Si.LTR}measureTextSize(){for(let o of this.children)if(o instanceof sr){let s=o.measureTextSize();if(s)return s}let e,n,r,t=document.createElement("div");return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=rg(t.firstChild)[0];e=t.getBoundingClientRect().height,n=o?o.width/27:7,r=o?o.height:e,t.remove()}),{lineHeight:e,charWidth:n,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new sW(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let n=0,r=0;;r++){let o=r==e.viewports.length?null:e.viewports[r],s=o?o.from-1:this.length;if(s>n){let a=(e.lineBlockAt(s).bottom-e.lineBlockAt(n).top)/this.view.scaleY;t.push(Ne.replace({widget:new UW(a),block:!0,inclusive:!0,isBlockGap:!0}).range(n,s))}if(!o)break;n=o.to+1}return Ne.set(t)}updateDeco(){let t=this.view.state.facet(uy).map((r,o)=>(this.dynamicDecorationMap[o]="function"==typeof r)?r(this.view):r),e=!1,n=this.view.state.facet(NW).map((r,o)=>{let s="function"==typeof r;return s&&(e=!0),s?r(this.view):r});n.length&&(this.dynamicDecorationMap[t.length]=e,t.push(Yi.join(n)));for(let r=t.length;r<t.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){if(t.isSnapshot){let c=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=c.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}let r,{range:e}=t,n=this.coordsAt(e.head,e.empty?e.assoc:e.head>e.anchor?-1:1);if(!n)return;!e.empty&&(r=this.coordsAt(e.anchor,e.anchor>e.head?-1:1))&&(n={left:Math.min(n.left,r.left),top:Math.min(n.top,r.top),right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)});let o=HW(this.view),s={left:n.left-o.left,top:n.top-o.top,right:n.right+o.right,bottom:n.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;!function Ype(i,t,e,n,r,o,s,a){let l=i.ownerDocument,c=l.defaultView||window;for(let u=i,f=!1;u&&!f;)if(1==u.nodeType){let p,g=u==l.body,b=1,v=1;if(g)p=Jpe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let A=u.getBoundingClientRect();({scaleX:b,scaleY:v}=eW(u,A)),p={left:A.left,right:A.left+u.clientWidth*b,top:A.top,bottom:A.top+u.clientHeight*v}}let D=0,S=0;if("nearest"==r)t.top<p.top?(S=-(p.top-t.top+s),e>0&&t.bottom>p.bottom+S&&(S=t.bottom-p.bottom+S+s)):t.bottom>p.bottom&&(S=t.bottom-p.bottom+s,e<0&&t.top-S<p.top&&(S=-(p.top+S-t.top+s)));else{let A=t.bottom-t.top,L=p.bottom-p.top;S=("center"==r&&A<=L?t.top+A/2-L/2:"start"==r||"center"==r&&e<0?t.top-s:t.bottom-L+s)-p.top}if("nearest"==n?t.left<p.left?(D=-(p.left-t.left+o),e>0&&t.right>p.right+D&&(D=t.right-p.right+D+o)):t.right>p.right&&(D=t.right-p.right+o,e<0&&t.left<p.left+D&&(D=-(p.left+D-t.left+o))):D=("center"==n?t.left+(t.right-t.left)/2-(p.right-p.left)/2:"start"==n==a?t.left-o:t.right-(p.right-p.left)+o)-p.left,D||S)if(g)c.scrollBy(D,S);else{let A=0,L=0;if(S){let H=u.scrollTop;u.scrollTop+=S/v,L=(u.scrollTop-H)*v}if(D){let H=u.scrollLeft;u.scrollLeft+=D/b,A=(u.scrollLeft-H)*b}t={left:t.left-A,top:t.top-L,right:t.right-A,bottom:t.bottom-L},A&&Math.abs(A-D)<1&&(n="nearest"),L&&Math.abs(L-S)<1&&(r="nearest")}if(g)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,s,e.head<e.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,a),-a),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==Si.LTR)}}class UW extends id{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function WW(i,t){let e=i.observer.selectionRange,n=e.focusNode&&jW(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t-n.offset;return{from:r,to:r+n.node.nodeValue.length,node:n.node}}function jW(i,t,e){if(e<=0)for(let n=i,r=t;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r>0))break;n=n.childNodes[r-1],r=Qc(n)}if(e>=0)for(let n=i,r=t;;){if(3==n.nodeType)return{node:n,offset:r};if(!(1==n.nodeType&&r<n.childNodes.length&&e>=0))break;n=n.childNodes[r],r=0}return null}let _ge=class{constructor(){this.changes=[]}compareRange(t,e){ZR(t,e,this.changes)}comparePoint(t,e){ZR(t,e,this.changes)}};function xge(i,t){return t.left>i?t.left-i:Math.max(0,i-t.right)}function Cge(i,t){return t.top>i?t.top-i:Math.max(0,i-t.bottom)}function sP(i,t){return i.top<t.bottom-1&&i.bottom>t.top+1}function $W(i,t){return t<i.top?{top:t,left:i.left,right:i.right,bottom:i.bottom}:i}function GW(i,t){return t>i.bottom?{top:i.top,left:i.left,right:i.right,bottom:t}:i}function aP(i,t,e){let n,r,o,s,l,c,u,f,a=!1;for(let b=i.firstChild;b;b=b.nextSibling){let v=rg(b);for(let D=0;D<v.length;D++){let S=v[D];r&&sP(r,S)&&(S=$W(GW(S,r.bottom),r.top));let A=xge(t,S),L=Cge(e,S);if(0==A&&0==L)return 3==b.nodeType?qW(b,t,e):aP(b,t,e);if(!n||s>L||s==L&&o>A){n=b,r=S,o=A,s=L;let H=L?e<S.top?-1:1:A?t<S.left?-1:1:0;a=!H||(H>0?D<v.length-1:D>0)}0==A?e>S.bottom&&(!u||u.bottom<S.bottom)?(l=b,u=S):e<S.top&&(!f||f.top>S.top)&&(c=b,f=S):u&&sP(u,S)?u=GW(u,S.bottom):f&&sP(f,S)&&(f=$W(f,S.top))}}if(u&&u.bottom>=e?(n=l,r=u):f&&f.top<=e&&(n=c,r=f),!n)return{node:i,offset:0};let p=Math.max(r.left,Math.min(r.right,t));return 3==n.nodeType?qW(n,p,e):a&&"false"!=n.contentEditable?aP(n,p,e):{node:i,offset:Array.prototype.indexOf.call(i.childNodes,n)+(t>=(r.left+r.right)/2?1:0)}}function qW(i,t,e){let n=i.nodeValue.length,r=-1,o=1e9,s=0;for(let a=0;a<n;a++){let l=mf(i,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=t-u.left);let f=(u.top>e?u.top-e:e-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&f<o){let p=t>=(u.left+u.right)/2,g=p;if((Oe.chrome||Oe.gecko)&&mf(i,a).getBoundingClientRect().left==u.right&&(g=!p),f<=0)return{node:i,offset:a+(g?1:0)};r=a+(g?1:0),o=f}}}return{node:i,offset:r>-1?r:s>0?i.nodeValue.length:0}}function KW(i,t,e,n=-1){var r,o;let l,s=i.contentDOM.getBoundingClientRect(),a=s.top+i.viewState.paddingTop,{docHeight:c}=i.viewState,{x:u,y:f}=t,p=f-a;if(p<0)return 0;if(p>c)return i.state.doc.length;for(let H=i.viewState.heightOracle.textHeight/2,W=!1;l=i.elementAtHeight(p),l.type!=To.Text;)for(;p=n>0?l.bottom+H:l.top-H,!(p>=0&&p<=c);){if(W)return e?null:0;W=!0,n=-n}f=a+p;let g=l.from;if(g<i.viewport.from)return 0==i.viewport.from?0:e?null:JW(i,s,l,u,f);if(g>i.viewport.to)return i.viewport.to==i.state.doc.length?i.state.doc.length:e?null:JW(i,s,l,u,f);let b=i.dom.ownerDocument,v=i.root.elementFromPoint?i.root:b,D=v.elementFromPoint(u,f);D&&!i.contentDOM.contains(D)&&(D=null),D||(u=Math.max(s.left+1,Math.min(s.right-1,u)),D=v.elementFromPoint(u,f),D&&!i.contentDOM.contains(D)&&(D=null));let S,A=-1;if(D&&0!=(null===(r=i.docView.nearest(D))||void 0===r?void 0:r.isEditable))if(b.caretPositionFromPoint){let H=b.caretPositionFromPoint(u,f);H&&({offsetNode:S,offset:A}=H)}else if(b.caretRangeFromPoint){let H=b.caretRangeFromPoint(u,f);H&&(({startContainer:S,startOffset:A}=H),(!i.contentDOM.contains(S)||Oe.safari&&function Dge(i,t,e){let n;if(3!=i.nodeType||t!=(n=i.nodeValue.length))return!1;for(let r=i.nextSibling;r;r=r.nextSibling)if(1!=r.nodeType||"BR"!=r.nodeName)return!1;return mf(i,n-1,n).getBoundingClientRect().left>e}(S,A,u)||Oe.chrome&&function kge(i,t,e){if(0!=t)return!1;for(let r=i;;){let o=r.parentNode;if(!o||1!=o.nodeType||o.firstChild!=r)return!1;if(o.classList.contains("cm-line"))break;r=o}return e-(1==i.nodeType?i.getBoundingClientRect():mf(i,0,Math.max(i.nodeValue.length,1)).getBoundingClientRect()).left>5}(S,A,u))&&(S=void 0))}if(!S||!i.docView.dom.contains(S)){let H=sr.find(i.docView,g);if(!H)return p>l.top+l.height/2?l.to:l.from;({node:S,offset:A}=aP(H.dom,u,f))}let L=i.docView.nearest(S);if(!L)return null;if(L.isWidget&&1==(null===(o=L.dom)||void 0===o?void 0:o.nodeType)){let H=L.dom.getBoundingClientRect();return t.y<H.top||t.y<=H.bottom&&t.x<=(H.left+H.right)/2?L.posAtStart:L.posAtEnd}return L.localPosFromDOM(S,A)+L.posAtStart}function JW(i,t,e,n,r){let o=Math.round((n-t.left)*i.defaultCharacterWidth);if(i.lineWrapping&&e.height>1.5*i.defaultLineHeight){let a=i.viewState.heightOracle.textHeight;o+=Math.floor((r-e.top-.5*(i.defaultLineHeight-a))/a)*i.viewState.heightOracle.lineLength}let s=i.state.sliceDoc(e.from,e.to);return e.from+VR(s,o,i.state.tabSize)}function lP(i,t){let e=i.lineBlockAt(t);if(Array.isArray(e.type))for(let n of e.type)if(n.to>t||n.to==t&&(n.to==e.to||n.type==To.Text))return n;return e}function YW(i,t,e,n){let r=i.state.doc.lineAt(t.head),o=i.bidiSpans(r),s=i.textDirectionAt(r.from);for(let a=t,l=null;;){let c=EW(r,o,s,a,e),u=kW;if(!c){if(r.number==(e?i.state.doc.lines:1))return a;u="\n",r=i.state.doc.line(r.number+(e?1:-1)),o=i.bidiSpans(r),c=i.visualLineSide(r,!e)}if(l){if(!l(u))return a}else{if(!n)return c;l=n(u)}a=c}}function s1(i,t,e){for(;;){let n=0;for(let r of i)r.between(t-1,t+1,(o,s,a)=>{if(t>o&&t<s){let l=n||e||(t-o<s-t?-1:1);t=l<0?o:s,n=l}});if(!n)return t}}function cP(i,t,e){let n=s1(i.state.facet(oP).map(r=>r(i)),e.from,t.head>e.from?-1:1);return n==e.from?e:ee.cursor(n,n<e.from?1:-1)}class Age{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,Oe.safari&&t.contentDOM.addEventListener("input",()=>null),Oe.gecko&&function $ge(i){mj.has(i)||(mj.add(i),i.addEventListener("copy",()=>{}),i.addEventListener("cut",()=>{}))}(t.contentDOM.ownerDocument)}handleEvent(t){!function Lge(i,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n,e=t.target;e!=i.contentDOM;e=e.parentNode)if(!e||11==e.nodeType||(n=Ui.get(e))&&n.ignoreEvent(t))return!1;return!0}(this.view,t)||this.ignoreDuringComposition(t)||"keydown"==t.type&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,e){let n=this.handlers[t];if(n){for(let r of n.observers)r(this.view,e);for(let r of n.handlers){if(e.defaultPrevented)break;if(r(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=function Tge(i){let t=Object.create(null);function e(n){return t[n]||(t[n]={observers:[],handlers:[]})}for(let n of i){let r=n.spec;if(r&&r.domEventHandlers)for(let o in r.domEventHandlers){let s=r.domEventHandlers[o];s&&e(o).handlers.push(XW(n.value,s))}if(r&&r.domEventObservers)for(let o in r.domEventObservers){let s=r.domEventObservers[o];s&&e(o).observers.push(XW(n.value,s))}}for(let n in Ga)e(n).handlers.push(Ga[n]);for(let n in qa)e(n).observers.push(qa[n]);return t}(t),n=this.handlers,r=this.view.contentDOM;for(let o in e)if("scroll"!=o){let s=!e[o].handlers.length,a=n[o];a&&s!=!a.handlers.length&&(r.removeEventListener(o,this.handleEvent),a=null),a||r.addEventListener(o,this.handleEvent,{passive:s})}for(let o in n)"scroll"!=o&&!e[o]&&r.removeEventListener(o,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(27!=t.keyCode&&QW.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),Oe.android&&Oe.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!Oe.ios||t.synthetic||t.altKey||t.metaKey||!((e=ZW.find(n=>n.keyCode==t.keyCode))&&!t.ctrlKey||Ige.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(229!=t.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,sg(this.view.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(Oe.safari&&!Oe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function XW(i,t){return(e,n)=>{try{return t.call(i,n,e)}catch(r){ca(e.state,r)}}}const ZW=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ige="dthko",QW=[16,17,18,20,91,92,224,225];function l1(i){return.7*Math.max(0,i)+8}class Rge{constructor(t,e,n,r){this.view=t,this.startEvent=e,this.style=n,this.mustSelect=r,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParent=function Xpe(i){let t=i.ownerDocument;for(let e=i.parentNode;e&&e!=t.body;)if(1==e.nodeType){if(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)return e;e=e.assignedSlot||e.parentNode}else{if(11!=e.nodeType)break;e=e.host}return null}(t.contentDOM),this.atoms=t.state.facet(oP).map(s=>s(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(Ss.allowMultipleSelections)&&function Pge(i,t){let e=i.state.facet(SW);return e.length?e[0](t):Oe.mac?t.metaKey:t.ctrlKey}(t,e),this.dragging=!(!function Nge(i,t){let{main:e}=i.state.selection;if(e.empty)return!1;let n=YD(i.root);if(!n||0==n.rangeCount)return!0;let r=n.getRangeAt(0).getClientRects();for(let o=0;o<r.length;o++){let s=r[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}(t,e)||1!=cj(e))&&null}start(t){!1===this.dragging&&this.select(t)}move(t){var e;if(0==t.buttons)return this.destroy();if(this.dragging||null==this.dragging&&function Oge(i,t){return Math.max(Math.abs(i.clientX-t.clientX),Math.abs(i.clientY-t.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,o=(null===(e=this.scrollParent)||void 0===e?void 0:e.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=HW(this.view);t.clientX-s.left<=o.left+6?n=-l1(o.left-t.clientX):t.clientX+s.right>=o.right-6&&(n=l1(t.clientX-o.right)),t.clientY-s.top<=o.top+6?r=-l1(o.top-t.clientY):t.clientY+s.bottom>=o.bottom-6&&(r=l1(t.clientY-o.bottom)),this.setScrollSpeed(n,r)}up(t){null==this.dragging&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let n=0;n<t.ranges.length;n++){let r=t.ranges[n],o=null;if(r.empty){let s=s1(this.atoms,r.from,0);s!=r.from&&(o=ee.cursor(s,-1))}else{let s=s1(this.atoms,r.from,-1),a=s1(this.atoms,r.to,1);(s!=r.from||a!=r.to)&&(o=ee.range(r.from==r.anchor?s:a,r.from==r.head?s:a))}o&&(e||(e=t.ranges.slice()),e[n]=o)}return e?ee.create(e,t.mainIndex):t}select(t){let{view:e}=this,n=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!n.eq(e.state.selection,!1===this.dragging))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}const Ga=Object.create(null),qa=Object.create(null),ej=Oe.ie&&Oe.ie_version<15||Oe.ios&&Oe.webkit_version<604;function tj(i,t){let n,{state:e}=i,r=1,o=e.toText(t),s=o.lines==e.selection.ranges.length;if(null!=dP&&e.selection.ranges.every(l=>l.empty)&&dP==o.toString()){let l=-1;n=e.changeByRange(c=>{let u=e.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=e.toText((s?o.line(r++).text:t)+e.lineBreak);return{changes:{from:u.from,insert:f},range:ee.cursor(c.from+f.length)}})}else n=s?e.changeByRange(l=>{let c=o.line(r++);return{changes:{from:l.from,to:l.to,insert:c.text},range:ee.cursor(l.from+c.length)}}):e.replaceSelection(o);i.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function ij(i,t,e,n){if(1==n)return ee.cursor(t,e);if(2==n)return function wge(i,t,e=1){let n=i.charCategorizer(t),r=i.doc.lineAt(t),o=t-r.from;if(0==r.length)return ee.cursor(t);0==o?e=1:o==r.length&&(e=-1);let s=o,a=o;e<0?s=Lr(r.text,o,!1):a=Lr(r.text,o);let l=n(r.text.slice(s,a));for(;s>0;){let c=Lr(r.text,s,!1);if(n(r.text.slice(c,s))!=l)break;s=c}for(;a<r.length;){let c=Lr(r.text,a);if(n(r.text.slice(a,c))!=l)break;a=c}return ee.range(s+r.from,a+r.from)}(i.state,t,e);{let r=sr.find(i.docView,t),o=i.state.doc.lineAt(r?r.posAtEnd:t),a=r?r.posAtEnd:o.to;return a<i.state.doc.length&&a==o.to&&a++,ee.range(r?r.posAtStart:o.from,a)}}qa.scroll=i=>{i.inputState.lastScrollTop=i.scrollDOM.scrollTop,i.inputState.lastScrollLeft=i.scrollDOM.scrollLeft},Ga.keydown=(i,t)=>(i.inputState.setSelectionOrigin("select"),27==t.keyCode&&(i.inputState.lastEscPress=Date.now()),!1),qa.touchstart=(i,t)=>{i.inputState.lastTouchTime=Date.now(),i.inputState.setSelectionOrigin("select.pointer")},qa.touchmove=i=>{i.inputState.setSelectionOrigin("select.pointer")},Ga.mousedown=(i,t)=>{if(i.observer.flush(),i.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let n of i.state.facet(AW))if(e=n(i,t),e)break;if(!e&&0==t.button&&(e=function zge(i,t){let e=oj(i,t),n=cj(t),r=i.state.selection;return{update(o){o.docChanged&&(e.pos=o.changes.mapPos(e.pos),r=r.map(o.changes))},get(o,s,a){let c,l=oj(i,o),u=ij(i,l.pos,l.bias,n);if(e.pos!=l.pos&&!s){let f=ij(i,e.pos,e.bias,n),p=Math.min(f.from,u.from),g=Math.max(f.to,u.to);u=p<u.from?ee.range(p,g):ee.range(g,p)}return s?r.replaceRange(r.main.extend(u.from,u.to)):a&&1==n&&r.ranges.length>1&&(c=function Uge(i,t){for(let e=0;e<i.ranges.length;e++){let{from:n,to:r}=i.ranges[e];if(n<=t&&r>=t)return ee.create(i.ranges.slice(0,e).concat(i.ranges.slice(e+1)),i.mainIndex==e?0:i.mainIndex-(i.mainIndex>e?1:0))}return null}(r,l.pos))?c:a?r.addRange(u):ee.create([u])}}}(i,t)),e){let n=!i.hasFocus;i.inputState.startMouseSelection(new Rge(i,t,e,n)),n&&i.observer.ignore(()=>tW(i.contentDOM));let r=i.inputState.mouseSelection;if(r)return r.start(t),!1===r.dragging}return!1};let nj=(i,t)=>i>=t.top&&i<=t.bottom,rj=(i,t,e)=>nj(t,e)&&i>=e.left&&i<=e.right;function Vge(i,t,e,n){let r=sr.find(i.docView,t);if(!r)return 1;let o=t-r.posAtStart;if(0==o)return 1;if(o==r.length)return-1;let s=r.coordsAt(o,-1);if(s&&rj(e,n,s))return-1;let a=r.coordsAt(o,1);return a&&rj(e,n,a)?1:s&&nj(n,s)?-1:1}function oj(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:Vge(i,e,t.clientX,t.clientY)}}const Hge=Oe.ie&&Oe.ie_version<=11;let sj=null,aj=0,lj=0;function cj(i){if(!Hge)return i.detail;let t=sj,e=lj;return sj=i,lj=Date.now(),aj=!t||e>Date.now()-400&&Math.abs(t.clientX-i.clientX)<2&&Math.abs(t.clientY-i.clientY)<2?(aj+1)%3:1}function dj(i,t,e,n){if(!e)return;let r=i.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=i.inputState,s=n&&o&&function Fge(i,t){let e=i.state.facet(MW);return e.length?e[0](t):Oe.mac?!t.altKey:!t.ctrlKey}(i,t)?{from:o.from,to:o.to}:null,a={from:r,insert:e},l=i.state.changes(s?[s,a]:a);i.focus(),i.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:s?"move.drop":"input.drop"}),i.inputState.draggedContent=null}Ga.dragstart=(i,t)=>{let{selection:{main:e}}=i.state;if(t.target.draggable){let r=i.docView.nearest(t.target);if(r&&r.isWidget){let o=r.posAtStart,s=o+r.length;(o>=e.to||s<=e.from)&&(e=ee.range(o,s))}}let{inputState:n}=i;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",i.state.sliceDoc(e.from,e.to)),t.dataTransfer.effectAllowed="copyMove"),!1},Ga.dragend=i=>(i.inputState.draggedContent=null,!1),Ga.drop=(i,t)=>{if(!t.dataTransfer)return!1;if(i.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let n=Array(e.length),r=0,o=()=>{++r==e.length&&dj(i,t,n.filter(s=>null!=s).join(i.state.lineBreak),!1)};for(let s=0;s<e.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(n[s]=a.result),o()},a.readAsText(e[s])}return!0}{let n=t.dataTransfer.getData("Text");if(n)return dj(i,t,n,!0),!0}return!1},Ga.paste=(i,t)=>{if(i.state.readOnly)return!0;i.observer.flush();let e=ej?null:t.clipboardData;return e?(tj(i,e.getData("text/plain")||e.getData("text/uri-text")),!0):(function Bge(i){let t=i.dom.parentNode;if(!t)return;let e=t.appendChild(document.createElement("textarea"));e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{i.focus(),e.remove(),tj(i,e.value)},50)}(i),!1)};let dP=null;Ga.copy=Ga.cut=(i,t)=>{let{text:e,ranges:n,linewise:r}=function jge(i){let t=[],e=[],n=!1;for(let r of i.selection.ranges)r.empty||(t.push(i.sliceDoc(r.from,r.to)),e.push(r));if(!t.length){let r=-1;for(let{from:o}of i.selection.ranges){let s=i.doc.lineAt(o);s.number>r&&(t.push(s.text),e.push({from:s.from,to:Math.min(i.doc.length,s.to+1)})),r=s.number}n=!0}return{text:t.join(i.lineBreak),ranges:e,linewise:n}}(i.state);if(!e&&!r)return!1;dP=r?e:null,"cut"==t.type&&!i.state.readOnly&&i.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let o=ej?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",e),!0):(function Wge(i,t){let e=i.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout(()=>{n.remove(),i.focus()},50)}(i,e),!1)};const uj=Xc.define();function hj(i,t){let e=[];for(let n of i.facet(OW)){let r=n(i,t);r&&e.push(r)}return e?i.update({effects:e,annotations:uj.of(!0)}):null}function fj(i){setTimeout(()=>{let t=i.hasFocus;if(t!=i.inputState.notifiedFocused){let e=hj(i.state,t);e?i.dispatch(e):i.update([])}},10)}qa.focus=i=>{i.inputState.lastFocusTime=Date.now(),!i.scrollDOM.scrollTop&&(i.inputState.lastScrollTop||i.inputState.lastScrollLeft)&&(i.scrollDOM.scrollTop=i.inputState.lastScrollTop,i.scrollDOM.scrollLeft=i.inputState.lastScrollLeft),fj(i)},qa.blur=i=>{i.observer.clearSelectionRange(),fj(i)},qa.compositionstart=qa.compositionupdate=i=>{null==i.inputState.compositionFirstChange&&(i.inputState.compositionFirstChange=!0),i.inputState.composing<0&&(i.inputState.composing=0)},qa.compositionend=i=>{i.inputState.composing=-1,i.inputState.compositionEndedAt=Date.now(),i.inputState.compositionPendingKey=!0,i.inputState.compositionPendingChange=i.observer.pendingRecords().length>0,i.inputState.compositionFirstChange=null,Oe.chrome&&Oe.android?i.observer.flushSoon():i.inputState.compositionPendingChange?Promise.resolve().then(()=>i.observer.flush()):setTimeout(()=>{i.inputState.composing<0&&i.docView.hasComposition&&i.update([])},50)},qa.contextmenu=i=>{i.inputState.lastContextMenu=Date.now()},Ga.beforeinput=(i,t)=>{var e;let n;if(Oe.chrome&&Oe.android&&(n=ZW.find(r=>r.inputType==t.inputType))&&(i.observer.delayAndroidKey(n.key,n.keyCode),"Backspace"==n.key||"Delete"==n.key)){let r=(null===(e=window.visualViewport)||void 0===e?void 0:e.height)||0;setTimeout(()=>{var o;((null===(o=window.visualViewport)||void 0===o?void 0:o.height)||0)>r+10&&i.hasFocus&&(i.contentDOM.blur(),i.focus())},100)}return!1};const mj=new Set,pj=["pre-wrap","normal","pre-line","break-spaces"];class gj{constructor(t){this.lineWrapping=t,this.doc=oi.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,e){let n=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((e-t-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return pj.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let n=0;n<t.length;n++){let r=t[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(e=!0,this.heightSamples[Math.floor(10*r)]=!0)}return e}refresh(t,e,n,r,o,s){let a=pj.indexOf(t)>-1,l=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=e,this.charWidth=n,this.textHeight=r,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(10*u)]=!0}}return l}}class _j{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Vl{constructor(t,e,n,r,o){this.from=t,this.length=e,this.top=n,this.height=r,this._content=o}get type(){return"number"==typeof this._content?To.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof wu?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Vl(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var Ii=function(i){return i[i.ByPos=0]="ByPos",i[i.ByHeight=1]="ByHeight",i[i.ByPosNoHeight=2]="ByPosNoHeight",i}(Ii||(Ii={}));const c1=.001;class no{constructor(t,e,n=2){this.length=t,this.height=e,this.flags=n}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t,e){this.height!=e&&(Math.abs(this.height-e)>c1&&(t.heightChanged=!0),this.height=e)}replace(t,e,n){return no.of(n)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,n,r){let o=this,s=n.doc;for(let a=r.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=r[a],p=o.lineAt(l,Ii.ByPosNoHeight,n.setDoc(e),0,0),g=p.to>=c?p:o.lineAt(c,Ii.ByPosNoHeight,n,0,0);for(f+=g.to-c,c=g.to;a>0&&p.from<=r[a-1].toA;)l=r[a-1].fromA,u=r[a-1].fromB,a--,l<p.from&&(p=o.lineAt(l,Ii.ByPosNoHeight,n,0,0));u+=p.from-l,l=p.from;let b=uP.build(n.setDoc(s),t,u,f);o=o.replace(l,c,b)}return o.updateHeight(n,0)}static empty(){return new Ts(0,0)}static of(t){if(1==t.length)return t[0];let e=0,n=t.length,r=0,o=0;for(;;)if(e==n)if(r>2*o){let a=t[e-1];a.break?t.splice(--e,1,a.left,null,a.right):t.splice(--e,1,a.left,a.right),n+=1+a.break,r-=a.size}else{if(!(o>2*r))break;{let a=t[n];a.break?t.splice(n,1,a.left,null,a.right):t.splice(n,1,a.left,a.right),n+=2+a.break,o-=a.size}}else if(r<o){let a=t[e++];a&&(r+=a.size)}else{let a=t[--n];a&&(o+=a.size)}let s=0;return null==t[e-1]?(s=1,e--):null==t[e]&&(s=1,n++),new Gge(no.of(t.slice(0,e)),s,no.of(t.slice(n)))}}no.prototype.size=1;class bj extends no{constructor(t,e,n){super(t,e),this.deco=n}blockAt(t,e,n,r){return new Vl(r,this.length,n,this.height,this.deco||0)}lineAt(t,e,n,r,o){return this.blockAt(0,n,r,o)}forEachLine(t,e,n,r,o,s){t<=o+this.length&&e>=o&&s(this.blockAt(0,n,r,o))}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more&&this.setHeight(t,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ts extends bj{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,n,r){return new Vl(r,this.length,n,this.height,this.breaks)}replace(t,e,n){let r=n[0];return 1==n.length&&(r instanceof Ts||r instanceof Hr&&4&r.flags)&&Math.abs(this.length-r.length)<10?(r instanceof Hr?r=new Ts(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):no.of(n)}updateHeight(t,e=0,n=!1,r){return r&&r.from<=e&&r.more?this.setHeight(t,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hr extends no{constructor(t){super(t,0)}heightMetrics(t,e){let s,n=t.doc.lineAt(e).number,r=t.doc.lineAt(e+this.length).number,o=r-n+1,a=0;if(t.lineWrapping){let l=Math.min(this.height,t.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:n,lastLine:r,perLine:s,perChar:a}}blockAt(t,e,n,r){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(e,r);if(e.lineWrapping){let c=r+Math.round(Math.max(0,Math.min(1,(t-n)/this.height))*this.length),u=e.doc.lineAt(c),f=a+u.length*l,p=Math.max(n,t-f/2);return new Vl(u.from,u.length,p,f,0)}{let c=Math.max(0,Math.min(s-o,Math.floor((t-n)/a))),{from:u,length:f}=e.doc.line(o+c);return new Vl(u,f,n+a*c,a,0)}}lineAt(t,e,n,r,o){if(e==Ii.ByHeight)return this.blockAt(t,n,r,o);if(e==Ii.ByPosNoHeight){let{from:g,to:b}=n.doc.lineAt(t);return new Vl(g,b-g,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(n,o),c=n.doc.lineAt(t),u=a+c.length*l,f=c.number-s;return new Vl(c.from,c.length,Math.max(r,Math.min(r+a*f+l*(c.from-o-f),r+this.height-u)),u,0)}forEachLine(t,e,n,r,o,s){t=Math.max(t,o),e=Math.min(e,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(n,o);for(let u=t,f=r;u<=e;){let p=n.doc.lineAt(u);if(u==t){let b=p.number-a;f+=l*b+c*(t-o-b)}let g=l+c*p.length;s(new Vl(p.from,p.length,f,g,0)),f+=g,u=p.to+1}}replace(t,e,n){let r=this.length-e;if(r>0){let o=n[n.length-1];o instanceof Hr?n[n.length-1]=new Hr(o.length+r):n.push(null,new Hr(r-1))}if(t>0){let o=n[0];o instanceof Hr?n[0]=new Hr(t+o.length):n.unshift(new Hr(t-1),null)}return no.of(n)}decomposeLeft(t,e){e.push(new Hr(t-1),null)}decomposeRight(t,e){e.push(null,new Hr(this.length-t-1))}updateHeight(t,e=0,n=!1,r){let o=e+this.length;if(r&&r.from<=e+this.length&&r.more){let s=[],a=Math.max(e,r.from),l=-1;for(r.from>e&&s.push(new Hr(r.from-e-1).updateHeight(t,e));a<=o&&r.more;){let u=t.doc.lineAt(a).length;s.length&&s.push(null);let f=r.heights[r.index++];-1==l?l=f:Math.abs(f-l)>=c1&&(l=-2);let p=new Ts(u,f);p.outdated=!1,s.push(p),a+=u+1}a<=o&&s.push(null,new Hr(o-a).updateHeight(t,a));let c=no.of(s);return(l<0||Math.abs(c.height-this.height)>=c1||Math.abs(l-this.heightMetrics(t,e).perLine)>=c1)&&(t.heightChanged=!0),c}return(n||this.outdated)&&(this.setHeight(t,t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Gge extends no{constructor(t,e,n){super(t.length+e+n.length,t.height+n.height,e|(t.outdated||n.outdated?2:0)),this.left=t,this.right=n,this.size=t.size+n.size}get break(){return 1&this.flags}blockAt(t,e,n,r){let o=n+this.left.height;return t<o?this.left.blockAt(t,e,n,r):this.right.blockAt(t,e,o,r+this.left.length+this.break)}lineAt(t,e,n,r,o){let s=r+this.left.height,a=o+this.left.length+this.break,l=e==Ii.ByHeight?t<s:t<a,c=l?this.left.lineAt(t,e,n,r,o):this.right.lineAt(t,e,n,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=e==Ii.ByPosNoHeight?Ii.ByPosNoHeight:Ii.ByPos;return l?c.join(this.right.lineAt(a,u,n,s,a)):this.left.lineAt(a,u,n,r,o).join(c)}forEachLine(t,e,n,r,o,s){let a=r+this.left.height,l=o+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,e,n,r,o,s),e>=l&&this.right.forEachLine(t,e,n,a,l,s);else{let c=this.lineAt(l,Ii.ByPos,n,r,o);t<c.from&&this.left.forEachLine(t,c.from-1,n,r,o,s),c.to>=t&&c.from<=e&&s(c),e>c.to&&this.right.forEachLine(c.to+1,e,n,a,l,s)}}replace(t,e,n){let r=this.left.length+this.break;if(e<r)return this.balanced(this.left.replace(t,e,n),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-r,e-r,n));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let a of n)o.push(a);if(t>0&&vj(o,s-1),e<this.length){let a=o.length;this.decomposeRight(e,o),vj(o,a)}return no.of(o)}decomposeLeft(t,e){let n=this.left.length;if(t<=n)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(n++,t>=n&&e.push(null)),t>n&&this.right.decomposeLeft(t-n,e)}decomposeRight(t,e){let n=this.left.length,r=n+this.break;if(t>=r)return this.right.decomposeRight(t-r,e);t<n&&this.left.decomposeRight(t,e),this.break&&t<r&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?no.of(this.break?[t,null,e]:[t,e]):(this.left=t,this.right=e,this.height=t.height+e.height,this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,n=!1,r){let{left:o,right:s}=this,a=e+o.length+this.break,l=null;return r&&r.from<=e+o.length&&r.more?l=o=o.updateHeight(t,e,n,r):o.updateHeight(t,e,n),r&&r.from<=a+s.length&&r.more?l=s=s.updateHeight(t,a,n,r):s.updateHeight(t,a,n),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function vj(i,t){let e,n;null==i[t]&&(e=i[t-1])instanceof Hr&&(n=i[t+1])instanceof Hr&&i.splice(t-1,3,new Hr(e.length+1+n.length))}class uP{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let n=Math.min(e,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ts?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ts(n-this.pos,-1)),this.writtenTo=n,e>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,n){if(t<e||n.heightRelevant){let r=n.widget?n.widget.estimatedHeight:0,o=n.widget?n.widget.lineBreaks:0;r<0&&(r=this.oracle.lineHeight);let s=e-t;n.block?this.addBlock(new bj(s,r,n)):(s||o||r>=5)&&this.addLineDeco(r,o,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ts(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let n=new Hr(e-t);return this.oracle.doc.lineAt(t).to==e&&(n.flags|=4),n}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Ts)return t;let e=new Ts(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,t),r.breaks+=e,this.writtenTo=this.pos=this.pos+n}finish(t){let e=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Ts||this.isCovered?(this.writtenTo<this.pos||null==e)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ts(0,-1));let n=t;for(let r of this.nodes)r instanceof Ts&&r.updateHeight(this.oracle,n),n+=r?r.length:1;return this.nodes}static build(t,e,n,r){let o=new uP(n,t);return Yi.spans(e,n,r,o,0),o.finish(n)}}class Jge{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,n,r){(t<e||n&&n.heightRelevant||r&&r.heightRelevant)&&ZR(t,e,this.changes,5)}}function Yge(i,t){let e=i.getBoundingClientRect(),n=i.ownerDocument,r=n.defaultView||window,o=Math.max(0,e.left),s=Math.min(r.innerWidth,e.right),a=Math.max(0,e.top),l=Math.min(r.innerHeight,e.bottom);for(let c=i.parentNode;c&&c!=n.body;)if(1==c.nodeType){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&"visible"!=f.overflow){let p=u.getBoundingClientRect();o=Math.max(o,p.left),s=Math.min(s,p.right),a=Math.max(a,p.top),l=c==i.parentNode?p.bottom:Math.min(l,p.bottom)}c="absolute"==f.position||"fixed"==f.position?u.offsetParent:u.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:o-e.left,right:Math.max(o,s)-e.left,top:a-(e.top+t),bottom:Math.max(a,l)-(e.top+t)}}function Xge(i,t){let e=i.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class hP{constructor(t,e,n){this.from=t,this.to=e,this.size=n}static same(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=e[n];if(r.from!=o.from||r.to!=o.to||r.size!=o.size)return!1}return!0}draw(t,e){return Ne.replace({widget:new Zge(this.size*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class Zge extends id{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class yj{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=wj,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Si.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(r1).some(n=>"function"!=typeof n&&"cm-lineWrapping"==n.class);this.heightOracle=new gj(e),this.stateDeco=t.facet(uy).filter(n=>"function"!=typeof n),this.heightMap=no.empty().applyChanges(this.stateDeco,oi.empty,this.heightOracle.setDoc(t.doc),[new As(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ne.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let n=0;n<=1;n++){let r=n?e.head:e.anchor;if(!t.some(({from:o,to:s})=>r>=o&&r<=s)){let{from:o,to:s}=this.lineBlockAt(r);t.push(new d1(o,s))}}this.viewports=t.sort((n,r)=>n.from-r.from),this.scaler=this.heightMap.height<=7e6?wj:new t_e(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(1==this.scaler.scale?t:fy(t,this.scaler))})}update(t,e=null){this.state=t.state;let n=this.stateDeco;this.stateDeco=this.state.facet(uy).filter(u=>"function"!=typeof u);let o=As.extendWithRanges(t.changedRanges,function Kge(i,t,e){let n=new Jge;return Yi.compare(i,t,e,n,0),n.changes}(n,this.stateDeco,t?t.changes:or.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<l.from||e.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,e));let c=!t.changes.empty||2&t.flags||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(PW)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,n=window.getComputedStyle(e),r=this.heightOracle,o=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?Si.RTL:Si.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=e.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:H,scaleY:W}=eW(e,a);(this.scaleX!=H||this.scaleY!=W)&&(this.scaleX=H,this.scaleY=W,c|=8,s=l=!0)}let f=(parseInt(n.paddingTop)||0)*this.scaleY,p=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=p)&&(this.paddingTop=f,this.paddingBottom=p,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(r.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let g=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=rW(t.scrollDOM);let b=(this.printing?Xge:Yge)(e,this.paddingTop),v=b.top-this.pixelViewport.top,D=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let S=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(S!=this.inView&&(this.inView=S,S&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let A=a.width;if((this.contentDOMWidth!=A||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),l){let H=t.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(H)&&(s=!0),s||r.lineWrapping&&Math.abs(A-this.contentDOMWidth)>r.charWidth){let{lineHeight:W,charWidth:ie,textHeight:se}=t.docView.measureTextSize();s=W>0&&r.refresh(o,W,ie,se,A/ie,H),s&&(t.docView.minWidth=0,c|=8)}v>0&&D>0?u=Math.max(v,D):v<0&&D<0&&(u=Math.min(v,D)),r.heightChanged=!1;for(let W of this.viewports){let ie=W.from==this.viewport.from?H:t.docView.measureVisibleLineHeights(W);this.heightMap=(s?no.empty().applyChanges(this.stateDeco,oi.empty,this.heightOracle,[new As(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(r,0,s,new _j(W.from,ie))}r.heightChanged&&(c|=2)}let L=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return L&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(2&c||L)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let n=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),r=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new d1(r.lineAt(s-1e3*n,Ii.ByHeight,o,0,0).from,r.lineAt(a+1e3*(1-n),Ii.ByHeight,o,0,0).to);if(e){let{head:c}=e.range;if(c<l.from||c>l.to){let p,u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=r.lineAt(c,Ii.ByPos,o,0,0);p="center"==e.y?(f.top+f.bottom)/2-u/2:"start"==e.y||"nearest"==e.y&&c<l.from?f.top:f.bottom-u,l=new d1(r.lineAt(p-500,Ii.ByHeight,o,0,0).from,r.lineAt(p+u+500,Ii.ByHeight,o,0,0).to)}}return l}mapViewport(t,e){let n=e.mapPos(t.from,-1),r=e.mapPos(t.to,1);return new d1(this.heightMap.lineAt(n,Ii.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(r,Ii.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},n=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(t,Ii.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(e,Ii.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(0==t||r<=s-Math.max(10,Math.min(-n,250)))&&(e==this.state.doc.length||o>=a+Math.max(10,Math.min(n,250)))&&r>s-2e3&&o<a+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let n=[];for(let r of t)e.touchesRange(r.from,r.to)||n.push(new hP(e.mapPos(r.from),e.mapPos(r.to),r.size));return n}ensureLineGaps(t,e){let n=this.heightOracle.lineWrapping,r=n?1e4:2e3,o=r>>1,s=r<<1;if(this.defaultTextDirection!=Si.LTR&&!n)return[];let a=[],l=(c,u,f,p)=>{if(u-c<o)return;let g=this.state.selection.main,b=[g.from];g.empty||b.push(g.to);for(let D of b)if(D>c&&D<u)return l(c,D-10,f,p),void l(D+10,u,f,p);let v=function e_e(i,t){for(let e of i)if(t(e))return e}(t,D=>D.from>=f.from&&D.to<=f.to&&Math.abs(D.from-c)<o&&Math.abs(D.to-u)<o&&!b.some(S=>D.from<S&&D.to>S));if(!v){if(u<f.to&&e&&n&&e.visibleRanges.some(D=>D.from<=u&&D.to>=u)){let D=e.moveToLineBoundary(ee.cursor(u),!1,!0).head;D>c&&(u=D)}v=new hP(c,u,this.gapSize(f,c,u,p))}a.push(v)};for(let c of this.viewportLines){if(c.length<s)continue;let u=Qge(c.from,c.to,this.stateDeco);if(u.total<s)continue;let p,g,f=this.scrollTarget?this.scrollTarget.range.head:null;if(n){let v,D,b=r/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=f){let S=h1(u,f),A=((this.visibleBottom-this.visibleTop)/2+b)/c.height;v=S-A,D=S+A}else v=(this.visibleTop-c.top-b)/c.height,D=(this.visibleBottom-c.top+b)/c.height;p=u1(u,v),g=u1(u,D)}else{let D,S,b=u.total*this.heightOracle.charWidth,v=r*this.heightOracle.charWidth;if(null!=f){let A=h1(u,f),L=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/b;D=A-L,S=A+L}else D=(this.pixelViewport.left-v)/b,S=(this.pixelViewport.right+v)/b;p=u1(u,D),g=u1(u,S)}p>c.from&&l(c.from,p,c,u),g<c.to&&l(g,c.to,c,u)}return a}gapSize(t,e,n,r){let o=h1(r,n)-h1(r,e);return this.heightOracle.lineWrapping?t.height*o:r.total*this.heightOracle.charWidth*o}updateLineGaps(t){hP.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=Ne.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];Yi.spans(t,this.viewport.from,this.viewport.to,{span(r,o){e.push({from:r,to:o})},point(){}},20);let n=e.length!=this.visibleRanges.length||this.visibleRanges.some((r,o)=>r.from!=e[o].from||r.to!=e[o].to);return this.visibleRanges=e,n?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||fy(this.heightMap.lineAt(t,Ii.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return fy(this.heightMap.lineAt(this.scaler.fromDOM(t),Ii.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return fy(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class d1{constructor(t,e){this.from=t,this.to=e}}function Qge(i,t,e){let n=[],r=i,o=0;return Yi.spans(e,i,t,{span(){},point(s,a){s>r&&(n.push({from:r,to:s}),o+=s-r),r=a}},20),r<t&&(n.push({from:r,to:t}),o+=t-r),{total:o,ranges:n}}function u1({total:i,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let n=Math.floor(i*e);for(let r=0;;r++){let{from:o,to:s}=t[r],a=s-o;if(n<=a)return o+n;n-=a}}function h1(i,t){let e=0;for(let{from:n,to:r}of i.ranges){if(t<=r){e+=t-n;break}e+=r-n}return e/i.total}const wj={toDOM:i=>i,fromDOM:i=>i,scale:1};class t_e{constructor(t,e,n){let r=0,o=0,s=0;this.viewports=n.map(({from:a,to:l})=>{let c=e.lineAt(a,Ii.ByPos,t,0,0).top,u=e.lineAt(l,Ii.ByPos,t,0,0).bottom;return r+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(e.height-r);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(t){for(let e=0,n=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.top)return r+(t-n)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);n=o.bottom,r=o.domBottom}}fromDOM(t){for(let e=0,n=0,r=0;;e++){let o=e<this.viewports.length?this.viewports[e]:null;if(!o||t<o.domTop)return n+(t-r)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);n=o.bottom,r=o.domBottom}}}function fy(i,t){if(1==t.scale)return i;let e=t.toDOM(i.top),n=t.toDOM(i.bottom);return new Vl(i.from,i.length,e,n-e,Array.isArray(i._content)?i._content.map(r=>fy(r,t)):i._content)}const f1=Ee.define({combine:i=>i.join(" ")}),fP=Ee.define({combine:i=>i.indexOf(!0)>-1}),mP=_u.newName(),xj=_u.newName(),Cj=_u.newName(),Dj={"&light":"."+xj,"&dark":"."+Cj};function pP(i,t,e){return new _u(t,{finish:n=>/&/.test(n)?n.replace(/&\w*/,r=>{if("&"==r)return i;if(!e||!e[r])throw new RangeError(`Unsupported selector: ${r}`);return e[r]}):i+" "+n})}const i_e=pP("."+mP,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Dj);class n_e{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(Ss.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+="\uffff"}readRange(t,e){if(!t)return this;let n=t.parentNode;for(let r=t;;){this.findPointBefore(n,r);let o=this.text.length;this.readNode(r);let s=r.nextSibling;if(s==e)break;let a=Ui.get(r),l=Ui.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:kj(r))||kj(s)&&("BR"!=r.nodeName||r.cmIgnore)&&this.text.length>o)&&this.lineBreak(),r=s}return this.findPointBefore(n,e),this}readTextNode(t){let e=t.nodeValue;for(let n of this.points)n.node==t&&(n.pos=this.text.length+Math.min(n.offset,e.length));for(let n=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let a,o=-1,s=1;if(this.lineSeparator?(o=e.indexOf(this.lineSeparator,n),s=this.lineSeparator.length):(a=r.exec(e))&&(o=a.index,s=a[0].length),this.append(e.slice(n,o<0?e.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==t&&l.pos>this.text.length&&(l.pos-=s-1);n=o+s}}readNode(t){if(t.cmIgnore)return;let e=Ui.get(t),n=e&&e.overrideDOMText;if(null!=n){this.findPointInside(t,n.length);for(let r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==t.nodeType?this.readTextNode(t):"BR"==t.nodeName?t.nextSibling&&this.lineBreak():1==t.nodeType&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let n of this.points)n.node==t&&t.childNodes[n.offset]==e&&(n.pos=this.text.length)}findPointInside(t,e){for(let n of this.points)(3==t.nodeType?n.node==t:t.contains(n.node))&&(n.pos=this.text.length+(r_e(t,n.node,n.offset)?e:0))}}function r_e(i,t,e){for(;;){if(!t||e<Qc(t))return!1;if(t==i)return!0;e=sy(t)+1,t=t.parentNode}}function kj(i){return 1==i.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(i.nodeName)}class Ej{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class o_e{constructor(t,e,n,r){this.typeOver=r,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,n,0))){let a=o||s?[]:function l_e(i){let t=[];if(i.root.activeElement!=i.contentDOM)return t;let{anchorNode:e,anchorOffset:n,focusNode:r,focusOffset:o}=i.observer.selectionRange;return e&&(t.push(new Ej(e,n)),(r!=e||o!=n)&&t.push(new Ej(r,o))),t}(t),l=new n_e(a,t.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=function c_e(i,t){if(0==i.length)return null;let e=i[0].pos,n=2==i.length?i[1].pos:e;return e>-1&&n>-1?ee.single(e+t,n+t):null}(a,this.bounds.from)}else{let a=t.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!WR(t.contentDOM,a.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!WR(t.contentDOM,a.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=t.viewport;if(Oe.ios&&t.state.selection.main.empty&&l!=c&&(u.from>0||u.to<t.state.doc.length)){let f=u.from-Math.min(l,c),p=u.to-Math.max(l,c);(0==f||1==f)&&(0==p||-1==p)&&(l=0,c=t.state.doc.length)}this.newSel=ee.single(c,l)}}}function Sj(i,t){let e,{newSel:n}=t,r=i.state.selection.main,o=i.inputState.lastKeyTime>Date.now()-100?i.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:a}=t.bounds,l=r.from,c=null;(8===o||Oe.android&&t.text.length<a-s)&&(l=r.to,c="end");let u=function a_e(i,t,e,n){let r=Math.min(i.length,t.length),o=0;for(;o<r&&i.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==r&&i.length==t.length)return null;let s=i.length,a=t.length;for(;s>0&&a>0&&i.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;return"end"==n&&(e-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&i.length<t.length?(o-=e<=o&&e>=s?o-e:0,a=o+(a-s),s=o):a<o&&(o-=e<=o&&e>=a?o-e:0,s=o+(s-a),a=o),{from:o,toA:s,toB:a}}(i.state.doc.sliceString(s,a,"\uffff"),t.text,l-s,c);u&&(Oe.chrome&&13==o&&u.toB==u.from+2&&"\uffff\uffff"==t.text.slice(u.from,u.toB)&&u.toB--,e={from:s+u.from,to:s+u.toA,insert:oi.of(t.text.slice(u.from,u.toB).split("\uffff"))})}else n&&(!i.hasFocus&&i.state.facet(n1)||n.main.eq(r))&&(n=null);if(!e&&!n)return!1;if(!e&&t.typeOver&&!r.empty&&n&&n.main.empty?e={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,r.to)}:e&&e.from>=r.from&&e.to<=r.to&&(e.from!=r.from||e.to!=r.to)&&r.to-r.from-(e.to-e.from)<=4?e={from:r.from,to:r.to,insert:i.state.doc.slice(r.from,e.from).append(e.insert).append(i.state.doc.slice(e.to,r.to))}:(Oe.mac||Oe.android)&&e&&e.from==e.to&&e.from==r.head-1&&/^\. ?$/.test(e.insert.toString())&&"off"==i.contentDOM.getAttribute("autocorrect")?(n&&2==e.insert.length&&(n=ee.single(n.main.anchor-1,n.main.head-1)),e={from:r.from,to:r.to,insert:oi.of([" "])}):Oe.chrome&&e&&e.from==e.to&&e.from==r.head&&"\n "==e.insert.toString()&&i.lineWrapping&&(n&&(n=ee.single(n.main.anchor-1,n.main.head-1)),e={from:r.from,to:r.to,insert:oi.of([" "])}),e){if(Oe.ios&&i.inputState.flushIOSKey()||Oe.android&&(e.from==r.from&&e.to==r.to&&1==e.insert.length&&2==e.insert.lines&&sg(i.contentDOM,"Enter",13)||(e.from==r.from-1&&e.to==r.to&&0==e.insert.length||8==o&&e.insert.length<e.to-e.from&&e.to>r.head)&&sg(i.contentDOM,"Backspace",8)||e.from==r.from&&e.to==r.to+1&&0==e.insert.length&&sg(i.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();i.inputState.composing>=0&&i.inputState.composing++;let a,l=()=>a||(a=function s_e(i,t,e){let n,r=i.state,o=r.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!e||e.main.empty&&e.main.from==t.from+t.insert.length)&&i.inputState.composing<0){let a=o.from<t.from?r.sliceDoc(o.from,t.from):"",l=o.to>t.to?r.sliceDoc(t.to,o.to):"";n=r.replaceSelection(i.state.toText(a+t.insert.sliceString(0,void 0,i.state.lineBreak)+l))}else{let a=r.changes(t),l=e&&e.main.to<=a.newLength?e.main:void 0;if(r.selection.ranges.length>1&&i.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let u,c=i.state.sliceDoc(t.from,t.to),f=e&&WW(i,e.main.head);u=f?{from:f.from,to:f.to-(t.insert.length-(t.to-t.from))}:i.state.doc.lineAt(o.head);let p=o.to-t.to,g=o.to-o.from;n=r.changeByRange(b=>{if(b.from==o.from&&b.to==o.to)return{changes:a,range:l||b.map(a)};let v=b.to-p,D=v-c.length;if(b.to-b.from!=g||i.state.sliceDoc(D,v)!=c||b.to>=u.from&&b.from<=u.to)return{range:b};let S=r.changes({from:D,to:v,insert:t.insert}),A=b.to-o.to;return{changes:S,range:l?ee.range(Math.max(0,l.anchor+A),Math.max(0,l.head+A)):b.map(S)}})}else n={changes:a,selection:l&&r.selection.replaceRange(l)}}let s="input.type";return(i.composing||i.inputState.compositionPendingChange&&i.inputState.compositionEndedAt>Date.now()-50)&&(i.inputState.compositionPendingChange=!1,s+=".compose",i.inputState.compositionFirstChange&&(s+=".start",i.inputState.compositionFirstChange=!1)),r.update(n,{userEvent:s,scrollIntoView:!0})}(i,e,n));return i.state.facet(IW).some(c=>c(i,e.from,e.to,s,l))||i.dispatch(l()),!0}if(n&&!n.main.eq(r)){let s=!1,a="select";return i.inputState.lastSelectionTime>Date.now()-50&&("select"==i.inputState.lastSelectionOrigin&&(s=!0),a=i.inputState.lastSelectionOrigin),i.dispatch({selection:n,scrollIntoView:s,userEvent:a}),!0}return!1}const d_e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},gP=Oe.ie&&Oe.ie_version<=11;class u_e{constructor(t){this.view=t,this.active=!1,this.selectionRange=new Zpe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let n of e)this.queue.push(n);(Oe.ie&&Oe.ie_version<=11||Oe.ios&&t.composing)&&e.some(n=>"childList"==n.type&&n.removedNodes.length||"characterData"==n.type&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),gP&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,n)=>e!=t[n]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,r=this.selectionRange;if(n.state.facet(n1)?n.root.activeElement!=this.dom:!XD(n.dom,r))return;let o=r.anchorNode&&n.docView.nearest(r.anchorNode);o&&o.ignoreEvent(t)?e||(this.selectionChanged=!1):(Oe.ie&&Oe.ie_version<=11||Oe.android&&Oe.chrome)&&!n.state.selection.main.empty&&r.focusNode&&oy(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Oe.safari&&11==t.root.nodeType&&function Kpe(i){let t=i.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function h_e(i){let t=null;function e(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}if(i.contentDOM.addEventListener("beforeinput",e,!0),i.dom.ownerDocument.execCommand("indent"),i.contentDOM.removeEventListener("beforeinput",e,!0),!t)return null;let n=t.startContainer,r=t.startOffset,o=t.endContainer,s=t.endOffset,a=i.docView.domAtPos(i.state.selection.main.anchor);return oy(a.node,a.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}(this.view)||YD(t.root);if(!e||this.selectionRange.eq(e))return!1;let n=XD(this.dom,e);return n&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function ege(i,t){let e=t.focusNode,n=t.focusOffset;if(!e||t.anchorNode!=e||t.anchorOffset!=n)return!1;for(n=Math.min(n,Qc(e));;)if(n){if(1!=e.nodeType)return!1;let r=e.childNodes[n-1];"false"==r.contentEditable?n--:(e=r,n=Qc(e))}else{if(e==i)return!0;n=sy(e),e=e.parentNode}}(this.dom,e)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(e),n&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let n=this.dom;n;)if(1==n.nodeType)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==n?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=e)n.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,d_e),gP&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),gP&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var n;this.delayedAndroidKey||(this.flushingAndroidKey=this.view.win.requestAnimationFrame(()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&sg(this.dom,o.key,o.keyCode))})),(!this.delayedAndroidKey||"Enter"==t)&&(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!(null===(n=this.delayedAndroidKey)||void 0===n||!n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,n=-1,r=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(r=!0),-1==e?({from:e,to:n}=s):(e=Math.min(s.from,e),n=Math.max(s.to,n)))}return{from:e,to:n,typeOver:r}}readChange(){let{from:t,to:e,typeOver:n}=this.processRecords(),r=this.selectionChanged&&XD(this.dom,this.selectionRange);if(t<0&&!r)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new o_e(this.view,t,e,n);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let n=this.view.state,r=Sj(this.view,e);return this.view.state==n&&this.view.update([]),r}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty("attributes"==t.type),"attributes"==t.type&&(e.flags|=4),"childList"==t.type){let n=Mj(e,t.previousSibling||t.target.previousSibling,-1),r=Mj(e,t.nextSibling||t.target.nextSibling,1);return{from:n?e.posAfter(n):e.posAtStart,to:r?e.posBefore(r):e.posAtEnd,typeOver:!1}}return"characterData"==t.type?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,e,n;this.stop(),null===(t=this.intersection)||void 0===t||t.disconnect(),null===(e=this.gapIntersection)||void 0===e||e.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Mj(i,t,e){for(;t;){let n=Ui.get(t);if(n&&n.parent==i)return n;let r=t.parentNode;t=r!=i.dom?r:e>0?t.nextSibling:t.previousSibling}return null}let ft=(()=>{class i{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(o=>n(o,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function Qpe(i){for(;i;){if(i&&(9==i.nodeType||11==i.nodeType&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}(e.parent)||document,this.viewState=new yj(e.state||Ss.create(e)),e.scrollTo&&e.scrollTo.is(t1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(dy).map(r=>new rP(r));for(let r of this.plugins)r.update(this);this.observer=new u_e(this),this.inputState=new Age(this),this.inputState.ensureHandlers(this.plugins),this.docView=new zW(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=1==e.length&&e[0]instanceof Ll?e:1==e.length&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let o,n=!1,r=!1,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed)return void(this.viewState.state=s);let a=this.hasFocus,l=0,c=null;e.some(g=>g.annotation(uj))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,c=hj(s,a),c||(l=1));let u=this.observer.delayedAndroidKey,f=null;if(u?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(Ss.phrases)!=this.state.facet(Ss.phrases))return this.setState(s);o=o1.create(this,s,e),o.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:b}=g.state.selection;p=new lg(b.empty?b:ee.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of g.effects)b.is(t1)&&(p=b.value.clip(this.state))}this.viewState.update(o,p),this.bidiCache=m1.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(hy)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(f1)!=o.state.facet(f1)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!o.empty)for(let g of this.state.facet(nP))try{g(o)}catch(b){ca(this.state,b,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!Sj(this,f)&&u.force&&sg(this.contentDOM,u.key,u.keyCode)})}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new yj(e),this.plugins=e.facet(dy).map(r=>new rP(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new zW(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(dy),r=e.state.facet(dy);if(n!=r){let o=[];for(let s of r){let a=n.indexOf(s);if(a<0)o.push(new rP(s));else{let l=this.plugins[a];l.mustUpdate=e,o.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,o=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(rW(r))s=-1,a=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(o);s=b.from,a=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];4&c||([this.measureRequests,u]=[u,this.measureRequests]);let f=u.map(b=>{try{return b.read(this)}catch(v){return ca(this.state,v),Aj}}),p=o1.create(this,this.state,[]),g=!1;p.flags|=c,n?n.flags|=c:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p));for(let b=0;b<u.length;b++)if(f[b]!=Aj)try{let v=u[b];v.write&&v.write(f[b],this)}catch(v){ca(this.state,v)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}{let v=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(v>1||v<-1){o+=v,r.scrollTop=o/this.scaleY,a=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(nP))l(n)}get themeClasses(){return mP+" "+(this.state.facet(fP)?Cj:xj)+" "+this.state.facet(f1)}updateAttrs(){let e=Tj(this,FW,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(n1)?"true":"false",class:"cm-content",style:`${Oe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Tj(this,r1,n);let r=this.observer.ignore(()=>{let o=XR(this.contentDOM,this.contentAttrs,n),s=XR(this.dom,this.editorAttrs,e);return o||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let o of r.effects)o.is(i.announce)&&(n&&(this.announceDOM.textContent=""),n=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=o.value)}mountStyles(){this.styleModules=this.state.facet(hy);let e=this.state.facet(i.cspNonce);_u.mount(this.root,this.styleModules.concat(i_e).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(void 0===n||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return cP(this,e,YW(this,e,n,r))}moveByGroup(e,n){return cP(this,e,YW(this,e,n,r=>function Sge(i,t,e){let n=i.state.charCategorizer(t),r=n(e);return o=>{let s=n(o);return r==Ji.Space&&(r=s),r==s}}(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),o=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return ee.cursor(s.side(n,o)+e.from,s.forward(!n,o)?1:-1)}moveToLineBoundary(e,n,r=!0){return function Ege(i,t,e,n){let r=lP(i,t.head),o=n&&r.type==To.Text&&(i.lineWrapping||r.widgetLineBreaks)?i.coordsAtPos(t.assoc<0&&t.head>r.from?t.head-1:t.head):null;if(o){let s=i.dom.getBoundingClientRect(),a=i.textDirectionAt(r.from),l=i.posAtCoords({x:e==(a==Si.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(null!=l)return ee.cursor(l,e?-1:1)}return ee.cursor(e?r.to:r.from,e?-1:1)}(this,e,n,r)}moveVertically(e,n,r){return cP(this,e,function Mge(i,t,e,n){let r=t.head,o=e?1:-1;if(r==(e?i.state.doc.length:0))return ee.cursor(r,t.assoc);let a,s=t.goalColumn,l=i.contentDOM.getBoundingClientRect(),c=i.coordsAtPos(r,t.assoc||-1),u=i.documentTop;if(c)null==s&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let g=i.viewState.lineBlockAt(r);null==s&&(s=Math.min(l.right-l.left,i.defaultCharacterWidth*(r-g.from))),a=(o<0?g.top:g.bottom)+u}let f=l.left+s,p=n??i.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let b=a+(p+g)*o,v=KW(i,{x:f,y:b},!1,o);if(b<l.top||b>l.bottom||(o<0?v<r:v>r)){let D=i.docView.coordsForChar(v);return ee.cursor(v,!D||b<D.top?-1:1,void 0,s)}}}(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),KW(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let o=this.state.doc.lineAt(e),s=this.bidiSpans(o);return ZD(r,s[xu.find(s,e-o.from,-1,n)].dir==Si.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(RW)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>f_e)return DW(e.length);let r,n=this.textDirectionAt(e.from);for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||xW(s.isolates,r=BW(this,e))))return s.order;r||(r=BW(this,e));let o=function CW(i,t,e){if(!i)return[new xu(0,0,t==QR?1:0)];if(t==pf&&!e.length&&!lge.test(i))return DW(i.length);if(e.length)for(;i.length>Mi.length;)Mi[Mi.length]=256;let n=[],r=t==pf?0:1;return iP(i,r,r,e,0,i.length,n),n}(e.text,n,r);return this.bidiCache.push(new m1(e.from,e.to,n,r,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Oe.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{tW(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return t1.of(new lg("number"==typeof e?ee.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return t1.of(new lg(ee.cursor(r.from),"start","start",r.top-e,n,!0))}static domEventHandlers(e){return rn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return rn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=_u.newName(),o=[f1.of(r),hy.of(pP(`.${r}`,e))];return n&&n.dark&&o.push(fP.of(!0)),o}static baseTheme(e){return gu.lowest(hy.of(pP("."+mP,e,Dj)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),o=r&&Ui.get(r)||Ui.get(e);return(null===(n=o?.rootView)||void 0===n?void 0:n.view)||null}}return i.styleModule=hy,i.inputHandler=IW,i.focusChangeEffect=OW,i.perLineTextDirection=RW,i.exceptionSink=TW,i.updateListener=nP,i.editable=n1,i.mouseSelectionStyle=AW,i.dragMovesSelection=MW,i.clickAddsSelectionRange=SW,i.decorations=uy,i.outerDecorations=NW,i.atomicRanges=oP,i.bidiIsolatedRanges=LW,i.scrollMargins=VW,i.darkTheme=fP,i.cspNonce=Ee.define({combine:t=>t.length?t[0]:""}),i.contentAttributes=r1,i.editorAttributes=FW,i.lineWrapping=i.contentAttributes.of({class:"cm-lineWrapping"}),i.announce=Bt.define(),i})();const f_e=4096,Aj={};class m1{constructor(t,e,n,r,o,s){this.from=t,this.to=e,this.dir=n,this.isolates=r,this.fresh=o,this.order=s}static update(t,e){if(e.empty&&!t.some(o=>o.fresh))return t;let n=[],r=t.length?t[t.length-1].dir:Si.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==r&&!e.touchesRange(s.from,s.to)&&n.push(new m1(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return n}}function Tj(i,t,e){for(let n=i.state.facet(t),r=n.length-1;r>=0;r--){let o=n[r],s="function"==typeof o?o(i):o;s&&JR(s,e)}return e}const m_e=Oe.mac?"mac":Oe.windows?"win":Oe.linux?"linux":"key";function p1(i,t,e){return t.altKey&&(i="Alt-"+i),t.ctrlKey&&(i="Ctrl-"+i),t.metaKey&&(i="Meta-"+i),!1!==e&&t.shiftKey&&(i="Shift-"+i),i}const g1=Ee.define({enables:gu.default(ft.domEventHandlers({keydown:(i,t)=>Rj(Oj(t.state),i,t,"editor")}))}),Ij=new WeakMap;function Oj(i){let t=i.facet(g1),e=Ij.get(t);return e||Ij.set(t,e=function y_e(i,t=m_e){let e=Object.create(null),n=Object.create(null),r=(s,a)=>{let l=n[s];if(null==l)n[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var f,p;let g=e[s]||(e[s]=Object.create(null)),b=a.split(/ (?!$)/).map(S=>function p_e(i,t){const e=i.split(/-(?!$)/);let r,o,s,a,n=e[e.length-1];"Space"==n&&(n=" ");for(let l=0;l<e.length-1;++l){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);"mac"==t?a=!0:o=!0}}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}(S,t));for(let S=1;S<b.length;S++){let A=b.slice(0,S).join(" ");r(A,!0),g[A]||(g[A]={preventDefault:!0,stopPropagation:!1,run:[L=>{let H=Cu={view:L,prefix:A,scope:s};return setTimeout(()=>{Cu==H&&(Cu=null)},v_e),!0}]})}let v=b.join(" ");r(v,!1);let D=g[v]||(g[v]={preventDefault:!1,stopPropagation:!1,run:(null===(p=null===(f=g._any)||void 0===f?void 0:f.run)||void 0===p?void 0:p.slice())||[]});l&&D.run.push(l),c&&(D.preventDefault=!0),u&&(D.stopPropagation=!0)};for(let s of i){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=e[c]||(e[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let l=s[t]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return e}(t.reduce((n,r)=>n.concat(r),[]))),e}let Cu=null;const v_e=4e3;function Rj(i,t,e,n){let r=function qpe(i){var e=!($pe&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||Gpe&&i.shiftKey&&i.key&&1==i.key.length||"Unidentified"==i.key)&&i.key||(i.shiftKey?ry:bu)[i.keyCode]||i.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(t),s=la(Br(r,0))==r.length&&" "!=r,a="",l=!1,c=!1,u=!1;Cu&&Cu.view==e&&Cu.scope==n&&(a=Cu.prefix+" ",QW.indexOf(t.keyCode)<0&&(c=!0,Cu=null));let b,v,f=new Set,p=D=>{if(D){for(let S of D.run)if(!f.has(S)&&(f.add(S),S(e,t)))return D.stopPropagation&&(u=!0),!0;D.preventDefault&&(D.stopPropagation&&(u=!0),c=!0)}return!1},g=i[n];return g&&(p(g[a+p1(r,t,!s)])?l=!0:s&&(t.altKey||t.metaKey||t.ctrlKey)&&!(Oe.windows&&t.ctrlKey&&t.altKey)&&(b=bu[t.keyCode])&&b!=r?(p(g[a+p1(b,t,!0)])||t.shiftKey&&(v=ry[t.keyCode])!=r&&v!=b&&p(g[a+p1(v,t,!1)]))&&(l=!0):s&&t.shiftKey&&p(g[a+p1(r,t,!0)])&&(l=!0),!l&&p(g._any)&&(l=!0)),c&&(l=!0),l&&u&&t.stopPropagation(),l}class py{constructor(t,e,n,r,o){this.className=t,this.left=e,this.top=n,this.width=r,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",null!=this.width&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,n){if(n.empty){let r=t.coordsAtPos(n.head,n.assoc||1);if(!r)return[];let o=Pj(t);return[new py(e,r.left-o.left,r.top-o.top,null,r.bottom-r.top)]}return function w_e(i,t,e){if(e.to<=i.viewport.from||e.from>=i.viewport.to)return[];let n=Math.max(e.from,i.viewport.from),r=Math.min(e.to,i.viewport.to),o=i.textDirection==Si.LTR,s=i.contentDOM,a=s.getBoundingClientRect(),l=Pj(i),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),p=a.right-(u?parseInt(u.paddingRight):0),g=lP(i,n),b=lP(i,r),v=g.type==To.Text?g:null,D=b.type==To.Text?b:null;if(v&&(i.lineWrapping||g.widgetLineBreaks)&&(v=Fj(i,n,v)),D&&(i.lineWrapping||b.widgetLineBreaks)&&(D=Fj(i,r,D)),v&&D&&v.from==D.from)return A(L(e.from,e.to,v));{let W=v?L(e.from,null,v):H(g,!1),ie=D?L(null,e.to,D):H(b,!0),se=[];return(v||g).to<(D||b).from-(v&&D?1:0)||g.widgetLineBreaks>1&&W.bottom+i.defaultLineHeight/2<ie.top?se.push(S(f,W.bottom,p,ie.top)):W.bottom<ie.top&&i.elementAtHeight((W.bottom+ie.top)/2).type==To.Text&&(W.bottom=ie.top=(W.bottom+ie.top)/2),A(W).concat(se).concat(A(ie))}function S(W,ie,se,Ue){return new py(t,W-l.left,ie-l.top-.01,se-W,Ue-ie+.01)}function A({top:W,bottom:ie,horizontal:se}){let Ue=[];for(let ct=0;ct<se.length;ct+=2)Ue.push(S(se[ct],W,se[ct+1],ie));return Ue}function L(W,ie,se){let Ue=1e9,ct=-1e9,mt=[];function At(Gt,Ri,we,De,Ie){let pt=i.coordsAtPos(Gt,Gt==se.to?-2:2),Pt=i.coordsAtPos(we,we==se.from?2:-2);!pt||!Pt||(Ue=Math.min(pt.top,Pt.top,Ue),ct=Math.max(pt.bottom,Pt.bottom,ct),Ie==Si.LTR?mt.push(o&&Ri?f:pt.left,o&&De?p:Pt.right):mt.push(!o&&De?f:Pt.left,!o&&Ri?p:pt.right))}let _t=W??se.from,Ht=ie??se.to;for(let Gt of i.visibleRanges)if(Gt.to>_t&&Gt.from<Ht)for(let Ri=Math.max(Gt.from,_t),we=Math.min(Gt.to,Ht);;){let De=i.state.doc.lineAt(Ri);for(let Ie of i.bidiSpans(De)){let pt=Ie.from+De.from,Pt=Ie.to+De.from;if(pt>=we)break;Pt>Ri&&At(Math.max(pt,Ri),null==W&&pt<=_t,Math.min(Pt,we),null==ie&&Pt>=Ht,Ie.dir)}if(Ri=De.to+1,Ri>=we)break}return 0==mt.length&&At(_t,null==W,Ht,null==ie,i.textDirection),{top:Ue,bottom:ct,horizontal:mt}}function H(W,ie){let se=a.top+(ie?W.top:W.bottom);return{top:se,bottom:se,horizontal:[]}}}(t,e,n)}}function Pj(i){let t=i.scrollDOM.getBoundingClientRect();return{left:(i.textDirection==Si.LTR?t.left:t.right-i.scrollDOM.clientWidth*i.scaleX)-i.scrollDOM.scrollLeft*i.scaleX,top:t.top-i.scrollDOM.scrollTop*i.scaleY}}function Fj(i,t,e){let n=ee.cursor(t);return{from:Math.max(e.from,i.moveToLineBoundary(n,!1,!0).from),to:Math.min(e.to,i.moveToLineBoundary(n,!0,!0).from),type:To.Text}}class C_e{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(_1)!=t.state.facet(_1)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}setOrder(t){let e=0,n=t.facet(_1);for(;e<n.length&&n[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;(t!=this.scaleX||e!=this.scaleY)&&(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,n)=>!function x_e(i,t){return i.constructor==t.constructor&&i.eq(t)}(e,this.drawn[n]))){let e=this.dom.firstChild,n=0;for(let r of t)r.update&&e&&r.constructor&&this.drawn[n].constructor&&r.update(e,this.drawn[n])?(e=e.nextSibling,n++):this.dom.insertBefore(r.draw(),e);for(;e;){let r=e.nextSibling;e.remove(),e=r}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const _1=Ee.define();function Nj(i){return[rn.define(t=>new C_e(t,i)),_1.of(i)]}const Lj=!Oe.ios,cg=Ee.define({combine:i=>$a(i,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function D_e(i={}){return[cg.of(i),k_e,E_e,S_e,PW.of(!0)]}function Bj(i){return i.startState.facet(cg)!=i.state.facet(cg)}const k_e=Nj({above:!0,markers(i){let{state:t}=i,e=t.facet(cg),n=[];for(let r of t.selection.ranges){let o=r==t.selection.main;if(r.empty?!o||Lj:e.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=r.empty?r:ee.cursor(r.head,r.head>r.anchor?-1:1);for(let l of py.forRange(i,s,a))n.push(l)}}return n},update(i,t){i.transactions.some(n=>n.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let e=Bj(i);return e&&Vj(i.state,t),i.docChanged||i.selectionSet||e},mount(i,t){Vj(t.state,i)},class:"cm-cursorLayer"});function Vj(i,t){t.style.animationDuration=i.facet(cg).cursorBlinkRate+"ms"}const E_e=Nj({above:!1,markers:i=>i.state.selection.ranges.map(t=>t.empty?[]:py.forRange(i,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e)),update:(i,t)=>i.docChanged||i.selectionSet||i.viewportChanged||Bj(i),class:"cm-selectionLayer"}),_P={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Lj&&(_P[".cm-line"].caretColor="transparent !important",_P[".cm-content"]={caretColor:"transparent !important"});const S_e=gu.highest(ft.theme(_P)),Hj=Bt.define({map:(i,t)=>null==i?null:t.mapPos(i)}),gy=Hn.define({create:()=>null,update:(i,t)=>(null!=i&&(i=t.changes.mapPos(i)),t.effects.reduce((e,n)=>n.is(Hj)?n.value:e,i))}),M_e=rn.fromClass(class{constructor(i){this.view=i,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(i){var t;let e=i.state.field(gy);null==e?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(i.startState.field(gy)!=e||i.docChanged||i.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:i}=this,t=i.state.field(gy),e=null!=t&&i.coordsAtPos(t);if(!e)return null;let n=i.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+i.scrollDOM.scrollLeft*i.scaleX,top:e.top-n.top+i.scrollDOM.scrollTop*i.scaleY,height:e.bottom-e.top}}drawCursor(i){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;i?(this.cursor.style.left=i.left/t+"px",this.cursor.style.top=i.top/e+"px",this.cursor.style.height=i.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(i){this.view.state.field(gy)!=i&&this.view.dispatch({effects:Hj.of(i)})}},{eventObservers:{dragover(i){this.setDropPos(this.view.posAtCoords({x:i.clientX,y:i.clientY}))},dragleave(i){(i.target==this.view.contentDOM||!this.view.contentDOM.contains(i.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function zj(i,t,e,n,r){t.lastIndex=0;for(let a,o=i.iterRange(e,n),s=e;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)r(s+a.index,a)}class bP{constructor(t){const{regexp:e,decoration:n,decorate:r,boundary:o,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,r)this.addMatch=(a,l,c,u)=>r(u,c,c+a[0].length,a,l);else if("function"==typeof n)this.addMatch=(a,l,c,u)=>{let f=n(a,l,c);f&&u(c,c+a[0].length,f)};else{if(!n)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,n)}this.boundary=o,this.maxLength=s}createDeco(t){let e=new Zc,n=e.add.bind(e);for(let{from:r,to:o}of function T_e(i,t){let e=i.visibleRanges;if(1==e.length&&e[0].from==i.viewport.from&&e[0].to==i.viewport.to)return e;let n=[];for(let{from:r,to:o}of e)r=Math.max(i.state.doc.lineAt(r).from,r-t),o=Math.min(i.state.doc.lineAt(o).to,o+t),n.length&&n[n.length-1].to>=r?n[n.length-1].to=o:n.push({from:r,to:o});return n}(t,this.maxLength))zj(t.state.doc,this.regexp,r,o,(s,a)=>this.addMatch(a,t,s,n));return e.finish()}updateDeco(t,e){let n=1e9,r=-1;return t.docChanged&&t.changes.iterChanges((o,s,a,l)=>{l>t.view.viewport.from&&a<t.view.viewport.to&&(n=Math.min(a,n),r=Math.max(l,r))}),t.viewportChanged||r-n>1e3?this.createDeco(t.view):r>-1?this.updateRange(t.view,e.map(t.changes),n,r):e}updateRange(t,e,n,r){for(let o of t.visibleRanges){let s=Math.max(o.from,n),a=Math.min(o.to,r);if(a>s){let l=t.state.doc.lineAt(s),c=l.to<a?t.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let g,p=[],b=(v,D,S)=>p.push(S.range(v,D));if(l==c)for(this.regexp.lastIndex=u-l.from;(g=this.regexp.exec(l.text))&&g.index<f-l.from;)this.addMatch(g,t,g.index+l.from,b);else zj(t.state.doc,this.regexp,u,f,(v,D)=>this.addMatch(D,t,v,b));e=e.update({filterFrom:u,filterTo:f,filter:(v,D)=>v<u||D>f,add:p})}}return e}}const vP=null!=/x/.unicode?"gu":"g",I_e=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",vP),O_e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yP=null;const b1=Ee.define({combine(i){let t=$a(i,{render:null,specialChars:I_e,addSpecialChars:null});return(t.replaceTabs=!function R_e(){var i;if(null==yP&&typeof document<"u"&&document.body){let t=document.body.style;yP=null!=(null!==(i=t.tabSize)&&void 0!==i?i:t.MozTabSize)}return yP||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,vP)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,vP)),t}});function P_e(i={}){return[b1.of(i),Uj||(Uj=rn.fromClass(class{constructor(i){this.view=i,this.decorations=Ne.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(i.state.facet(b1)),this.decorations=this.decorator.createDeco(i)}makeDecorator(i){return new bP({regexp:i.specialChars,decoration:(t,e,n)=>{let{doc:r}=e.state,o=Br(t[0],0);if(9==o){let s=r.lineAt(n),a=e.state.tabSize,l=ng(s.text,a,n-s.from);return Ne.replace({widget:new V_e((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Ne.replace({widget:new B_e(i,o)}))},boundary:i.replaceTabs?void 0:/[^]/})}update(i){let t=i.state.facet(b1);i.startState.facet(b1)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(i.view)):this.decorations=this.decorator.updateDeco(i,this.decorations)}},{decorations:i=>i.decorations}))]}let Uj=null;class B_e extends id{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function L_e(i){return i>=32?"\u2022":10==i?"\u2424":String.fromCharCode(9216+i)}(this.code),n=t.state.phrase("Control character")+" "+(O_e[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,e);if(r)return r;let o=document.createElement("span");return o.textContent=e,o.title=n,o.setAttribute("aria-label",n),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class V_e extends id{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="\t",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const z_e=Ne.line({class:"cm-activeLine"}),U_e=rn.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.docChanged||i.selectionSet)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=-1,e=[];for(let n of i.state.selection.ranges){let r=i.lineBlockAt(n.head);r.from>t&&(e.push(z_e.range(r.from)),t=r.from)}return Ne.set(e)}},{decorations:i=>i.decorations}),wP=2e3;function jj(i,t){let e=i.posAtCoords({x:t.clientX,y:t.clientY},!1),n=i.state.doc.lineAt(e),r=e-n.from,o=r>wP?-1:r==n.length?function $_e(i,t){let e=i.coordsAtPos(i.viewport.from);return e?Math.round(Math.abs((e.left-t)/i.defaultCharacterWidth)):-1}(i,t.clientX):ng(n.text,i.state.tabSize,e-n.from);return{line:n.number,col:o,off:r}}function q_e(i){let t=i?.eventFilter||(e=>e.altKey&&0==e.button);return ft.mouseSelectionStyle.of((e,n)=>t(n)?function G_e(i,t){let e=jj(i,t),n=i.state.selection;return e?{update(r){if(r.docChanged){let o=r.changes.mapPos(r.startState.doc.line(e.line).from),s=r.state.doc.lineAt(o);e={line:s.number,col:e.col,off:Math.min(e.off,s.length)},n=n.map(r.changes)}},get(r,o,s){let a=jj(i,r);if(!a)return n;let l=function j_e(i,t,e){let n=Math.min(t.line,e.line),r=Math.max(t.line,e.line),o=[];if(t.off>wP||e.off>wP||t.col<0||e.col<0){let s=Math.min(t.off,e.off),a=Math.max(t.off,e.off);for(let l=n;l<=r;l++){let c=i.doc.line(l);c.length<=a&&o.push(ee.range(c.from+s,c.to+a))}}else{let s=Math.min(t.col,e.col),a=Math.max(t.col,e.col);for(let l=n;l<=r;l++){let c=i.doc.line(l),u=VR(c.text,s,i.tabSize,!0);if(u<0)o.push(ee.cursor(c.to));else{let f=VR(c.text,a,i.tabSize);o.push(ee.range(c.from+u,c.from+f))}}}return o}(i.state,e,a);return l.length?ee.create(s?l.concat(n.ranges):l):n}}:null}(e,n):null)}const K_e={Alt:[18,i=>!!i.altKey],Control:[17,i=>!!i.ctrlKey],Shift:[16,i=>!!i.shiftKey],Meta:[91,i=>!!i.metaKey]},J_e={style:"cursor: crosshair"};function Y_e(i={}){let[t,e]=K_e[i.key||"Alt"],n=rn.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventObservers:{keydown(r){this.set(r.keyCode==t||e(r))},keyup(r){(r.keyCode==t||!e(r))&&this.set(!1)},mousemove(r){this.set(e(r))}}});return[n,ft.contentAttributes.of(r=>{var o;return null!==(o=r.plugin(n))&&void 0!==o&&o.isDown?J_e:null})]}const _y="-10000px";class $j{constructor(t,e,n){this.facet=e,this.createTooltipView=n,this.input=t.state.facet(e),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(n)}update(t,e){var n;let r=t.state.facet(this.facet),o=r.filter(l=>l);if(r===this.input){for(let l of this.tooltipViews)l.update&&l.update(t);return!1}let s=[],a=e?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let p=this.tooltips[f];p&&p.create==c.create&&(u=f)}if(u<0)s[l]=this.createTooltipView(c),a&&(a[l]=!!c.above);else{let f=s[l]=this.tooltipViews[u];a&&(a[l]=e[u]),f.update&&f.update(t)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(l.dom.remove(),null===(n=l.destroy)||void 0===n||n.call(l));return e&&(a.forEach((l,c)=>e[c]=l),e.length=a.length),this.input=r,this.tooltips=o,this.tooltipViews=s,!0}}function X_e(i){let{win:t}=i;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const v1=Ee.define({combine:i=>{var t,e,n;return{position:Oe.ios?"absolute":(null===(t=i.find(r=>r.position))||void 0===t?void 0:t.position)||"fixed",parent:(null===(e=i.find(r=>r.parent))||void 0===e?void 0:e.parent)||null,tooltipSpace:(null===(n=i.find(r=>r.tooltipSpace))||void 0===n?void 0:n.tooltipSpace)||X_e}}}),Gj=new WeakMap,y1=rn.fromClass(class{constructor(i){this.view=i,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=i.state.facet(v1);this.position=t.position,this.parent=t.parent,this.classes=i.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new $j(i,w1,e=>this.createTooltip(e)),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),i.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let i of this.manager.tooltipViews)this.intersectionObserver.observe(i.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(i){i.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(i,this.above);t&&this.observeIntersection();let e=t||i.geometryChanged,n=i.state.facet(v1);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;e=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(i){let t=i.create(this.view);if(t.dom.classList.add("cm-tooltip"),i.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",t.dom.appendChild(e)}return t.dom.style.position=this.position,t.dom.style.top=_y,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}destroy(){var i,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let e of this.manager.tooltipViews)e.dom.remove(),null===(i=e.destroy)||void 0===i||i.call(e);this.parent&&this.container.remove(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let i=this.view.dom.getBoundingClientRect(),t=1,e=1,n=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:r}=this.manager.tooltipViews[0];if(Oe.gecko)n=r.offsetParent!=this.container.ownerDocument.body;else if(r.style.top==_y&&"0px"==r.style.left){let o=r.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||"absolute"==this.position)if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(t=r.width/this.parent.offsetWidth,e=r.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);return{editor:i,parent:this.parent?this.container.getBoundingClientRect():i,pos:this.manager.tooltips.map((r,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(r.pos):this.view.coordsAtPos(r.pos)}),size:this.manager.tooltipViews.map(({dom:r})=>r.getBoundingClientRect()),space:this.view.state.facet(v1).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(i){var t;if(i.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:e,space:n,scaleX:r,scaleY:o}=i,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=i.pos[a],p=i.size[a];if(!f||f.bottom<=Math.max(e.top,n.top)||f.top>=Math.min(e.bottom,n.bottom)||f.right<Math.max(e.left,n.left)-.1||f.left>Math.min(e.right,n.right)+.1){u.style.top=_y;continue}let g=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,b=g?7:0,v=p.right-p.left,D=null!==(t=Gj.get(c))&&void 0!==t?t:p.bottom-p.top,S=c.offset||Q_e,A=this.view.textDirection==Si.LTR,L=p.width>n.right-n.left?A?n.left:n.right-p.width:A?Math.min(f.left-(g?14:0)+S.x,n.right-v):Math.max(n.left,f.left-v+(g?14:0)-S.x),H=this.above[a];!l.strictSide&&(H?f.top-(p.bottom-p.top)-S.y<n.top:f.bottom+(p.bottom-p.top)+S.y>n.bottom)&&H==n.bottom-f.bottom>f.top-n.top&&(H=this.above[a]=!H);let W=(H?f.top-n.top:n.bottom-f.bottom)-b;if(W<D&&!1!==c.resize){if(W<this.view.defaultLineHeight){u.style.top=_y;continue}Gj.set(c,D),u.style.height=(D=W)/o+"px"}else u.style.height&&(u.style.height="");let ie=H?f.top-D-b-S.y:f.bottom+b+S.y,se=L+v;if(!0!==c.overlap)for(let Ue of s)Ue.left<se&&Ue.right>L&&Ue.top<ie+D&&Ue.bottom>ie&&(ie=H?Ue.top-D-2-b:Ue.bottom+b+2);"absolute"==this.position?(u.style.top=(ie-i.parent.top)/o+"px",u.style.left=(L-i.parent.left)/r+"px"):(u.style.top=ie/o+"px",u.style.left=L/r+"px"),g&&(g.style.left=(f.left+(A?S.x:-S.x)-(L+14-7))/r+"px"),!0!==c.overlap&&s.push({left:L,top:ie,right:se,bottom:ie+D}),u.classList.toggle("cm-tooltip-above",H),u.classList.toggle("cm-tooltip-below",!H),c.positioned&&c.positioned(i.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let i of this.manager.tooltipViews)i.dom.style.top=_y}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Q_e={x:0,y:0},w1=Ee.define({enables:[y1,ft.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),by=Ee.define();class x1{static create(t){return new x1(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new $j(t,by,e=>this.createHostedView(e))}createHostedView(t){let e=t.create(this.view);return e.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(e.dom),this.mounted&&e.mount&&e.mount(this.view),e}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)null===(t=e.destroy)||void 0===t||t.call(e)}passProp(t){let e;for(let n of this.manager.tooltipViews){let r=n[t];if(void 0!==r)if(void 0===e)e=r;else if(e!==r)return}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const ebe=w1.compute([by],i=>{let t=i.facet(by).filter(e=>e);return 0===t.length?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var n;return null!==(n=e.end)&&void 0!==n?n:e.pos})),create:x1.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class tbe{constructor(t,e,n,r,o){this.view=t,this.source=e,this.field=n,this.setHover=r,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,n=t.docView.nearest(e.target);if(!n)return;let r,o=1;if(n instanceof vu)r=n.posAtStart;else{if(r=t.posAtCoords(e),null==r)return;let a=t.coordsAtPos(r);if(!a||e.y<a.top||e.y>a.bottom||e.x<a.left-t.defaultCharacterWidth||e.x>a.right+t.defaultCharacterWidth)return;let l=t.bidiSpans(t.state.doc.lineAt(r)).find(u=>u.from<=r&&u.to>=r),c=l&&l.dir==Si.RTL?-1:1;o=e.x<a.left?-c:c}let s=this.source(t,r,o);if(s?.then){let a=this.pending={pos:r};s.then(l=>{this.pending==a&&(this.pending=null,l&&t.dispatch({effects:this.setHover.of(l)}))},l=>ca(t.state,l,"hover tooltip"))}else s&&t.dispatch({effects:this.setHover.of(s)})}get tooltip(){let t=this.view.plugin(y1),e=t?t.manager.tooltips.findIndex(n=>n.create==x1.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:r}=this;if(n&&r&&!function ibe(i,t){let e=i.getBoundingClientRect();return t.clientX>=e.left-C1&&t.clientX<=e.right+C1&&t.clientY>=e.top-C1&&t.clientY<=e.bottom+C1}(r.dom,t)||this.pending){let{pos:o}=n||this.pending,s=null!==(e=n?.end)&&void 0!==e?e:o;(o==s?this.view.posAtCoords(this.lastMove)!=o:!function nbe(i,t,e,n,r,o){let s=i.scrollDOM.getBoundingClientRect();if(s.left>n||s.right<n||s.top>r||Math.min(s.bottom,i.documentTop+i.documentPadding.top+i.contentHeight)<r)return!1;let l=i.posAtCoords({x:n,y:r},!1);return l>=t&&l<=e}(this.view,o,s,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e){let{tooltip:n}=this;n&&n.dom.contains(t.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(t){let e=n=>{t.removeEventListener("mouseleave",e),this.active&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const C1=4;function rbe(i,t={}){let e=Bt.define(),n=Hn.define({create:()=>null,update(r,o){if(r&&(t.hideOnChange&&(o.docChanged||o.selection)||t.hideOn&&t.hideOn(o,r)))return null;if(r&&o.docChanged){let s=o.changes.mapPos(r.pos,-1,Ao.TrackDel);if(null==s)return null;let a=Object.assign(Object.create(null),r);a.pos=s,null!=r.end&&(a.end=o.changes.mapPos(r.end)),r=a}for(let s of o.effects)s.is(e)&&(r=s.value),s.is(obe)&&(r=null);return r},provide:r=>by.from(r)});return[n,rn.define(r=>new tbe(r,i,n,e,t.hoverTime||300)),ebe]}function qj(i,t){let e=i.plugin(y1);if(!e)return null;let n=e.manager.tooltips.indexOf(t);return n<0?null:e.manager.tooltipViews[n]}const obe=Bt.define(),xP=Ee.define({combine(i){let t,e;for(let n of i)t=t||n.topContainer,e=e||n.bottomContainer;return{topContainer:t,bottomContainer:e}}});function vy(i,t){let e=i.plugin(Kj),n=e?e.specs.indexOf(t):-1;return n>-1?e.panels[n]:null}const Kj=rn.fromClass(class{constructor(i){this.input=i.state.facet(yy),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(i));let t=i.state.facet(xP);this.top=new D1(i,!0,t.topContainer),this.bottom=new D1(i,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(i){let t=i.state.facet(xP);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new D1(i.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new D1(i.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=i.state.facet(yy);if(e!=this.input){let n=e.filter(l=>l),r=[],o=[],s=[],a=[];for(let l of n){let u,c=this.specs.indexOf(l);c<0?(u=l(i.view),a.push(u)):(u=this.panels[c],u.update&&u.update(i)),r.push(u),(u.top?o:s).push(u)}this.specs=n,this.panels=r,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(i)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:i=>ft.scrollMargins.of(t=>{let e=t.plugin(i);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class D1{constructor(t,e,n){this.view=t,this.top=e,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Jj(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Jj(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Jj(i){let t=i.nextSibling;return i.remove(),t}const yy=Ee.define({enables:Kj});class Hl extends ff{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Hl.prototype.elementClass="",Hl.prototype.toDOM=void 0,Hl.prototype.mapMode=Ao.TrackBefore,Hl.prototype.startSide=Hl.prototype.endSide=-1,Hl.prototype.point=!0;const k1=Ee.define(),sbe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Yi.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},wy=Ee.define();function Yj(i){return[Xj(),wy.of(Object.assign(Object.assign({},sbe),i))]}const CP=Ee.define({combine:i=>i.some(t=>t)});function Xj(i){let t=[abe];return i&&!1===i.fixed&&t.push(CP.of(!0)),t}const abe=rn.fromClass(class{constructor(i){this.view=i,this.prevViewport=i.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=i.state.facet(wy).map(t=>new Qj(i,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!i.state.facet(CP),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),i.scrollDOM.insertBefore(this.dom,i.contentDOM)}update(i){if(this.updateGutters(i)){let t=this.prevViewport,e=i.view.viewport,n=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(n<.8*(e.to-e.from))}i.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(CP)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=i.view.viewport}syncGutters(i){let t=this.dom.nextSibling;i&&this.dom.remove();let e=Yi.iter(this.view.state.facet(k1),this.view.viewport.from),n=[],r=this.gutters.map(o=>new lbe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==To.Text&&s){DP(e,n,a.from);for(let l of r)l.line(this.view,a,n);s=!1}else if(a.widget)for(let l of r)l.widget(this.view,a)}else if(o.type==To.Text){DP(e,n,o.from);for(let s of r)s.line(this.view,o,n)}else if(o.widget)for(let s of r)s.widget(this.view,o);for(let o of r)o.finish();i&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(i){let t=i.startState.facet(wy),e=i.state.facet(wy),n=i.docChanged||i.heightChanged||i.viewportChanged||!Yi.eq(i.startState.facet(k1),i.state.facet(k1),i.view.viewport.from,i.view.viewport.to);if(t==e)for(let r of this.gutters)r.update(i)&&(n=!0);else{n=!0;let r=[];for(let o of e){let s=t.indexOf(o);s<0?r.push(new Qj(this.view,o)):(this.gutters[s].update(i),r.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),r.indexOf(o)<0&&o.destroy();for(let o of r)this.dom.appendChild(o.dom);this.gutters=r}return n}destroy(){for(let i of this.gutters)i.destroy();this.dom.remove()}},{provide:i=>ft.scrollMargins.of(t=>{let e=t.plugin(i);return e&&0!=e.gutters.length&&e.fixed?t.textDirection==Si.LTR?{left:e.dom.offsetWidth*t.scaleX}:{right:e.dom.offsetWidth*t.scaleX}:null})});function Zj(i){return Array.isArray(i)?i:[i]}function DP(i,t,e){for(;i.value&&i.from<=e;)i.from==e&&t.push(i.value),i.next()}class lbe{constructor(t,e,n){this.gutter=t,this.height=n,this.i=0,this.cursor=Yi.iter(t.markers,e.from)}addElement(t,e,n){let{gutter:r}=this,o=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==r.elements.length){let a=new e$(t,s,o,n);r.elements.push(a),r.dom.appendChild(a.dom)}else r.elements[this.i].update(t,s,o,n);this.height=e.bottom,this.i++}line(t,e,n){let r=[];DP(this.cursor,r,e.from),n.length&&(r=r.concat(n));let o=this.gutter.config.lineMarker(t,e,r);o&&r.unshift(o),0==r.length&&!this.gutter.config.renderEmptyElements||this.addElement(t,e,r)}widget(t,e){let n=this.gutter.config.widgetMarker(t,e.widget,e);n&&this.addElement(t,e,[n])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Qj{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in e.domEventHandlers)this.dom.addEventListener(n,r=>{let s,o=r.target;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=r.clientY;let a=t.lineBlockAtHeight(s-t.documentTop);e.domEventHandlers[n](t,a,r)&&r.preventDefault()});this.markers=Zj(e.markers(t)),e.initialSpacer&&(this.spacer=new e$(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=Zj(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],t);r!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[r])}let n=t.view.viewport;return!Yi.eq(this.markers,e,n.from,n.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class e${constructor(t,e,n,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,n,r)}update(t,e,n,r){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function cbe(i,t){if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].compare(t[e]))return!1;return!0}(this.markers,r)||this.setMarkers(t,r)}setMarkers(t,e){let n="cm-gutterElement",r=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<e.length?e[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(n+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(r);let f=r.nextSibling;r.remove(),r=f}}if(!l)break;l.toDOM&&(c?r=r.nextSibling:this.dom.insertBefore(l.toDOM(t),r)),c&&s++}this.dom.className=n,this.markers=e}destroy(){this.setMarkers(null,[])}}const dbe=Ee.define(),dg=Ee.define({combine:i=>$a(i,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let n=Object.assign({},t);for(let r in e){let o=n[r],s=e[r];n[r]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return n}})});class kP extends Hl{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function EP(i,t){return i.state.facet(dg).formatNumber(t,i.state)}const ube=wy.compute([dg],i=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(dbe),lineMarker:(t,e,n)=>n.some(r=>r.toDOM)?null:new kP(EP(t,t.state.doc.lineAt(e.from).number)),widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(dg)!=t.state.facet(dg),initialSpacer:t=>new kP(EP(t,t$(t.state.doc.lines))),updateSpacer(t,e){let n=EP(e.view,t$(e.view.state.doc.lines));return n==t.number?t:new kP(n)},domEventHandlers:i.facet(dg).domEventHandlers}));function hbe(i={}){return[dg.of(i),Xj(),ube]}function t$(i){let t=9;for(;t<i;)t=10*t+9;return t}const fbe=new class extends Hl{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},mbe=k1.compute(["selection"],i=>{let t=[],e=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.head).from;r>e&&(e=r,t.push(fbe.range(r)))}return Yi.of(t)}),r$=1024;let vbe=0;class da{constructor(t,e){this.from=t,this.to=e}}class Et{constructor(t={}){this.id=vbe++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=Io.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}Et.closedBy=new Et({deserialize:i=>i.split(" ")}),Et.openedBy=new Et({deserialize:i=>i.split(" ")}),Et.group=new Et({deserialize:i=>i.split(" ")}),Et.isolate=new Et({deserialize:i=>{if(i&&"rtl"!=i&&"ltr"!=i&&"auto"!=i)throw new RangeError("Invalid value for isolate: "+i);return i||"auto"}}),Et.contextHash=new Et({perNode:!0}),Et.lookAhead=new Et({perNode:!0}),Et.mounted=new Et({perNode:!0});class xy{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[Et.mounted.id]}}const ybe=Object.create(null);class Io{constructor(t,e,n,r=0){this.name=t,this.props=e,this.id=n,this.flags=r}static define(t){let e=t.props&&t.props.length?Object.create(null):ybe,r=new Io(t.name||"",e,t.id,(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0));if(t.props)for(let o of t.props)if(Array.isArray(o)||(o=o(r)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[o[0].id]=o[1]}return r}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(Et.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let r of n.split(" "))e[r]=t[n];return n=>{for(let r=n.prop(Et.group),o=-1;o<(r?r.length:0);o++){let s=e[o<0?n.name:r[o]];if(s)return s}}}}Io.none=new Io("",Object.create(null),0,8);class E1{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let r=null;for(let o of t){let s=o(n);s&&(r||(r=Object.assign({},n.props)),r[s[0].id]=s[1])}e.push(r?new Io(n.name,r,n.id,n.flags):n)}return new E1(e)}}const S1=new WeakMap,o$=new WeakMap;var on=function(i){return i[i.ExcludeBuffers=1]="ExcludeBuffers",i[i.IncludeAnonymous=2]="IncludeAnonymous",i[i.IgnoreMounts=4]="IgnoreMounts",i[i.IgnoreOverlays=8]="IgnoreOverlays",i}(on||{});class sn{constructor(t,e,n,r,o){if(this.type=t,this.children=e,this.positions=n,this.length=r,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props["number"==typeof s?s:s.id]=a}}toString(){let t=xy.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let r=n.toString();r&&(e&&(e+=","),e+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new M1(this.topNode,t)}cursorAt(t,e=0,n=0){let r=S1.get(this)||this.topNode,o=new M1(r);return o.moveTo(t,e),S1.set(this,o._tree),o}get topNode(){return new ro(this,0,0,null)}resolve(t,e=0){let n=Cy(S1.get(this)||this.topNode,t,e,!1);return S1.set(this,n),n}resolveInner(t,e=0){let n=Cy(o$.get(this)||this.topNode,t,e,!0);return o$.set(this,n),n}resolveStack(t,e=0){return function Cbe(i,t,e){let n=i.resolveInner(t,e),r=null;for(let o=n instanceof ro?n:n.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(r||(r=[n])).push(s.resolve(t,e)),o=s}else{let s=xy.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let a=new ro(s.tree,s.overlay[0].from+o.from,-1,o);(r||(r=[n])).push(Cy(a,t,e,!1))}}return r?c$(r):n}(this,t,e)}iterate(t){let{enter:e,leave:n,from:r=0,to:o=this.length}=t,s=t.mode||0,a=(s&on.IncludeAnonymous)>0;for(let l=this.cursor(s|on.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=r&&(!a&&l.type.isAnonymous||!1!==e(l))){if(l.firstChild())continue;c=!0}for(;c&&n&&(a||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:TP(Io.none,this.children,this.positions,0,this.children.length,0,this.length,(e,n,r)=>new sn(this.type,e,n,r,this.propValues),t.makeTree||((e,n,r)=>new sn(Io.none,e,n,r)))}static build(t){return function Dbe(i){var t;let{buffer:e,nodeSet:n,maxBufferLength:r=r$,reused:o=[],minRepeatType:s=n.types.length}=i,a=Array.isArray(e)?new SP(e,e.length):e,l=n.types,c=0,u=0;function f(W,ie,se,Ue,ct,mt){let{id:At,start:_t,end:Ht,size:Gt}=a,Ri=u;for(;Gt<0;){if(a.next(),-1==Gt)return se.push(o[At]),void Ue.push(_t-W);if(-3==Gt)return void(c=At);if(-4==Gt)return void(u=At);throw new RangeError(`Unrecognized record size: ${Gt}`)}let De,Ie,we=l[At],pt=_t-W;if(Ht-_t<=r&&(Ie=function D(W,ie){let se=a.fork(),Ue=0,ct=0,mt=0,At=se.end-r,_t={size:0,start:0,skip:0};e:for(let Ht=se.pos-W;se.pos>Ht;){let Gt=se.size;if(se.id==ie&&Gt>=0){_t.size=Ue,_t.start=ct,_t.skip=mt,mt+=4,Ue+=4,se.next();continue}let Ri=se.pos-Gt;if(Gt<0||Ri<Ht||se.start<At)break;let we=se.id>=s?4:0,De=se.start;for(se.next();se.pos>Ri;){if(se.size<0){if(-3!=se.size)break e;we+=4}else se.id>=s&&(we+=4);se.next()}ct=De,Ue+=Gt,mt+=we}return(ie<0||Ue==W)&&(_t.size=Ue,_t.start=ct,_t.skip=mt),_t.size>4?_t:void 0}(a.pos-ie,ct))){let Pt=new Uint16Array(Ie.size-Ie.skip),an=a.pos-Ie.size,Xi=Pt.length;for(;a.pos>an;)Xi=S(Ie.start,Pt,Xi);De=new Du(Pt,Ht-Ie.start,n),pt=Ie.start-W}else{let Pt=a.pos-Gt;a.next();let an=[],Xi=[],ao=At>=s?At:-1,ui=0,Ef=Ht;for(;a.pos>Pt;)ao>=0&&a.id==ao&&a.size>=0?(a.end<=Ef-r&&(b(an,Xi,_t,ui,a.end,Ef,ao,Ri),ui=an.length,Ef=a.end),a.next()):mt>2500?p(_t,Pt,an,Xi):f(_t,Pt,an,Xi,ao,mt+1);if(ao>=0&&ui>0&&ui<an.length&&b(an,Xi,_t,ui,_t,Ef,ao,Ri),an.reverse(),Xi.reverse(),ao>-1&&ui>0){let Gk=function g(W){return(ie,se,Ue)=>{let At,_t,ct=0,mt=ie.length-1;if(mt>=0&&(At=ie[mt])instanceof sn){if(!mt&&At.type==W&&At.length==Ue)return At;(_t=At.prop(Et.lookAhead))&&(ct=se[mt]+At.length+_t)}return v(W,ie,se,Ue,ct)}}(we);De=TP(we,an,Xi,0,an.length,0,Ht-_t,Gk,Gk)}else De=v(we,an,Xi,Ht-_t,Ri-Ht)}se.push(De),Ue.push(pt)}function p(W,ie,se,Ue){let ct=[],mt=0,At=-1;for(;a.pos>ie;){let{id:_t,start:Ht,end:Gt,size:Ri}=a;if(Ri>4)a.next();else{if(At>-1&&Ht<At)break;At<0&&(At=Gt-r),ct.push(_t,Ht,Gt),mt++,a.next()}}if(mt){let _t=new Uint16Array(4*mt),Ht=ct[ct.length-2];for(let Gt=ct.length-3,Ri=0;Gt>=0;Gt-=3)_t[Ri++]=ct[Gt],_t[Ri++]=ct[Gt+1]-Ht,_t[Ri++]=ct[Gt+2]-Ht,_t[Ri++]=Ri;se.push(new Du(_t,ct[2]-Ht,n)),Ue.push(Ht-W)}}function b(W,ie,se,Ue,ct,mt,At,_t){let Ht=[],Gt=[];for(;W.length>Ue;)Ht.push(W.pop()),Gt.push(ie.pop()+se-ct);W.push(v(n.types[At],Ht,Gt,mt-ct,_t-mt)),ie.push(ct-se)}function v(W,ie,se,Ue,ct=0,mt){if(c){let At=[Et.contextHash,c];mt=mt?[At].concat(mt):[At]}if(ct>25){let At=[Et.lookAhead,ct];mt=mt?[At].concat(mt):[At]}return new sn(W,ie,se,Ue,mt)}function S(W,ie,se){let{id:Ue,start:ct,end:mt,size:At}=a;if(a.next(),At>=0&&Ue<s){let _t=se;if(At>4){let Ht=a.pos-(At-4);for(;a.pos>Ht;)se=S(W,ie,se)}ie[--se]=_t,ie[--se]=mt-W,ie[--se]=ct-W,ie[--se]=Ue}else-3==At?c=Ue:-4==At&&(u=Ue);return se}let A=[],L=[];for(;a.pos>0;)f(i.start||0,i.bufferStart||0,A,L,-1,0);let H=null!==(t=i.length)&&void 0!==t?t:A.length?L[0]+A[0].length:0;return new sn(l[i.topID],A.reverse(),L.reverse(),H)}(t)}}sn.empty=new sn(Io.none,[],[],0);class SP{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new SP(this.buffer,this.index)}}class Du{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return Io.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let n=this.buffer[t+3],r=this.set.types[this.buffer[t]],o=r.name;if(/\W/.test(o)&&!r.isError&&(o=JSON.stringify(o)),n==(t+=4))return o;let s=[];for(;t<n;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,e,n,r,o){let{buffer:s}=this,a=-1;for(let l=t;l!=e&&!(s$(o,r,s[l+1],s[l+2])&&(a=l,n>0));l=s[l+3]);return a}slice(t,e,n){let r=this.buffer,o=new Uint16Array(e-t),s=0;for(let a=t,l=0;a<e;){o[l++]=r[a++],o[l++]=r[a++]-n;let c=o[l++]=r[a++]-n;o[l++]=r[a++]-t,s=Math.max(s,c)}return new Du(o,s,this.set)}}function s$(i,t,e,n){switch(i){case-2:return e<t;case-1:return n>=t&&e<t;case 0:return e<t&&n>t;case 1:return e<=t&&n>t;case 2:return n>t;case 4:return!0}}function Cy(i,t,e,n){for(var r;i.from==i.to||(e<1?i.from>=t:i.from>t)||(e>-1?i.to<=t:i.to<t);){let s=!n&&i instanceof ro&&i.index<0?null:i.parent;if(!s)return i;i=s}let o=n?0:on.IgnoreOverlays;if(n)for(let s=i,a=s.parent;a;s=a,a=s.parent)s instanceof ro&&s.index<0&&(null===(r=a.enter(t,e,o))||void 0===r?void 0:r.from)!=s.from&&(i=a);for(;;){let s=i.enter(t,e,o);if(!s)return i;i=s}}class a${cursor(t=0){return new M1(this,t)}getChild(t,e=null,n=null){let r=l$(this,t,e,n);return r.length?r[0]:null}getChildren(t,e=null,n=null){return l$(this,t,e,n)}resolve(t,e=0){return Cy(this,t,e,!1)}resolveInner(t,e=0){return Cy(this,t,e,!0)}matchContext(t){return MP(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;for(;e;){let r=e.lastChild;if(!r||r.to!=e.to)break;r.type.isError&&r.from==r.to?(n=e,e=r.prevSibling):e=r}return n}get node(){return this}get next(){return this.parent}}class ro extends a${constructor(t,e,n,r){super(),this._tree=t,this.from=e,this.index=n,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,r,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=e>0?a.length:-1;t!=c;t+=e){let u=a[t],f=l[t]+s.from;if(s$(r,n,f,f+u.length))if(u instanceof Du){if(o&on.ExcludeBuffers)continue;let p=u.findChild(0,u.buffer.length,e,n-f,r);if(p>-1)return new zl(new wbe(s,u,t,f),null,p)}else if(o&on.IncludeAnonymous||!u.type.isAnonymous||AP(u)){let p;if(!(o&on.IgnoreMounts)&&(p=xy.get(u))&&!p.overlay)return new ro(p.tree,f,t,s);let g=new ro(u,f,t,s);return o&on.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(e<0?u.children.length-1:0,e,n,r)}}if(o&on.IncludeAnonymous||!s.type.isAnonymous||(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let r;if(!(n&on.IgnoreOverlays)&&(r=xy.get(this._tree))&&r.overlay){let o=t-this.from;for(let{from:s,to:a}of r.overlay)if((e>0?s<=o:s<o)&&(e<0?a>=o:a>o))return new ro(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function l$(i,t,e,n){let r=i.cursor(),o=[];if(!r.firstChild())return o;if(null!=e)for(let s=!1;!s;)if(s=r.type.is(e),!r.nextSibling())return o;for(;;){if(null!=n&&r.type.is(n))return o;if(r.type.is(t)&&o.push(r.node),!r.nextSibling())return null==n?o:[]}}function MP(i,t,e=t.length-1){for(let n=i.parent;e>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[e]&&t[e]!=n.name)return!1;e--}}return!0}class wbe{constructor(t,e,n,r){this.parent=t,this.buffer=e,this.index=n,this.start=r}}class zl extends a${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.context.start,n);return o<0?null:new zl(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&on.ExcludeBuffers)return null;let{buffer:r}=this.context,o=r.findChild(this.index+4,r.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return o<0?null:new zl(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new zl(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new zl(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,r=this.index+4,o=n.buffer[this.index+3];return o>r&&(t.push(n.slice(r,o,n.buffer[this.index+1])),e.push(0)),new sn(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function c$(i){if(!i.length)return null;let t=0,e=i[0];for(let o=1;o<i.length;o++){let s=i[o];(s.from>e.from||s.to<e.to)&&(e=s,t=o)}let n=e instanceof ro&&e.index<0?null:e.parent,r=i.slice();return n?r[t]=n:r.splice(t,1),new xbe(r,e)}class xbe{constructor(t,e){this.heads=t,this.node=e}get next(){return c$(this.heads)}}class M1{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof ro)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let n=t._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:r}=this.buffer;return this.type=e||r.set.types[r.buffer[t]],this.from=n+r.buffer[t+1],this.to=n+r.buffer[t+2],!0}yield(t){return!!t&&(t instanceof ro?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:r}=this.buffer,o=r.findChild(this.index+4,r.buffer[this.index+3],t,e-this.buffer.start,n);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&on.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&on.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&on.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(e.findChild(r,this.index,-1,0,4))}else{let r=e.buffer[this.index+3];if(r<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(r)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:r}=this;if(r){if(t>0){if(this.index<r.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(r.buffer.buffer[o+3]<this.index)return!1;({index:e,parent:n}=r)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let o=e+t,s=t<0?-1:n._tree.children.length;o!=s;o+=t){let a=n._tree.children[o];if(this.mode&on.IncludeAnonymous||a instanceof Du||!a.type.isAnonymous||AP(a))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)e:for(let r=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==r){if(r==this.index)return s;e=s,n=o+1;break e}r=this.stack[--o]}for(let r=n;r<this.stack.length;r++)e=new zl(this.buffer,e,this.stack[r]);return this.bufferNode=new zl(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let r=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&e&&e(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}matchContext(t){if(!this.buffer)return MP(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let r=t.length-1,o=this.stack.length-1;r>=0;o--){if(o<0)return MP(this.node,t,r);let s=n[e.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[r]&&t[r]!=s.name)return!1;r--}}return!0}}function AP(i){return i.children.some(t=>t instanceof Du||!t.type.isAnonymous||AP(t))}const d$=new WeakMap;function A1(i,t){if(!i.isAnonymous||t instanceof Du||t.type!=i)return 1;let e=d$.get(t);if(null==e){e=1;for(let n of t.children){if(n.type!=i||!(n instanceof sn)){e=1;break}e+=A1(i,n)}d$.set(t,e)}return e}function TP(i,t,e,n,r,o,s,a,l){let c=0;for(let b=n;b<r;b++)c+=A1(i,t[b]);let u=Math.ceil(1.5*c/8),f=[],p=[];return function g(b,v,D,S,A){for(let L=D;L<S;){let H=L,W=v[L],ie=A1(i,b[L]);for(L++;L<S;L++){let se=A1(i,b[L]);if(ie+se>=u)break;ie+=se}if(L==H+1){if(ie>u){let se=b[H];g(se.children,se.positions,0,se.children.length,v[H]+A);continue}f.push(b[H])}else f.push(TP(i,b,v,H,L,W,v[L-1]+b[L-1].length-W,null,l));p.push(W+A-o)}}(t,e,n,r,0),(a||l)(f,p,s)}class nd{constructor(t,e,n,r,o=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=r,this.open=(o?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let r=[new nd(0,t.length,t,0,!1,n)];for(let o of e)o.to>t.length&&r.push(o);return r}static applyChanges(t,e,n=128){if(!e.length)return t;let r=[],o=1,s=t.length?t[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<e.length?e[a]:null,f=u?u.fromA:1e9;if(f-l>=n)for(;s&&s.from<f;){let p=s;if(l>=p.from||f<=p.to||c){let g=Math.max(p.from,l)-c,b=Math.min(p.to,f)-c;p=g>=b?null:new nd(g,b,p.tree,p.offset+c,a>0,!!u)}if(p&&r.push(p),s.to>f)break;s=o<t.length?t[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return r}}class u${startParse(t,e,n){return"string"==typeof t&&(t=new kbe(t)),n=n?n.length?n.map(r=>new da(r.from,r.to)):[new da(0,0)]:[new da(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let r=this.startParse(t,e,n);for(;;){let o=r.advance();if(o)return o}}}class kbe{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Et({perNode:!0});let Obe=0;class Ul{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=Obe++}static define(t){if(t?.base)throw new Error("Can not derive from a modified tag");let e=new Ul([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new T1;return e=>e.modified.indexOf(t)>-1?e:T1.get(e.base||e,e.modified.concat(t).sort((n,r)=>n.id-r.id))}}let Rbe=0;class T1{constructor(){this.instances=[],this.id=Rbe++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find(a=>a.base==t&&function Pbe(i,t){return i.length==t.length&&i.every((e,n)=>e==t[n])}(e,a.modified));if(n)return n;let r=[],o=new Ul(r,t,e);for(let a of e)a.instances.push(o);let s=function Fbe(i){let t=[[]];for(let e=0;e<i.length;e++)for(let n=0,r=t.length;n<r;n++)t.push(t[n].concat(i[e]));return t.sort((e,n)=>n.length-e.length)}(e);for(let a of t.set)if(!a.modified.length)for(let l of s)r.push(T1.get(a,l));return o}}function b$(i){let t=Object.create(null);for(let e in i){let n=i[e];Array.isArray(n)||(n=[n]);for(let r of e.split(" "))if(r){let o=[],s=2,a=r;for(let f=0;;){if("..."==a&&f>0&&f+3==r.length){s=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!p)throw new RangeError("Invalid path: "+r);if(o.push("*"==p[0]?"":'"'==p[0][0]?JSON.parse(p[0]):p[0]),f+=p[0].length,f==r.length)break;let g=r[f++];if(f==r.length&&"!"==g){s=0;break}if("/"!=g)throw new RangeError("Invalid path: "+r);a=r.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+r);let u=new I1(n,s,l>0?o.slice(0,l):null);t[c]=u.sort(t[c])}}return v$.add(t)}const v$=new Et;class I1{constructor(t,e,n,r){this.tags=t,this.mode=e,this.context=n,this.next=r}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function y$(i,t){let e=Object.create(null);for(let o of i)if(Array.isArray(o.tag))for(let s of o.tag)e[s.id]=o.class;else e[o.tag.id]=o.class;let{scope:n,all:r=null}=t||{};return{style:o=>{let s=r;for(let a of o)for(let l of a.set){let c=e[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:n}}function w$(i,t,e,n=0,r=i.length){let o=new Lbe(n,Array.isArray(t)?t:[t],e);o.highlightRange(i.cursor(),n,r,"",o.highlighters),o.flush(r)}I1.empty=new I1([],2,null);class Lbe{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,o){let{type:s,from:a,to:l}=t;if(a>=n||l<=e)return;s.isTop&&(o=this.highlighters.filter(g=>!g.scope||g.scope(s)));let c=r,u=function Bbe(i){let t=i.type.prop(v$);for(;t&&t.context&&!i.matchContext(t.context);)t=t.next;return t||null}(t)||I1.empty,f=function Nbe(i,t){let e=null;for(let n of i){let r=n.style(t);r&&(e=e?e+" "+r:r)}return e}(o,u.tags);if(f&&(c&&(c+=" "),c+=f,1==u.mode&&(r+=(r?" ":"")+f)),this.startSpan(Math.max(e,a),c),u.opaque)return;let p=t.tree&&t.tree.prop(Et.mounted);if(p&&p.overlay){let g=t.node.enter(p.overlay[0].from+a,1),b=this.highlighters.filter(D=>!D.scope||D.scope(p.tree.type)),v=t.firstChild();for(let D=0,S=a;;D++){let A=D<p.overlay.length?p.overlay[D]:null,L=A?A.from+a:l,H=Math.max(e,S),W=Math.min(n,L);if(H<W&&v)for(;t.from<W&&(this.highlightRange(t,H,W,r,o),this.startSpan(Math.min(W,t.to),c),!(t.to>=L)&&t.nextSibling()););if(!A||L>n)break;S=A.to+a,S>e&&(this.highlightRange(g.cursor(),Math.max(e,A.from+a),Math.min(n,S),"",b),this.startSpan(Math.min(n,S),c))}v&&t.parent()}else if(t.firstChild()){p&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,o),this.startSpan(Math.min(n,t.to),c)}}while(t.nextSibling());t.parent()}}}const ve=Ul.define,O1=ve(),ku=ve(),x$=ve(ku),C$=ve(ku),Eu=ve(),R1=ve(Eu),OP=ve(Eu),Wl=ve(),gf=ve(Wl),jl=ve(),$l=ve(),RP=ve(),Dy=ve(RP),P1=ve(),ge={comment:O1,lineComment:ve(O1),blockComment:ve(O1),docComment:ve(O1),name:ku,variableName:ve(ku),typeName:x$,tagName:ve(x$),propertyName:C$,attributeName:ve(C$),className:ve(ku),labelName:ve(ku),namespace:ve(ku),macroName:ve(ku),literal:Eu,string:R1,docString:ve(R1),character:ve(R1),attributeValue:ve(R1),number:OP,integer:ve(OP),float:ve(OP),bool:ve(Eu),regexp:ve(Eu),escape:ve(Eu),color:ve(Eu),url:ve(Eu),keyword:jl,self:ve(jl),null:ve(jl),atom:ve(jl),unit:ve(jl),modifier:ve(jl),operatorKeyword:ve(jl),controlKeyword:ve(jl),definitionKeyword:ve(jl),moduleKeyword:ve(jl),operator:$l,derefOperator:ve($l),arithmeticOperator:ve($l),logicOperator:ve($l),bitwiseOperator:ve($l),compareOperator:ve($l),updateOperator:ve($l),definitionOperator:ve($l),typeOperator:ve($l),controlOperator:ve($l),punctuation:RP,separator:ve(RP),bracket:Dy,angleBracket:ve(Dy),squareBracket:ve(Dy),paren:ve(Dy),brace:ve(Dy),content:Wl,heading:gf,heading1:ve(gf),heading2:ve(gf),heading3:ve(gf),heading4:ve(gf),heading5:ve(gf),heading6:ve(gf),contentSeparator:ve(Wl),list:ve(Wl),quote:ve(Wl),emphasis:ve(Wl),strong:ve(Wl),link:ve(Wl),monospace:ve(Wl),strikethrough:ve(Wl),inserted:ve(),deleted:ve(),changed:ve(),invalid:ve(),meta:P1,documentMeta:ve(P1),annotation:ve(P1),processingInstruction:ve(P1),definition:Ul.defineModifier(),constant:Ul.defineModifier(),function:Ul.defineModifier(),standard:Ul.defineModifier(),local:Ul.defineModifier(),special:Ul.defineModifier()};var PP;y$([{tag:ge.link,class:"tok-link"},{tag:ge.heading,class:"tok-heading"},{tag:ge.emphasis,class:"tok-emphasis"},{tag:ge.strong,class:"tok-strong"},{tag:ge.keyword,class:"tok-keyword"},{tag:ge.atom,class:"tok-atom"},{tag:ge.bool,class:"tok-bool"},{tag:ge.url,class:"tok-url"},{tag:ge.labelName,class:"tok-labelName"},{tag:ge.inserted,class:"tok-inserted"},{tag:ge.deleted,class:"tok-deleted"},{tag:ge.literal,class:"tok-literal"},{tag:ge.string,class:"tok-string"},{tag:ge.number,class:"tok-number"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],class:"tok-string2"},{tag:ge.variableName,class:"tok-variableName"},{tag:ge.local(ge.variableName),class:"tok-variableName tok-local"},{tag:ge.definition(ge.variableName),class:"tok-variableName tok-definition"},{tag:ge.special(ge.variableName),class:"tok-variableName2"},{tag:ge.definition(ge.propertyName),class:"tok-propertyName tok-definition"},{tag:ge.typeName,class:"tok-typeName"},{tag:ge.namespace,class:"tok-namespace"},{tag:ge.className,class:"tok-className"},{tag:ge.macroName,class:"tok-macroName"},{tag:ge.propertyName,class:"tok-propertyName"},{tag:ge.operator,class:"tok-operator"},{tag:ge.comment,class:"tok-comment"},{tag:ge.meta,class:"tok-meta"},{tag:ge.invalid,class:"tok-invalid"},{tag:ge.punctuation,class:"tok-punctuation"}]);const _f=new Et;const Vbe=new Et;let ua=(()=>{class i{constructor(e,n,r=[],o=""){this.data=e,this.name=o,Ss.prototype.hasOwnProperty("tree")||Object.defineProperty(Ss.prototype,"tree",{get(){return zn(this)}}),this.parser=n,this.extension=[Su.of(this),Ss.languageData.of((s,a,l)=>{let c=k$(s,a,l),u=c.type.prop(_f);if(!u)return[];let f=s.facet(u),p=c.type.prop(Vbe);if(p){let g=c.resolve(a-c.from,l);for(let b of p)if(b.test(g,s)){let v=s.facet(b.facet);return"replace"==b.type?v:v.concat(f)}}return f})].concat(r)}isActiveAt(e,n,r=-1){return k$(e,n,r).type.prop(_f)==this.data}findRegions(e){let n=e.facet(Su);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],o=(s,a)=>{if(s.prop(_f)==this.data)return void r.push({from:a,to:a+s.length});let l=s.prop(Et.mounted);if(l){if(l.tree.prop(_f)==this.data){if(l.overlay)for(let c of l.overlay)r.push({from:c.from+a,to:c.to+a});else r.push({from:a,to:a+s.length});return}if(l.overlay){let c=r.length;if(o(l.tree,l.overlay[0].from+a),r.length>c)return}}for(let c=0;c<s.children.length;c++){let u=s.children[c];u instanceof sn&&o(u,s.positions[c]+a)}};return o(zn(e),0),r}get allowsNesting(){return!0}}return i.setState=Bt.define(),i})();function k$(i,t,e){let n=i.facet(Su),r=zn(i).topNode;if(!n||n.allowsNesting)for(let o=r;o;o=o.enter(t,e,on.ExcludeBuffers))o.type.isTop&&(r=o);return r}class F1 extends ua{constructor(t,e,n){super(t,e,[],n),this.parser=e}static define(t){let e=function D$(i){return Ee.define({combine:i?t=>t.concat(i):void 0})}(t.languageData);return new F1(e,t.parser.configure({props:[_f.add(n=>n.isTop?e:void 0)]}),t.name)}configure(t,e){return new F1(this.data,this.parser.configure(t),e||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function zn(i){let t=i.field(ua.state,!1);return t?t.tree:sn.empty}class zbe{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let n=this.cursorPos-this.string.length;return t<n||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-n,e-n)}}let ky=null;class ug{constructor(t,e,n=[],r,o,s,a,l){this.parser=t,this.state=e,this.fragments=n,this.tree=r,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,e,n){return new ug(t,e,[],sn.empty,0,n,[],null)}startParse(){return this.parser.startParse(new zbe(this.state.doc),this.fragments)}work(t,e){return null!=e&&e>=this.state.doc.length&&(e=void 0),this.tree!=sn.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if("number"==typeof t){let r=Date.now()+t;t=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),null!=e&&(null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let r=this.parse.advance();if(r){if(this.fragments=this.withoutTempSkipped(nd.addTree(r,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(n=this.parse.stoppedAt)&&void 0!==n?n:this.state.doc.length,this.tree=r,this.parse=null,!(this.treeLen<(e??this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(nd.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=ky;ky=this;try{return t()}finally{ky=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=E$(t,e.from,e.to);return t}changes(t,e){let{fragments:n,tree:r,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!t.empty){let l=[];if(t.iterChangedRanges((c,u,f,p)=>l.push({fromA:c,toA:u,fromB:f,toB:p})),n=nd.applyChanges(n,l),r=sn.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=t.mapPos(c.from,1),f=t.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new ug(this.parser,e,n,r,o,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:r,to:o}=this.skipped[n];r<t.to&&o>t.from&&(this.fragments=E$(this.fragments,r,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends u${createParse(e,n,r){let o=r[0].from,s=r[r.length-1].to;return{parsedPos:o,advance(){let l=ky;if(l){for(let c of r)l.tempSkipped.push(c);t&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,t]):t)}return this.parsedPos=s,new sn(Io.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&0==e[0].from&&e[0].to>=t}static get(){return ky}}function E$(i,t,e){return nd.applyChanges(i,[{fromA:t,toA:e,fromB:t,toB:e}])}class hg{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),n=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,n)||e.takeTree(),new hg(e)}static init(t){let e=Math.min(3e3,t.doc.length),n=ug.create(t.facet(Su).parser,t,{from:0,to:e});return n.work(20,e)||n.takeTree(),new hg(n)}}ua.state=Hn.define({create:hg.init,update(i,t){for(let e of t.effects)if(e.is(ua.setState))return e.value;return t.startState.facet(Su)!=t.state.facet(Su)?hg.init(t.state):i.apply(t)}});let S$=i=>{let t=setTimeout(()=>i(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(S$=i=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(i,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const FP=typeof navigator<"u"&&null!==(PP=navigator.scheduling)&&void 0!==PP&&PP.isInputPending?()=>navigator.scheduling.isInputPending():null,M$=rn.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(ua.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(ua.state);(e.tree!=e.context.tree||!e.context.isDone(t.doc.length))&&(this.working=S$(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:r}}=this.view,o=n.field(ua.state);if(o.tree==o.context.tree&&o.context.isDone(r+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!FP?Math.max(25,t.timeRemaining()-5):1e9),a=o.context.treeLen<r&&n.doc.length>r+1e3,l=o.context.work(()=>FP&&FP()||Date.now()>s,r+(a?0:1e5));this.chunkBudget-=Date.now()-e,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:ua.setState.of(new hg(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>ca(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Su=Ee.define({combine:i=>i.length?i[0]:null,enables:i=>[ua.state,M$,ft.contentAttributes.compute([i],t=>{let e=t.facet(i);return e&&e.name?{"data-language":e.name}:{}})]});class Ube{constructor(t,e=[]){this.language=t,this.support=e,this.extension=[t,e]}}const T$=Ee.define(),NP=Ee.define({combine:i=>{if(!i.length)return"  ";let t=i[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(i[0]));return t}});function bf(i){let t=i.facet(NP);return 9==t.charCodeAt(0)?i.tabSize*t.length:t.length}function fg(i,t){let e="",n=i.tabSize,r=i.facet(NP)[0];if("\t"==r){for(;t>=n;)e+="\t",t-=n;r=" "}for(let o=0;o<t;o++)e+=r;return e}function N1(i,t){i instanceof Ss&&(i=new Ey(i));for(let n of i.state.facet(T$)){let r=n(i,t);if(void 0!==r)return r}let e=zn(i.state);return e.length>=t?function Wbe(i,t,e){let n=t.resolveStack(e),r=n.node.enterUnfinishedNodesBefore(e);if(r!=n.node){let o=[];for(let s=r;s!=n.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)n={node:o[s],next:n}}return O$(n,i,e)}(i,e,t):null}class Ey{constructor(t,e={}){this.state=t,this.options=e,this.unit=bf(t)}lineAt(t,e=1){let n=this.state.doc.lineAt(t),{simulateBreak:r,simulateDoubleBreak:o}=this.options;return null!=r&&r>=n.from&&r<=n.to?o&&r==t?{text:"",from:t}:(e<0?r<t:r<=t)?{text:n.text.slice(r-n.from),from:r}:{text:n.text.slice(0,r-n.from),from:n.from}:n}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:n,from:r}=this.lineAt(t,e);return n.slice(t-r,Math.min(n.length,t+100-r))}column(t,e=1){let{text:n,from:r}=this.lineAt(t,e),o=this.countColumn(n,t-r),s=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return s>-1&&(o+=s-this.countColumn(n,n.search(/\S|$/))),o}countColumn(t,e=t.length){return ng(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:n,from:r}=this.lineAt(t,e),o=this.options.overrideIndentation;if(o){let s=o(r);if(s>-1)return s}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const I$=new Et;function O$(i,t,e){for(let n=i;n;n=n.next){let r=$be(n.node);if(r)return r(LP.create(t,e,n))}return 0}function $be(i){let t=i.type.prop(I$);if(t)return t;let n,e=i.firstChild;if(e&&(n=e.type.prop(Et.closedBy))){let r=i.lastChild,o=r&&n.indexOf(r.name)>-1;return s=>function R$(i,t,e,n,r){let o=i.textAfter,s=o.match(/^\s*/)[0].length,a=n&&o.slice(s,s+n.length)==n||r==i.pos+s,l=t?function Kbe(i){let t=i.node,e=t.childAfter(t.from),n=t.lastChild;if(!e)return null;let r=i.options.simulateBreak,o=i.state.doc.lineAt(e.from),s=null==r||r<=o.from?o.to:Math.min(o.to,r);for(let a=e.to;;){let l=t.childAfter(a);if(!l||l==n)return null;if(!l.type.isSkipped)return l.from<s?e:null;a=l.to}}(i):null;return l?i.column(a?l.from:l.to):i.baseIndent+(a?0:i.unit*e)}(s,!0,1,void 0,o&&!function jbe(i){return i.pos==i.options.simulateBreak&&i.options.simulateDoubleBreak}(s)?r.from:void 0)}return null==i.parent?Gbe:null}function Gbe(){return 0}class LP extends Ey{constructor(t,e,n){super(t.state,t.options),this.base=t,this.pos=e,this.context=n}get node(){return this.context.node}static create(t,e,n){return new LP(t,e,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let n=t.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(qbe(n,t))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){return O$(this.context.next,this.base,this.pos)}}function qbe(i,t){for(let e=t;e;e=e.parent)if(i==e)return!0;return!1}function P$({except:i,units:t=1}={}){return e=>{let n=i&&i.test(e.textAfter);return e.baseIndent+(n?0:t*e.unit)}}const Xbe=Ee.define(),F$=new Et;function eve(i){let t=i.lastChild;return t&&t.to==i.to&&t.type.isError}function Sy(i,t,e){for(let n of i.facet(Xbe)){let r=n(i,t,e);if(r)return r}return function Qbe(i,t,e){let n=zn(i);if(n.length<e)return null;let o=null;for(let s=n.resolveStack(e,1);s;s=s.next){let a=s.node;if(a.to<=e||a.from>e)continue;if(o&&a.from<t)break;let l=a.type.prop(F$);if(l&&(a.to<n.length-50||n.length==i.doc.length||!eve(a))){let c=l(a,i);c&&c.from<=e&&c.from>=t&&c.to>e&&(o=c)}}return o}(i,t,e)}function N$(i,t){let e=t.mapPos(i.from,1),n=t.mapPos(i.to,-1);return e>=n?void 0:{from:e,to:n}}const My=Bt.define({map:N$}),mg=Bt.define({map:N$});function BP(i){let t=[];for(let{head:e}of i.state.selection.ranges)t.some(n=>n.from<=e&&n.to>=e)||t.push(i.lineBlockAt(e));return t}const Mu=Hn.define({create:()=>Ne.none,update(i,t){i=i.map(t.changes);for(let e of t.effects)if(e.is(My)&&!tve(i,e.value.from,e.value.to)){let{preparePlaceholder:n}=t.state.facet(HP),r=n?Ne.replace({widget:new cve(n(t.state,e.value))}):V$;i=i.update({add:[r.range(e.value.from,e.value.to)]})}else e.is(mg)&&(i=i.update({filter:(n,r)=>e.value.from!=n||e.value.to!=r,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:n}=t.selection.main;i.between(n,n,(r,o)=>{r<n&&o>n&&(e=!0)}),e&&(i=i.update({filterFrom:n,filterTo:n,filter:(r,o)=>o<=n||r>=n}))}return i},provide:i=>ft.decorations.from(i),toJSON(i,t){let e=[];return i.between(0,t.doc.length,(n,r)=>{e.push(n,r)}),e},fromJSON(i){if(!Array.isArray(i)||i.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<i.length;){let n=i[e++],r=i[e++];if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid JSON for fold state");t.push(V$.range(n,r))}return Ne.set(t,!0)}});function Ay(i,t,e){var n;let r=null;return null===(n=i.field(Mu,!1))||void 0===n||n.between(t,e,(o,s)=>{(!r||r.from>o)&&(r={from:o,to:s})}),r}function tve(i,t,e){let n=!1;return i.between(t,t,(r,o)=>{r==t&&o==e&&(n=!0)}),n}function VP(i,t){return i.field(Mu,!1)?t:t.concat(Bt.appendConfig.of(L$()))}function L1(i,t,e=!0){let n=i.state.doc.lineAt(t.from).number,r=i.state.doc.lineAt(t.to).number;return ft.announce.of(`${i.state.phrase(e?"Folded lines":"Unfolded lines")} ${n} ${i.state.phrase("to")} ${r}.`)}const ave=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:i=>{for(let t of BP(i)){let e=Sy(i.state,t.from,t.to);if(e)return i.dispatch({effects:VP(i.state,[My.of(e),L1(i,e)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:i=>{if(!i.state.field(Mu,!1))return!1;let t=[];for(let e of BP(i)){let n=Ay(i.state,e.from,e.to);n&&t.push(mg.of(n),L1(i,n,!1))}return t.length&&i.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:i=>{let{state:t}=i,e=[];for(let n=0;n<t.doc.length;){let r=i.lineBlockAt(n),o=Sy(t,r.from,r.to);o&&e.push(My.of(o)),n=(o?i.lineBlockAt(o.to):r).to+1}return e.length&&i.dispatch({effects:VP(i.state,e)}),!!e.length}},{key:"Ctrl-Alt-]",run:i=>{let t=i.state.field(Mu,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,i.state.doc.length,(n,r)=>{e.push(mg.of({from:n,to:r}))}),i.dispatch({effects:e}),!0}}],lve={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},HP=Ee.define({combine:i=>$a(i,lve)});function L$(i){let t=[Mu,hve];return i&&t.push(HP.of(i)),t}function B$(i,t){let{state:e}=i,n=e.facet(HP),r=s=>{let a=i.lineBlockAt(i.posAtDOM(s.target)),l=Ay(i.state,a.from,a.to);l&&i.dispatch({effects:mg.of(l)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(i,r,t);let o=document.createElement("span");return o.textContent=n.placeholderText,o.setAttribute("aria-label",e.phrase("folded code")),o.title=e.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=r,o}const V$=Ne.replace({widget:new class extends id{toDOM(i){return B$(i,null)}}});class cve extends id{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return B$(t,this.value)}}const dve={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class zP extends Hl{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function uve(i={}){let t=Object.assign(Object.assign({},dve),i),e=new zP(t,!0),n=new zP(t,!1),r=rn.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Su)!=s.state.facet(Su)||s.startState.field(Mu,!1)!=s.state.field(Mu,!1)||zn(s.startState)!=zn(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Zc;for(let l of s.viewportLineBlocks){let c=Ay(s.state,l.from,l.to)?n:Sy(s.state,l.from,l.to)?e:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=t;return[r,Yj({class:"cm-foldGutter",markers(s){var a;return(null===(a=s.plugin(r))||void 0===a?void 0:a.markers)||Yi.empty},initialSpacer:()=>new zP(t,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=Ay(s.state,a.from,a.to);if(c)return s.dispatch({effects:mg.of(c)}),!0;let u=Sy(s.state,a.from,a.to);return!!u&&(s.dispatch({effects:My.of(u)}),!0)}})}),L$()]}const hve=ft.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class B1{constructor(t,e){let n;function r(a){let l=_u.newName();return(n||(n=Object.create(null)))["."+l]=a,l}this.specs=t;const o="string"==typeof e.all?e.all:e.all?r(e.all):void 0,s=e.scope;this.scope=s instanceof ua?a=>a.prop(_f)==s.data:s?a=>a==s:void 0,this.style=y$(t.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=n?new _u(n):null,this.themeType=e.themeType}static define(t,e){return new B1(t,e||{})}}const UP=Ee.define(),H$=Ee.define({combine:i=>i.length?[i[0]]:null});function V1(i){let t=i.facet(UP);return t.length?t:i.facet(H$)}function fve(i,t){let n,e=[pve];return i instanceof B1&&(i.module&&e.push(ft.styleModule.of(i.module)),n=i.themeType),e.push(t?.fallback?H$.of(i):n?UP.computeN([ft.darkTheme],r=>r.facet(ft.darkTheme)==("dark"==n)?[i]:[]):UP.of(i)),e}class mve{constructor(t){this.markCache=Object.create(null),this.tree=zn(t.state),this.decorations=this.buildDeco(t,V1(t.state))}update(t){let e=zn(t.state),n=V1(t.state),r=n!=V1(t.startState);e.length<t.view.viewport.to&&!r&&e.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(e!=this.tree||t.viewportChanged||r)&&(this.tree=e,this.decorations=this.buildDeco(t.view,n))}buildDeco(t,e){if(!e||!this.tree.length)return Ne.none;let n=new Zc;for(let{from:r,to:o}of t.visibleRanges)w$(this.tree,e,(s,a,l)=>{n.add(s,a,this.markCache[l]||(this.markCache[l]=Ne.mark({class:l})))},r,o);return n.finish()}}const pve=gu.high(rn.fromClass(mve,{decorations:i=>i.decorations})),gve=B1.define([{tag:ge.meta,color:"#404740"},{tag:ge.link,textDecoration:"underline"},{tag:ge.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ge.emphasis,fontStyle:"italic"},{tag:ge.strong,fontWeight:"bold"},{tag:ge.strikethrough,textDecoration:"line-through"},{tag:ge.keyword,color:"#708"},{tag:[ge.atom,ge.bool,ge.url,ge.contentSeparator,ge.labelName],color:"#219"},{tag:[ge.literal,ge.inserted],color:"#164"},{tag:[ge.string,ge.deleted],color:"#a11"},{tag:[ge.regexp,ge.escape,ge.special(ge.string)],color:"#e40"},{tag:ge.definition(ge.variableName),color:"#00f"},{tag:ge.local(ge.variableName),color:"#30a"},{tag:[ge.typeName,ge.namespace],color:"#085"},{tag:ge.className,color:"#167"},{tag:[ge.special(ge.variableName),ge.macroName],color:"#256"},{tag:ge.definition(ge.propertyName),color:"#00c"},{tag:ge.comment,color:"#940"},{tag:ge.invalid,color:"#f00"}]),_ve=ft.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),z$=1e4,U$="()[]{}",W$=Ee.define({combine:i=>$a(i,{afterCursor:!0,brackets:U$,maxScanDistance:z$,renderMatch:yve})}),bve=Ne.mark({class:"cm-matchingBracket"}),vve=Ne.mark({class:"cm-nonmatchingBracket"});function yve(i){let t=[],e=i.matched?bve:vve;return t.push(e.range(i.start.from,i.start.to)),i.end&&t.push(e.range(i.end.from,i.end.to)),t}const wve=[Hn.define({create:()=>Ne.none,update(i,t){if(!t.docChanged&&!t.selection)return i;let e=[],n=t.state.facet(W$);for(let r of t.state.selection.ranges){if(!r.empty)continue;let o=Gl(t.state,r.head,-1,n)||r.head>0&&Gl(t.state,r.head-1,1,n)||n.afterCursor&&(Gl(t.state,r.head,1,n)||r.head<t.state.doc.length&&Gl(t.state,r.head+1,-1,n));o&&(e=e.concat(n.renderMatch(o,t.state)))}return Ne.set(e,!0)},provide:i=>ft.decorations.from(i)}),_ve];function xve(i={}){return[W$.of(i),wve]}const Cve=new Et;function WP(i,t,e){let n=i.prop(t<0?Et.openedBy:Et.closedBy);if(n)return n;if(1==i.name.length){let r=e.indexOf(i.name);if(r>-1&&r%2==(t<0?1:0))return[e[r+t]]}return null}function jP(i){let t=i.type.prop(Cve);return t?t(i.node):i}function Gl(i,t,e,n={}){let r=n.maxScanDistance||z$,o=n.brackets||U$,s=zn(i),a=s.resolveInner(t,e);for(let l=a;l;l=l.parent){let c=WP(l.type,e,o);if(c&&l.from<l.to){let u=jP(l);if(u&&(e>0?t>=u.from&&t<u.to:t>u.from&&t<=u.to))return Dve(0,0,e,l,u,c,o)}}return function kve(i,t,e,n,r,o,s){let a=e<0?i.sliceDoc(t-1,t):i.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=e>0)return null;let c={from:e<0?t-1:t,to:e>0?t+1:t},u=i.doc.iterRange(t,e>0?i.doc.length:0),f=0;for(let p=0;!u.next().done&&p<=o;){let g=u.value;e<0&&(p+=g.length);let b=t+p*e;for(let v=e>0?0:g.length-1,D=e>0?g.length:-1;v!=D;v+=e){let S=s.indexOf(g[v]);if(!(S<0||n.resolveInner(b+v,1).type!=r))if(S%2==0==e>0)f++;else{if(1==f)return{start:c,end:{from:b+v,to:b+v+1},matched:S>>1==l>>1};f--}}e>0&&(p+=g.length)}return u.done?{start:c,matched:!1}:null}(i,t,e,s,a.type,r,o)}function Dve(i,t,e,n,r,o,s){let a=n.parent,l={from:r.from,to:r.to},c=0,u=a?.cursor();if(u&&(e<0?u.childBefore(n.from):u.childAfter(n.to)))do{if(e<0?u.to<=n.from:u.from>=n.to){if(0==c&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=jP(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}if(WP(u.type,e,s))c++;else if(WP(u.type,-e,s)){if(0==c){let f=jP(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}}while(e<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}const GP=Object.create(null),Ty=[Io.none],Y$=[],X$=Object.create(null),Z$=Object.create(null);for(let[i,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Z$[i]=e9(GP,t);function qP(i,t){Y$.indexOf(i)>-1||(Y$.push(i),console.warn(t))}function e9(i,t){let e=[];for(let a of t.split(" ")){let l=[];for(let c of a.split(".")){let u=i[c]||ge[c];u?"function"==typeof u?l.length?l=l.map(u):qP(c,`Modifier ${c} used at start of tag`):l.length?qP(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:qP(c,`Unknown highlighting tag ${c}`)}for(let c of l)e.push(c)}if(!e.length)return 0;let n=t.replace(/ /g,"_"),r=n+" "+e.map(a=>a.id),o=X$[r];if(o)return o.id;let s=X$[r]=Io.define({id:Ty.length,name:n,props:[b$({[n]:e})]});return Ty.push(s),s.id}function JP(i,t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=i(t,e);return!!r&&(n(e.update(r)),!0)}}const Bve=JP(Wve,0),Vve=JP(r9,0),Hve=JP((i,t)=>r9(i,t,function Uve(i){let t=[];for(let e of i.selection.ranges){let n=i.doc.lineAt(e.from),r=e.to<=n.to?n:i.doc.lineAt(e.to),o=t.length-1;o>=0&&t[o].to>n.from?t[o].to=r.to:t.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:r.to})}return t}(t)),0);function YP(i,t){let e=i.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const Iy=50;function r9(i,t,e=t.selection.ranges){let n=e.map(o=>YP(t,o.from).block);if(!n.every(o=>o))return null;let r=e.map((o,s)=>function zve(i,{open:t,close:e},n,r){let u,f,o=i.sliceDoc(n-Iy,n),s=i.sliceDoc(r,r+Iy),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-t.length,c)==t&&s.slice(l,l+e.length)==e)return{open:{pos:n-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};r-n<=2*Iy?u=f=i.sliceDoc(n,r):(u=i.sliceDoc(n,n+Iy),f=i.sliceDoc(r-Iy,r));let p=/^\s*/.exec(u)[0].length,g=/\s*$/.exec(f)[0].length,b=f.length-g-e.length;return u.slice(p,p+t.length)==t&&f.slice(b,b+e.length)==e?{open:{pos:n+p+t.length,margin:/\s/.test(u.charAt(p+t.length))?1:0},close:{pos:r-g-e.length,margin:/\s/.test(f.charAt(b-1))?1:0}}:null}(t,n[s],o.from,o.to));if(2!=i&&!r.every(o=>o))return{changes:t.changes(e.map((o,s)=>r[s]?[]:[{from:o.from,insert:n[s].open+" "},{from:o.to,insert:" "+n[s].close}]))};if(1!=i&&r.some(o=>o)){let o=[];for(let a,s=0;s<r.length;s++)if(a=r[s]){let l=n[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function Wve(i,t,e=t.selection.ranges){let n=[],r=-1;for(let{from:o,to:s}of e){let a=n.length,l=1e9,c=YP(t,o).line;if(c){for(let u=o;u<=s;){let f=t.doc.lineAt(u);if(f.from>r&&(o==s||s>f.from)){r=f.from;let p=/^\s*/.exec(f.text)[0].length,g=p==f.length,b=f.text.slice(p,p+c.length)==c?p:-1;p<f.text.length&&p<l&&(l=p),n.push({line:f,comment:b,token:c,indent:p,empty:g,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<n.length;u++)n[u].indent<n[u].line.text.length&&(n[u].indent=l);n.length==a+1&&(n[a].single=!0)}}if(2!=i&&n.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of n)(f||!u)&&o.push({from:a.from+c,insert:l+" "});let s=t.changes(o);return{changes:s,selection:t.selection.map(s,1)}}if(1!=i&&n.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of n)if(a>=0){let c=s.from+a,u=c+l.length;" "==s.text[u-s.from]&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const XP=Xc.define(),jve=Xc.define(),$ve=Ee.define(),o9=Ee.define({combine:i=>$a(i,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(n,r)=>t(n,r)||e(n,r)})}),ZP=Hn.define({create:()=>t2.empty,update(i,t){let e=t.state.facet(o9),n=t.annotation(XP);if(n){let l=Zo.fromTransaction(t,n.selection),c=n.side,u=0==c?i.undone:i.done;return u=l?z1(u,u.length,e.minDepth,l):l9(u,t.startState.selection),new t2(0==c?n.rest:u,0==c?u:n.rest)}let r=t.annotation(jve);if(("full"==r||"before"==r)&&(i=i.isolate()),!1===t.annotation(Ll.addToHistory))return t.changes.empty?i:i.addMapping(t.changes.desc);let o=Zo.fromTransaction(t),s=t.annotation(Ll.time),a=t.annotation(Ll.userEvent);return o?i=i.addChanges(o,s,a,e,t):t.selection&&(i=i.addSelection(t.startState.selection,s,a,e.newGroupDelay)),("full"==r||"after"==r)&&(i=i.isolate()),i},toJSON:i=>({done:i.done.map(t=>t.toJSON()),undone:i.undone.map(t=>t.toJSON())}),fromJSON:i=>new t2(i.done.map(Zo.fromJSON),i.undone.map(Zo.fromJSON))});function Gve(i={}){return[ZP,o9.of(i),ft.domEventHandlers({beforeinput(t,e){let n="historyUndo"==t.inputType?s9:"historyRedo"==t.inputType?QP:null;return!!n&&(t.preventDefault(),n(e))}})]}function H1(i,t){return function({state:e,dispatch:n}){if(!t&&e.readOnly)return!1;let r=e.field(ZP,!1);if(!r)return!1;let o=r.pop(i,e,t);return!!o&&(n(o),!0)}}const s9=H1(0,!1),QP=H1(1,!1),qve=H1(0,!0),Kve=H1(1,!0);class Zo{constructor(t,e,n,r,o){this.changes=t,this.effects=e,this.mapped=n,this.startSelection=r,this.selectionsAfter=o}setSelAfter(t){return new Zo(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,n;return{changes:null===(t=this.changes)||void 0===t?void 0:t.toJSON(),mapped:null===(e=this.mapped)||void 0===e?void 0:e.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(t){return new Zo(t.changes&&or.fromJSON(t.changes),[],t.mapped&&Nl.fromJSON(t.mapped),t.startSelection&&ee.fromJSON(t.startSelection),t.selectionsAfter.map(ee.fromJSON))}static fromTransaction(t,e){let n=ha;for(let r of t.startState.facet($ve)){let o=r(t);o.length&&(n=n.concat(o))}return!n.length&&t.changes.empty?null:new Zo(t.changes.invert(t.startState.doc),n,void 0,e||t.startState.selection,ha)}static selection(t){return new Zo(void 0,ha,void 0,void 0,t)}}function z1(i,t,e,n){let o=i.slice(t+1>e+20?t-e-1:0,t);return o.push(n),o}function a9(i,t){return i.length?t.length?i.concat(t):i:t}const ha=[],Xve=200;function l9(i,t){if(i.length){let e=i[i.length-1],n=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-Xve));return n.length&&n[n.length-1].eq(t)?i:(n.push(t),z1(i,i.length-1,1e9,e.setSelAfter(n)))}return[Zo.selection([t])]}function Zve(i){let t=i[i.length-1],e=i.slice();return e[i.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function e2(i,t){if(!i.length)return i;let e=i.length,n=ha;for(;e;){let r=Qve(i[e-1],t,n);if(r.changes&&!r.changes.empty||r.effects.length){let o=i.slice(0,e);return o[e-1]=r,o}t=r.mapped,e--,n=r.selectionsAfter}return n.length?[Zo.selection(n)]:ha}function Qve(i,t,e){let n=a9(i.selectionsAfter.length?i.selectionsAfter.map(a=>a.map(t)):ha,e);if(!i.changes)return Zo.selection(n);let r=i.changes.map(t),o=t.mapDesc(i.changes,!0),s=i.mapped?i.mapped.composeDesc(o):o;return new Zo(r,Bt.mapEffects(i.effects,t),s,i.startSelection.map(o),n)}const eye=/^(input\.type|delete)($|\.)/;let t2=(()=>{class i{constructor(e,n,r=0,o=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=o}isolate(){return this.prevTime?new i(this.done,this.undone):this}addChanges(e,n,r,o,s){let a=this.done,l=a[a.length-1];return a=l&&l.changes&&!l.changes.empty&&e.changes&&(!r||eye.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<o.newGroupDelay&&o.joinToEvent(s,function Jve(i,t){let e=[],n=!1;return i.iterChangedRanges((r,o)=>e.push(r,o)),t.iterChangedRanges((r,o,s,a)=>{for(let l=0;l<e.length;){let c=e[l++],u=e[l++];a>=c&&s<=u&&(n=!0)}}),n}(l.changes,e.changes))||"input.type.compose"==r)?z1(a,a.length-1,o.minDepth,new Zo(e.changes.compose(l.changes),a9(e.effects,l.effects),l.mapped,l.startSelection,ha)):z1(a,a.length,o.minDepth,e),new i(a,ha,n,r)}addSelection(e,n,r,o){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:ha;return s.length>0&&n-this.prevTime<o&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function Yve(i,t){return i.ranges.length==t.ranges.length&&0===i.ranges.filter((e,n)=>e.empty!=t.ranges[n].empty).length}(s[s.length-1],e)?this:new i(l9(this.done,e),this.undone,n,r)}addMapping(e){return new i(e2(this.done,e),e2(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let o=0==e?this.done:this.undone;if(0==o.length)return null;let s=o[o.length-1],a=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:XP.of({side:e,rest:Zve(o),selection:a}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=1==o.length?ha:o.slice(0,o.length-1);return s.mapped&&(l=e2(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:XP.of({side:e,rest:l,selection:a}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}return i.empty=new i(ha,ha),i})();const tye=[{key:"Mod-z",run:s9,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:QP,preventDefault:!0},{linux:"Ctrl-Shift-z",run:QP,preventDefault:!0},{key:"Mod-u",run:qve,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Kve,preventDefault:!0}];function pg(i,t){return ee.create(i.ranges.map(t),i.mainIndex)}function ql(i,t){return i.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function fa({state:i,dispatch:t},e){let n=pg(i.selection,e);return!n.eq(i.selection,!0)&&(t(ql(i,n)),!0)}function Oy(i,t){return ee.cursor(t?i.to:i.from)}function U1(i,t){return fa(i,e=>e.empty?i.moveByChar(e,t):Oy(e,t))}function oo(i){return i.textDirectionAt(i.state.selection.main.head)==Si.LTR}const c9=i=>U1(i,!oo(i)),d9=i=>U1(i,oo(i));function W1(i,t){return fa(i,e=>e.empty?i.moveByGroup(e,t):Oy(e,t))}function rye(i,t,e){if(t.type.prop(e))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(i.sliceDoc(t.from,t.to)))||t.firstChild}function j1(i,t,e){let s,a,n=zn(i).resolveInner(t.head),r=e?Et.closedBy:Et.openedBy;for(let l=t.head;;){let c=e?n.childAfter(l):n.childBefore(l);if(!c)break;rye(i,c,r)?n=c:l=e?c.to:c.from}return a=n.type.prop(r)&&(s=e?Gl(i,n.from,1):Gl(i,n.to,-1))&&s.matched?e?s.end.to:s.end.from:e?n.to:n.from,ee.cursor(a,e?-1:1)}function m9(i,t){return fa(i,e=>{if(!e.empty)return Oy(e,t);let n=i.moveVertically(e,t);return n.head!=e.head?n:i.moveToLineBoundary(e,t)})}typeof Intl<"u"&&Intl;const p9=i=>m9(i,!1),g9=i=>m9(i,!0);function _9(i){let r,t=i.scrollDOM.clientHeight<i.scrollDOM.scrollHeight-2,e=0,n=0;if(t){for(let o of i.state.facet(ft.scrollMargins)){let s=o(i);s?.top&&(e=Math.max(s?.top,e)),s?.bottom&&(n=Math.max(s?.bottom,n))}r=i.scrollDOM.clientHeight-e-n}else r=(i.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:e,marginBottom:n,selfScroll:t,height:Math.max(i.defaultLineHeight,r-5)}}function b9(i,t){let o,e=_9(i),{state:n}=i,r=pg(n.selection,s=>s.empty?i.moveVertically(s,t,e.height):Oy(s,t));if(r.eq(n.selection))return!1;if(e.selfScroll){let s=i.coordsAtPos(n.selection.main.head),a=i.scrollDOM.getBoundingClientRect(),l=a.top+e.marginTop;s&&s.top>l&&s.bottom<a.bottom-e.marginBottom&&(o=ft.scrollIntoView(r.main.head,{y:"start",yMargin:s.top-l}))}return i.dispatch(ql(n,r),{effects:o}),!0}const v9=i=>b9(i,!1),n2=i=>b9(i,!0);function Au(i,t,e){let n=i.lineBlockAt(t.head),r=i.moveToLineBoundary(t,e);if(r.head==t.head&&r.head!=(e?n.to:n.from)&&(r=i.moveToLineBoundary(t,e,!1)),!e&&r.head==n.from&&n.length){let o=/^\s*/.exec(i.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;o&&t.head!=n.from+o&&(r=ee.cursor(n.from+o))}return r}function Is(i,t){let e=pg(i.state.selection,n=>{let r=t(n);return ee.range(n.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return!e.eq(i.state.selection)&&(i.dispatch(ql(i.state,e)),!0)}function $1(i,t){return Is(i,e=>i.moveByChar(e,t))}const w9=i=>$1(i,!oo(i)),x9=i=>$1(i,oo(i));function G1(i,t){return Is(i,e=>i.moveByGroup(e,t))}function D9(i,t){return Is(i,e=>i.moveVertically(e,t))}const k9=i=>D9(i,!1),E9=i=>D9(i,!0);function S9(i,t){return Is(i,e=>i.moveVertically(e,t,_9(i).height))}const M9=i=>S9(i,!1),A9=i=>S9(i,!0),T9=({state:i,dispatch:t})=>(t(ql(i,{anchor:0})),!0),I9=({state:i,dispatch:t})=>(t(ql(i,{anchor:i.doc.length})),!0),O9=({state:i,dispatch:t})=>(t(ql(i,{anchor:i.selection.main.anchor,head:0})),!0),R9=({state:i,dispatch:t})=>(t(ql(i,{anchor:i.selection.main.anchor,head:i.doc.length})),!0);function gg(i,t){if(i.state.readOnly)return!1;let e="delete.selection",{state:n}=i,r=n.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=t(o);l<s?(e="delete.backward",l=q1(i,l,!1)):l>s&&(e="delete.forward",l=q1(i,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=q1(i,s,!1),a=q1(i,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:ee.cursor(s,s<o.head?-1:1)}});return!r.changes.empty&&(i.dispatch(n.update(r,{scrollIntoView:!0,userEvent:e,effects:"delete.selection"==e?ft.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function q1(i,t,e){if(i instanceof ft)for(let n of i.state.facet(ft.atomicRanges).map(r=>r(i)))n.between(t,t,(r,o)=>{r<t&&o>t&&(t=e?o:r)});return t}const P9=(i,t)=>gg(i,e=>{let s,a,n=e.from,{state:r}=i,o=r.doc.lineAt(n);if(!t&&n>o.from&&n<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,n-o.from))){if("\t"==s[s.length-1])return n-1;let c=ng(s,r.tabSize)%bf(r)||bf(r);for(let u=0;u<c&&" "==s[s.length-1-u];u++)n--;a=n}else a=Lr(o.text,n-o.from,t,t)+o.from,a==n&&o.number!=(t?r.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,n-o.from))&&(a=Lr(o.text,a-o.from,!1,!1)+o.from);return a}),r2=i=>P9(i,!1),F9=i=>P9(i,!0),N9=(i,t)=>gg(i,e=>{let n=e.head,{state:r}=i,o=r.doc.lineAt(n),s=r.charCategorizer(n);for(let a=null;;){if(n==(t?o.to:o.from)){n==e.head&&o.number!=(t?r.doc.lines:1)&&(n+=t?1:-1);break}let l=Lr(o.text,n-o.from,t)+o.from,c=o.text.slice(Math.min(n,l)-o.from,Math.max(n,l)-o.from),u=s(c);if(null!=a&&u!=a)break;(" "!=c||n!=e.head)&&(a=u),n=l}return n}),L9=i=>N9(i,!1);function K1(i){let t=[],e=-1;for(let n of i.selection.ranges){let r=i.doc.lineAt(n.from),o=i.doc.lineAt(n.to);if(!n.empty&&n.to==o.from&&(o=i.doc.lineAt(n.to-1)),e>=r.number){let s=t[t.length-1];s.to=o.to,s.ranges.push(n)}else t.push({from:r.from,to:o.to,ranges:[n]});e=o.number+1}return t}function B9(i,t,e){if(i.readOnly)return!1;let n=[],r=[];for(let o of K1(i)){if(e?o.to==i.doc.length:0==o.from)continue;let s=i.doc.lineAt(e?o.to+1:o.from-1),a=s.length+1;if(e){n.push({from:o.to,to:s.to},{from:o.from,insert:s.text+i.lineBreak});for(let l of o.ranges)r.push(ee.range(Math.min(i.doc.length,l.anchor+a),Math.min(i.doc.length,l.head+a)))}else{n.push({from:s.from,to:o.from},{from:o.to,insert:i.lineBreak+s.text});for(let l of o.ranges)r.push(ee.range(l.anchor-a,l.head-a))}}return!!n.length&&(t(i.update({changes:n,scrollIntoView:!0,selection:ee.create(r,i.selection.mainIndex),userEvent:"move.line"})),!0)}function V9(i,t,e){if(i.readOnly)return!1;let n=[];for(let r of K1(i))n.push(e?{from:r.from,insert:i.doc.slice(r.from,r.to)+i.lineBreak}:{from:r.to,insert:i.lineBreak+i.doc.slice(r.from,r.to)});return t(i.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Hye=H9(!1);function H9(i){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{let{from:o,to:s}=r,a=t.doc.lineAt(o),l=!i&&o==s&&function Vye(i,t){if(/\(\)|\[\]|\{\}/.test(i.sliceDoc(t-1,t+1)))return{from:t,to:t};let o,e=zn(i).resolveInner(t),n=e.childBefore(t),r=e.childAfter(t);return n&&r&&n.to<=t&&r.from>=t&&(o=n.type.prop(Et.closedBy))&&o.indexOf(r.name)>-1&&i.doc.lineAt(n.to).from==i.doc.lineAt(r.from).from&&!/\S/.test(i.sliceDoc(n.to,r.from))?{from:n.to,to:r.from}:null}(t,o);i&&(o=s=(s<=a.to?a:t.doc.lineAt(s)).to);let c=new Ey(t,{simulateBreak:o,simulateDoubleBreak:!!l}),u=N1(c,o);for(null==u&&(u=ng(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?({from:o,to:s}=l):o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",fg(t,u)];return l&&f.push(fg(t,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:oi.of(f)},range:ee.cursor(o+1+f[1].length)}});return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function o2(i,t){let e=-1;return i.changeByRange(n=>{let r=[];for(let s=n.from;s<=n.to;){let a=i.doc.lineAt(s);a.number>e&&(n.empty||n.to>a.from)&&(t(a,r,n),e=a.number),s=a.to+1}let o=i.changes(r);return{changes:r,range:ee.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const $ye=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:i=>fa(i,t=>j1(i.state,t,!oo(i))),shift:i=>Is(i,t=>j1(i.state,t,!oo(i)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:i=>fa(i,t=>j1(i.state,t,oo(i))),shift:i=>Is(i,t=>j1(i.state,t,oo(i)))},{key:"Alt-ArrowUp",run:({state:i,dispatch:t})=>B9(i,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:i,dispatch:t})=>V9(i,t,!1)},{key:"Alt-ArrowDown",run:({state:i,dispatch:t})=>B9(i,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:i,dispatch:t})=>V9(i,t,!0)},{key:"Escape",run:({state:i,dispatch:t})=>{let e=i.selection,n=null;return e.ranges.length>1?n=ee.create([e.main]):e.main.empty||(n=ee.create([ee.cursor(e.main.head)])),!!n&&(t(ql(i,n)),!0)}},{key:"Mod-Enter",run:H9(!0)},{key:"Alt-l",mac:"Ctrl-l",run:({state:i,dispatch:t})=>{let e=K1(i).map(({from:n,to:r})=>ee.range(n,Math.min(r+1,i.doc.length)));return t(i.update({selection:ee.create(e),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:i,dispatch:t})=>{let e=pg(i.selection,n=>{var r;for(let s=zn(i).resolveStack(n.from,1);s;s=s.next){let{node:a}=s;if((a.from<n.from&&a.to>=n.to||a.to>n.to&&a.from<=n.from)&&null!==(r=a.parent)&&void 0!==r&&r.parent)return ee.range(a.to,a.from)}return n});return t(ql(i,e)),!0},preventDefault:!0},{key:"Mod-[",run:({state:i,dispatch:t})=>!i.readOnly&&(t(i.update(o2(i,(e,n)=>{let r=/^\s*/.exec(e.text)[0];if(!r)return;let o=ng(r,i.tabSize),s=0,a=fg(i,Math.max(0,o-bf(i)));for(;s<r.length&&s<a.length&&r.charCodeAt(s)==a.charCodeAt(s);)s++;n.push({from:e.from+s,to:e.from+r.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:i,dispatch:t})=>!i.readOnly&&(t(i.update(o2(i,(e,n)=>{n.push({from:e.from,insert:i.facet(NP)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=Object.create(null),n=new Ey(i,{overrideIndentation:o=>e[o]??-1}),r=o2(i,(o,s,a)=>{let l=N1(n,o.from);if(null==l)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=fg(i,l);(c!=u||a.from<o.from+c.length)&&(e[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return r.changes.empty||t(i.update(r,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:i=>{if(i.state.readOnly)return!1;let{state:t}=i,e=t.changes(K1(t).map(({from:r,to:o})=>(r>0?r--:o<t.doc.length&&o++,{from:r,to:o}))),n=pg(t.selection,r=>i.moveVertically(r,!0)).map(e);return i.dispatch({changes:e,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:i,dispatch:t})=>function y9(i,t,e){let n=!1,r=pg(i.selection,o=>{let s=Gl(i,o.head,-1)||Gl(i,o.head,1)||o.head>0&&Gl(i,o.head-1,1)||o.head<i.doc.length&&Gl(i,o.head+1,-1);if(!s||!s.end)return o;n=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return e?ee.range(o.anchor,a):ee.cursor(a)});return!!n&&(t(ql(i,r)),!0)}(i,t,!1)},{key:"Mod-/",run:i=>{let{state:t}=i,e=t.doc.lineAt(t.selection.main.from),n=YP(i.state,e.from);return n.line?Bve(i):!!n.block&&Hve(i)}},{key:"Alt-A",run:Vve}].concat([{key:"ArrowLeft",run:c9,shift:w9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:i=>W1(i,!oo(i)),shift:i=>G1(i,!oo(i)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:i=>fa(i,t=>Au(i,t,!oo(i))),shift:i=>Is(i,t=>Au(i,t,!oo(i))),preventDefault:!0},{key:"ArrowRight",run:d9,shift:x9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:i=>W1(i,oo(i)),shift:i=>G1(i,oo(i)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:i=>fa(i,t=>Au(i,t,oo(i))),shift:i=>Is(i,t=>Au(i,t,oo(i))),preventDefault:!0},{key:"ArrowUp",run:p9,shift:k9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:T9,shift:O9},{mac:"Ctrl-ArrowUp",run:v9,shift:M9},{key:"ArrowDown",run:g9,shift:E9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:I9,shift:R9},{mac:"Ctrl-ArrowDown",run:n2,shift:A9},{key:"PageUp",run:v9,shift:M9},{key:"PageDown",run:n2,shift:A9},{key:"Home",run:i=>fa(i,t=>Au(i,t,!1)),shift:i=>Is(i,t=>Au(i,t,!1)),preventDefault:!0},{key:"Mod-Home",run:T9,shift:O9},{key:"End",run:i=>fa(i,t=>Au(i,t,!0)),shift:i=>Is(i,t=>Au(i,t,!0)),preventDefault:!0},{key:"Mod-End",run:I9,shift:R9},{key:"Enter",run:Hye},{key:"Mod-a",run:({state:i,dispatch:t})=>(t(i.update({selection:{anchor:0,head:i.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:r2,shift:r2},{key:"Delete",run:F9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:L9},{key:"Mod-Delete",mac:"Alt-Delete",run:i=>N9(i,!0)},{mac:"Mod-Backspace",run:i=>gg(i,t=>{let e=i.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:i=>gg(i,t=>{let e=i.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)})}].concat([{key:"Ctrl-b",run:c9,shift:w9,preventDefault:!0},{key:"Ctrl-f",run:d9,shift:x9},{key:"Ctrl-p",run:p9,shift:k9},{key:"Ctrl-n",run:g9,shift:E9},{key:"Ctrl-a",run:i=>fa(i,t=>ee.cursor(i.lineBlockAt(t.head).from,1)),shift:i=>Is(i,t=>ee.cursor(i.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:i=>fa(i,t=>ee.cursor(i.lineBlockAt(t.head).to,-1)),shift:i=>Is(i,t=>ee.cursor(i.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:F9},{key:"Ctrl-h",run:r2},{key:"Ctrl-k",run:i=>gg(i,t=>{let e=i.lineBlockAt(t.head).to;return t.head<e?e:Math.min(i.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:L9},{key:"Ctrl-o",run:({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:oi.of(["",""])},range:ee.cursor(n.from)}));return t(i.update(e,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:i,dispatch:t})=>{if(i.readOnly)return!1;let e=i.changeByRange(n=>{if(!n.empty||0==n.from||n.from==i.doc.length)return{range:n};let r=n.from,o=i.doc.lineAt(r),s=r==o.from?r-1:Lr(o.text,r-o.from,!1)+o.from,a=r==o.to?r+1:Lr(o.text,r-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:i.doc.slice(r,a).append(i.doc.slice(s,r))},range:ee.cursor(a)}});return!e.changes.empty&&(t(i.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:n2}].map(i=>({mac:i.key,run:i.run,shift:i.shift}))));function Oi(){var i=arguments[0];"string"==typeof i&&(i=document.createElement(i));var t=1,e=arguments[1];if(e&&"object"==typeof e&&null==e.nodeType&&!Array.isArray(e)){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];"string"==typeof r?i.setAttribute(n,r):null!=r&&(i[n]=r)}t++}for(;t<arguments.length;t++)U9(i,arguments[t]);return i}function U9(i,t){if("string"==typeof t)i.appendChild(document.createTextNode(t));else if(null!=t)if(null!=t.nodeType)i.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var e=0;e<t.length;e++)U9(i,t[e])}}const W9="function"==typeof String.prototype.normalize?i=>i.normalize("NFKD"):i=>i;class _g{constructor(t,e,n=0,r=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,r),this.bufferStart=n,this.normalize=o?a=>o(W9(a)):W9,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Br(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=DR(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=la(t);let r=this.normalize(e);for(let o=0,s=n;;o++){let a=r.charCodeAt(o),l=this.match(a,s);if(o==r.length-1){if(l)return this.value=l,this;break}s==n&&o<e.length&&e.charCodeAt(o)==a&&s++}}}match(t,e){let n=null;for(let r=0;r<this.matches.length;r+=2){let o=this.matches[r],s=!1;this.query.charCodeAt(o)==t&&(o==this.query.length-1?n={from:this.matches[r+1],to:e+1}:(this.matches[r]++,s=!0)),s||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}typeof Symbol<"u"&&(_g.prototype[Symbol.iterator]=function(){return this});const j9={from:-1,to:-1,match:/.*/.exec("")},a2="gm"+(null==/x/.unicode?"":"u");class $9{constructor(t,e,n,r=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=j9,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new G9(t,e,n,r,o);this.re=new RegExp(e,a2+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=t.iter();let s=t.lineAt(r);this.curLineStart=s.from,this.matchPos=J1(t,r),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,r=n+e[0].length;if(this.matchPos=J1(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const l2=new WeakMap;class bg{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let r=l2.get(t);if(!r||r.from>=n||r.to<=e){let a=new bg(e,t.sliceString(e,n));return l2.set(t,a),a}if(r.from==e&&r.to==n)return r;let{text:o,from:s}=r;return s>e&&(o=t.sliceString(e,s)+o,s=e),r.to<n&&(o+=t.sliceString(r.to,n)),l2.set(t,new bg(s,o)),new bg(e,o.slice(e-s,n-s))}}class G9{constructor(t,e,n,r,o){this.text=t,this.to=o,this.done=!1,this.value=j9,this.matchPos=J1(t,r),this.re=new RegExp(e,a2+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=bg.get(t,r,this.chunkEnd(r+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let n=this.flat.from+e.index,r=n+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,e)))return this.value={from:n,to:r,match:e},this.matchPos=J1(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=bg.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function J1(i,t){if(t>=i.length)return t;let n,e=i.lineAt(t);for(;t<e.to&&(n=e.text.charCodeAt(t-e.from))>=56320&&n<57344;)t++;return t}function c2(i){let e=Oi("input",{class:"cm-textfield",name:"line",value:String(i.state.doc.lineAt(i.state.selection.main.head).number)});function r(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!o)return;let{state:s}=i,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,f]=o,p=u?+u.slice(1):0,g=c?+c:a.number;if(c&&f){let D=g/100;l&&(D=D*("-"==l?-1:1)+a.number/s.doc.lines),g=Math.round(s.doc.lines*D)}else c&&l&&(g=g*("-"==l?-1:1)+a.number);let b=s.doc.line(Math.max(1,Math.min(s.doc.lines,g))),v=ee.cursor(b.from+Math.max(0,Math.min(p,b.length)));i.dispatch({effects:[Y1.of(!1),ft.scrollIntoView(v.from,{y:"center"})],selection:v}),i.focus()}return{dom:Oi("form",{class:"cm-gotoLine",onkeydown:o=>{27==o.keyCode?(o.preventDefault(),i.dispatch({effects:Y1.of(!1)}),i.focus()):13==o.keyCode&&(o.preventDefault(),r())},onsubmit:o=>{o.preventDefault(),r()}},Oi("label",i.state.phrase("Go to line"),": ",e)," ",Oi("button",{class:"cm-button",type:"submit"},i.state.phrase("go")))}}typeof Symbol<"u"&&($9.prototype[Symbol.iterator]=G9.prototype[Symbol.iterator]=function(){return this});const Y1=Bt.define(),q9=Hn.define({create:()=>!0,update(i,t){for(let e of t.effects)e.is(Y1)&&(i=e.value);return i},provide:i=>yy.from(i,t=>t?c2:null)}),Kye=ft.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Jye={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},K9=Ee.define({combine:i=>$a(i,Jye,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})});function Yye(i){let t=[t0e,e0e];return i&&t.push(K9.of(i)),t}const Xye=Ne.mark({class:"cm-selectionMatch"}),Zye=Ne.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function J9(i,t,e,n){return!(0!=e&&i(t.sliceDoc(e-1,e))==Ji.Word||n!=t.doc.length&&i(t.sliceDoc(n,n+1))==Ji.Word)}const e0e=rn.fromClass(class{constructor(i){this.decorations=this.getDeco(i)}update(i){(i.selectionSet||i.docChanged||i.viewportChanged)&&(this.decorations=this.getDeco(i.view))}getDeco(i){let t=i.state.facet(K9),{state:e}=i,n=e.selection;if(n.ranges.length>1)return Ne.none;let o,r=n.main,s=null;if(r.empty){if(!t.highlightWordAroundCursor)return Ne.none;let l=e.wordAt(r.head);if(!l)return Ne.none;s=e.charCategorizer(r.head),o=e.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<t.minSelectionLength||l>200)return Ne.none;if(t.wholeWords){if(o=e.sliceDoc(r.from,r.to),s=e.charCategorizer(r.head),!J9(s,e,r.from,r.to)||!function Qye(i,t,e,n){return i(t.sliceDoc(e,e+1))==Ji.Word&&i(t.sliceDoc(n-1,n))==Ji.Word}(s,e,r.from,r.to))return Ne.none}else if(o=e.sliceDoc(r.from,r.to).trim(),!o)return Ne.none}let a=[];for(let l of i.visibleRanges){let c=new _g(e.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||J9(s,e,u,f))&&(r.empty&&u<=r.from&&f>=r.to?a.push(Zye.range(u,f)):(u>=r.to||f<=r.from)&&a.push(Xye.range(u,f)),a.length>t.maxMatches))return Ne.none}}return Ne.set(a)}},{decorations:i=>i.decorations}),t0e=ft.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),vf=Ee.define({combine:i=>$a(i,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new g0e(t),scrollToMatch:t=>ft.scrollIntoView(t)})});class Y9{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function Gye(i){try{return new RegExp(i,a2),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,n)=>"n"==n?"\n":"r"==n?"\r":"t"==n?"\t":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new l0e(this):new s0e(this)}getCursor(t,e=0,n){let r=t.doc?t:Ss.create({doc:t});return null==n&&(n=r.doc.length),this.regexp?yg(this,r,e,n):vg(this,r,e,n)}}class X9{constructor(t){this.spec=t}}function vg(i,t,e,n){return new _g(t.doc,i.unquoted,e,n,i.caseSensitive?void 0:r=>r.toLowerCase(),i.wholeWord?function o0e(i,t){return(e,n,r,o)=>((o>e||o+r.length<n)&&(o=Math.max(0,e-2),r=i.sliceString(o,Math.min(i.length,n+2))),!(t(X1(r,e-o))==Ji.Word&&t(Z1(r,e-o))==Ji.Word||t(Z1(r,n-o))==Ji.Word&&t(X1(r,n-o))==Ji.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class s0e extends X9{constructor(t){super(t)}nextMatch(t,e,n){let r=vg(this.spec,t,n,t.doc.length).nextOverlapping();return r.done&&(r=vg(this.spec,t,0,e).nextOverlapping()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=n;;){let o=Math.max(e,r-1e4-this.spec.unquoted.length),s=vg(this.spec,t,o,r),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==e)return null;r-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=vg(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let o=vg(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}function yg(i,t,e,n){return new $9(t.doc,i.search,{ignoreCase:!i.caseSensitive,test:i.wholeWord?a0e(t.charCategorizer(t.selection.main.head)):void 0},e,n)}function X1(i,t){return i.slice(Lr(i,t,!1),t)}function Z1(i,t){return i.slice(t,Lr(i,t))}function a0e(i){return(t,e,n)=>!n[0].length||(i(X1(n.input,n.index))!=Ji.Word||i(Z1(n.input,n.index))!=Ji.Word)&&(i(Z1(n.input,n.index+n[0].length))!=Ji.Word||i(X1(n.input,n.index+n[0].length))!=Ji.Word)}class l0e extends X9{nextMatch(t,e,n){let r=yg(this.spec,t,n,t.doc.length).next();return r.done&&(r=yg(this.spec,t,0,e).next()),r.done?null:r.value}prevMatchInRange(t,e,n){for(let r=1;;r++){let o=Math.max(e,n-1e4*r),s=yg(this.spec,t,o,n),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==e||a.from>o+10))return a;if(o==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e)}matchAll(t,e){let n=yg(this.spec,t,0,t.doc.length),r=[];for(;!n.next().done;){if(r.length>=e)return null;r.push(n.value)}return r}highlight(t,e,n,r){let o=yg(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));for(;!o.next().done;)r(o.value.from,o.value.to)}}const Ry=Bt.define(),d2=Bt.define(),Kl=Hn.define({create:i=>new u2(tk(i).create(),null),update(i,t){for(let e of t.effects)e.is(Ry)?i=new u2(e.value.create(),i.panel):e.is(d2)&&(i=new u2(i.query,e.value?h2:null));return i},provide:i=>yy.from(i,t=>t.panel)});class u2{constructor(t,e){this.query=t,this.panel=e}}const c0e=Ne.mark({class:"cm-searchMatch"}),d0e=Ne.mark({class:"cm-searchMatch cm-searchMatch-selected"}),u0e=rn.fromClass(class{constructor(i){this.view=i,this.decorations=this.highlight(i.state.field(Kl))}update(i){let t=i.state.field(Kl);(t!=i.startState.field(Kl)||i.docChanged||i.selectionSet||i.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:i,panel:t}){if(!t||!i.spec.valid)return Ne.none;let{view:e}=this,n=new Zc;for(let r=0,o=e.visibleRanges,s=o.length;r<s;r++){let{from:a,to:l}=o[r];for(;r<s-1&&l>o[r+1].from-500;)l=o[++r].to;i.highlight(e.state,a,l,(c,u)=>{let f=e.state.selection.ranges.some(p=>p.from==c&&p.to==u);n.add(c,u,f?d0e:c0e)})}return n.finish()}},{decorations:i=>i.decorations});function Py(i){return t=>{let e=t.state.field(Kl,!1);return e&&e.query.spec.valid?i(t,e):tG(t)}}const Q1=Py((i,{query:t})=>{let{to:e}=i.state.selection.main,n=t.nextMatch(i.state,e,e);if(!n)return!1;let r=ee.single(n.from,n.to),o=i.state.facet(vf);return i.dispatch({selection:r,effects:[f2(i,n),o.scrollToMatch(r.main,i)],userEvent:"select.search"}),eG(i),!0}),ek=Py((i,{query:t})=>{let{state:e}=i,{from:n}=e.selection.main,r=t.prevMatch(e,n,n);if(!r)return!1;let o=ee.single(r.from,r.to),s=i.state.facet(vf);return i.dispatch({selection:o,effects:[f2(i,r),s.scrollToMatch(o.main,i)],userEvent:"select.search"}),eG(i),!0}),h0e=Py((i,{query:t})=>{let e=t.matchAll(i.state,1e3);return!(!e||!e.length||(i.dispatch({selection:ee.create(e.map(n=>ee.range(n.from,n.to))),userEvent:"select.search.matches"}),0))}),Z9=Py((i,{query:t})=>{let{state:e}=i,{from:n,to:r}=e.selection.main;if(e.readOnly)return!1;let o=t.nextMatch(e,n,n);if(!o)return!1;let a,l,s=[],c=[];if(o.from==n&&o.to==r&&(l=e.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=t.nextMatch(e,o.from,o.to),c.push(ft.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(n).number)+"."))),o){let u=0==s.length||s[0].from>=o.to?0:o.to-o.from-l.length;a=ee.single(o.from-u,o.to-u),c.push(f2(i,o)),c.push(e.facet(vf).scrollToMatch(a.main,i))}return i.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),m0e=Py((i,{query:t})=>{if(i.state.readOnly)return!1;let e=t.matchAll(i.state,1e9).map(r=>{let{from:o,to:s}=r;return{from:o,to:s,insert:t.getReplacement(r)}});if(!e.length)return!1;let n=i.state.phrase("replaced $ matches",e.length)+".";return i.dispatch({changes:e,effects:ft.announce.of(n),userEvent:"input.replace.all"}),!0});function h2(i){return i.state.facet(vf).createPanel(i)}function tk(i,t){var e,n,r,o,s;let a=i.selection.main,l=a.empty||a.to>a.from+100?"":i.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=i.facet(vf);return new Y9({search:(null!==(e=t?.literal)&&void 0!==e?e:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(n=t?.caseSensitive)&&void 0!==n?n:c.caseSensitive,literal:null!==(r=t?.literal)&&void 0!==r?r:c.literal,regexp:null!==(o=t?.regexp)&&void 0!==o?o:c.regexp,wholeWord:null!==(s=t?.wholeWord)&&void 0!==s?s:c.wholeWord})}function Q9(i){let t=vy(i,h2);return t&&t.dom.querySelector("[main-field]")}function eG(i){let t=Q9(i);t&&t==i.root.activeElement&&t.select()}const tG=i=>{let t=i.state.field(Kl,!1);if(t&&t.panel){let e=Q9(i);if(e&&e!=i.root.activeElement){let n=tk(i.state,t.query.spec);n.valid&&i.dispatch({effects:Ry.of(n)}),e.focus(),e.select()}}else i.dispatch({effects:[d2.of(!0),t?Ry.of(tk(i.state,t.query.spec)):Bt.appendConfig.of(m2)]});return!0},iG=i=>{let t=i.state.field(Kl,!1);if(!t||!t.panel)return!1;let e=vy(i,h2);return e&&e.dom.contains(i.root.activeElement)&&i.focus(),i.dispatch({effects:d2.of(!1)}),!0},p0e=[{key:"Mod-f",run:tG,scope:"editor search-panel"},{key:"F3",run:Q1,shift:ek,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Q1,shift:ek,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:iG,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:i,dispatch:t})=>{let e=i.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:n,to:r}=e.main,o=[],s=0;for(let a=new _g(i.doc,i.sliceDoc(n,r));!a.next().done;){if(o.length>1e3)return!1;a.value.from==n&&(s=o.length),o.push(ee.range(a.value.from,a.value.to))}return t(i.update({selection:ee.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:i=>{let t=vy(i,c2);if(!t){let e=[Y1.of(!0)];null==i.state.field(q9,!1)&&e.push(Bt.appendConfig.of([q9,Kye])),i.dispatch({effects:e}),t=vy(i,c2)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:i,dispatch:t})=>{let{ranges:e}=i.selection;if(e.some(o=>o.from===o.to))return(({state:i,dispatch:t})=>{let{selection:e}=i,n=ee.create(e.ranges.map(r=>i.wordAt(r.head)||ee.cursor(r.head)),e.mainIndex);return!n.eq(e)&&(t(i.update({selection:n})),!0)})({state:i,dispatch:t});let n=i.sliceDoc(e[0].from,e[0].to);if(i.selection.ranges.some(o=>i.sliceDoc(o.from,o.to)!=n))return!1;let r=function n0e(i,t){let{main:e,ranges:n}=i.selection,r=i.wordAt(e.head),o=r&&r.from==e.from&&r.to==e.to;for(let s=!1,a=new _g(i.doc,t,n[n.length-1].to);;){if(a.next(),!a.done){if(s&&n.some(l=>l.from==a.value.from))continue;if(o){let l=i.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}if(s)return null;a=new _g(i.doc,t,0,Math.max(0,n[n.length-1].from-1)),s=!0}}(i,n);return!!r&&(t(i.update({selection:i.selection.addRange(ee.range(r.from,r.to),!1),effects:ft.scrollIntoView(r.to)})),!0)},preventDefault:!0}];class g0e{constructor(t){this.view=t;let e=this.query=t.state.field(Kl).query.spec;function n(r,o,s){return Oi("button",{class:"cm-button",name:r,onclick:o,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=Oi("input",{value:e.search,placeholder:Os(t,"Find"),"aria-label":Os(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Oi("input",{value:e.replace,placeholder:Os(t,"Replace"),"aria-label":Os(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Oi("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Oi("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Oi("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=Oi("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,n("next",()=>Q1(t),[Os(t,"next")]),n("prev",()=>ek(t),[Os(t,"previous")]),n("select",()=>h0e(t),[Os(t,"all")]),Oi("label",null,[this.caseField,Os(t,"match case")]),Oi("label",null,[this.reField,Os(t,"regexp")]),Oi("label",null,[this.wordField,Os(t,"by word")]),...t.state.readOnly?[]:[Oi("br"),this.replaceField,n("replace",()=>Z9(t),[Os(t,"replace")]),n("replaceAll",()=>m0e(t),[Os(t,"replace all")])],Oi("button",{name:"close",onclick:()=>iG(t),"aria-label":Os(t,"close"),type:"button"},["\xd7"])])}commit(){let t=new Y9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Ry.of(t)}))}keydown(t){!function b_e(i,t,e){return Rj(Oj(i.state),t,i,e)}(this.view,t,"search-panel")?13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?ek:Q1)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),Z9(this.view)):t.preventDefault()}update(t){for(let e of t.transactions)for(let n of e.effects)n.is(Ry)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(vf).top}}function Os(i,t){return i.state.phrase(t)}const ik=30,nk=/[\s\.,:;?!]/;function f2(i,{from:t,to:e}){let n=i.state.doc.lineAt(t),r=i.state.doc.lineAt(e).to,o=Math.max(n.from,t-ik),s=Math.min(r,e+ik),a=i.state.sliceDoc(o,s);if(o!=n.from)for(let l=0;l<ik;l++)if(!nk.test(a[l+1])&&nk.test(a[l])){a=a.slice(l);break}if(s!=r)for(let l=a.length-1;l>a.length-ik;l--)if(!nk.test(a[l-1])&&nk.test(a[l])){a=a.slice(0,l);break}return ft.announce.of(`${i.state.phrase("current match")}. ${a} ${i.state.phrase("on line")} ${n.number}.`)}const _0e=ft.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),m2=[Kl,gu.low(u0e),_0e];class nG{constructor(t,e,n){this.state=t,this.pos=e,this.explicit=n,this.abortListeners=[]}tokenBefore(t){let e=zn(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),n=Math.max(e.from,this.pos-250),r=e.text.slice(n-e.from,this.pos-e.from),o=r.search(sG(t,!1));return o<0?null:{from:n+o,to:this.pos,text:r.slice(o)}}get aborted(){return null==this.abortListeners}addEventListener(t,e){"abort"==t&&this.abortListeners&&this.abortListeners.push(e)}}function rG(i){let t=Object.keys(i).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}class oG{constructor(t,e,n,r){this.completion=t,this.source=e,this.match=n,this.score=r}}function Tu(i){return i.selection.main.from}function sG(i,t){var e;let{source:n}=i,r=t&&"^"!=n[0],o="$"!=n[n.length-1];return r||o?new RegExp(`${r?"^":""}(?:${n})${o?"$":""}`,null!==(e=i.flags)&&void 0!==e?e:i.ignoreCase?"i":""):i}const aG=Xc.define(),lG=new WeakMap;function w0e(i){if(!Array.isArray(i))return i;let t=lG.get(i);return t||lG.set(i,t=function v0e(i){let t=i.map(r=>"string"==typeof r?{label:r}:r),[e,n]=t.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:function b0e(i){let t=Object.create(null),e=Object.create(null);for(let{label:r}of i){t[r[0]]=!0;for(let o=1;o<r.length;o++)e[r[o]]=!0}let n=rG(t)+rG(e)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(t);return r=>{let o=r.matchBefore(n);return o||r.explicit?{from:o?o.from:r.pos,options:t,validFor:e}:null}}(i)),t}const rk=Bt.define(),Fy=Bt.define();class x0e{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let n=Br(t,e),r=la(n);this.chars.push(n);let o=t.slice(e,e+r),s=o.toUpperCase();this.folded.push(Br(s==o?o.toLowerCase():s,0)),e+=r}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,!0}match(t){if(0==this.pattern.length)return this.ret(-100,[]);if(t.length<this.pattern.length)return!1;let{chars:e,folded:n,any:r,precise:o,byWord:s}=this;if(1==e.length){let A=Br(t,0),L=la(A),H=L==t.length?0:-100;if(A!=e[0]){if(A!=n[0])return!1;H+=-200}return this.ret(H,[0,L])}let a=t.indexOf(this.pattern);if(0==a)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=e.length,c=0;if(a<0){for(let A=0,L=Math.min(t.length,200);A<L&&c<l;){let H=Br(t,A);(H==e[c]||H==n[c])&&(r[c++]=A),A+=la(H)}if(c<l)return!1}let u=0,f=0,p=!1,g=0,b=-1,v=-1,D=/[a-z]/.test(t),S=!0;for(let A=0,L=Math.min(t.length,200),H=0;A<L&&f<l;){let W=Br(t,A);a<0&&(u<l&&W==e[u]&&(o[u++]=A),g<l&&(W==e[g]||W==n[g]?(0==g&&(b=A),v=A+1,g++):g=0));let ie,se=W<255?W>=48&&W<=57||W>=97&&W<=122?2:W>=65&&W<=90?1:0:(ie=DR(W))!=ie.toLowerCase()?1:ie!=ie.toUpperCase()?2:0;(!A||1==se&&D||0==H&&0!=se)&&(e[f]==W||n[f]==W&&(p=!0)?s[f++]=A:s.length&&(S=!1)),H=se,A+=la(W)}return f==l&&0==s[0]&&S?this.result((p?-200:0)-100,s,t):g==l&&0==b?this.ret(-200-t.length+(v==t.length?0:-100),[0,v]):a>-1?this.ret(-700-t.length,[a,a+this.pattern.length]):g==l?this.ret(-900-t.length,[b,v]):f==l?this.result((p?-200:0)-100-700+(S?0:-1100),s,t):2!=e.length&&this.result((r[0]?-700:0)-200-1100,r,t)}result(t,e,n){let r=[],o=0;for(let s of e){let a=s+(this.astral?la(Br(n,s)):1);o&&r[o-1]==s?r[o-1]=a:(r[o++]=s,r[o++]=a)}return this.ret(t-n.length,r)}}const zr=Ee.define({combine:i=>$a(i,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:C0e,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>n=>cG(t(n),e(n)),optionClass:(t,e)=>n=>cG(t(n),e(n)),addToOptions:(t,e)=>t.concat(e)})});function cG(i,t){return i?t?i+" "+t:i:t}function C0e(i,t,e,n,r,o){let u,f,s=i.textDirection==Si.RTL,a=s,l=!1,c="top",p=t.left-r.left,g=r.right-t.right,b=n.right-n.left,v=n.bottom-n.top;if(a&&p<Math.min(b,g)?a=!1:!a&&g<Math.min(b,p)&&(a=!0),b<=(a?p:g))u=Math.max(r.top,Math.min(e.top,r.bottom-v))-t.top,f=Math.min(400,a?p:g);else{l=!0,f=Math.min(400,(s?t.right:r.right-t.left)-30);let A=r.bottom-t.bottom;A>=v||A>t.top?u=e.bottom-t.top:(c="bottom",u=t.bottom-e.top)}return{style:`${c}: ${u/((t.bottom-t.top)/o.offsetHeight)}px; max-width: ${f/((t.right-t.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function p2(i,t,e){if(i<=e)return{from:0,to:i};if(t<0&&(t=0),t<=i>>1){let r=Math.floor(t/e);return{from:r*e,to:(r+1)*e}}let n=Math.floor((i-t)/e);return{from:i-(n+1)*e,to:i-n*e}}class k0e{constructor(t,e,n){this.view=t,this.stateField=e,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let r=t.state.field(e),{options:o,selected:s}=r.open,a=t.state.facet(zr);this.optionContent=function D0e(i){let t=i.addToOptions.slice();return i.icons&&t.push({render(e){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&n.classList.add(...e.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render(e,n,r,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=e.displayLabel||e.label,l=0;for(let c=0;c<o.length;){let u=o[c++],f=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let p=s.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(a.slice(u,f))),p.className="cm-completionMatchedText",l=f}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(e){if(!e.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=e.detail,n},position:80}),t.sort((e,n)=>e.position-n.position).map(e=>e.render)}(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=p2(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=t.state.field(e).open;for(let f,u=l.target;u&&u!=this.dom;u=u.parentNode)if("LI"==u.nodeName&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length)return this.applyCompletion(t,c[+f[1]]),void l.preventDefault()}),this.dom.addEventListener("focusout",l=>{let c=t.state.field(this.stateField,!1);c&&c.tooltip&&t.state.facet(zr).closeOnBlur&&l.relatedTarget!=t.contentDOM&&t.dispatch({effects:Fy.of(null)})}),this.showOptions(o,r.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let n=t.state.field(this.stateField),r=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),n!=r){let{options:o,selected:s,disabled:a}=n.open;(!r.open||r.open.options!=o)&&(this.range=p2(o.length,s,t.state.facet(zr).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),a!=(null===(e=r.open)||void 0===e?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of e.split(" "))n&&this.dom.classList.add(n);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=p2(e.options.length,e.selected,this.view.state.facet(zr).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:n}=e.options[e.selected],{info:r}=n;if(!r)return;let o="string"==typeof r?document.createTextNode(r):r(n);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,n)}).catch(s=>ca(this.view.state,s,"completion info")):this.addInfoPane(o,n)}}addInfoPane(t,e){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=t.nodeType)n.appendChild(t),this.infoDestroy=null;else{let{dom:r,destroy:o}=t;n.appendChild(r),this.infoDestroy=o||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==t?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),e=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return e&&function S0e(i,t){let e=i.getBoundingClientRect(),n=t.getBoundingClientRect(),r=e.height/i.offsetHeight;n.top<e.top?i.scrollTop-=(e.top-n.top)/r:n.bottom>e.bottom&&(i.scrollTop+=(n.bottom-e.bottom)/r)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=t.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return r.top>Math.min(o.bottom,e.bottom)-10||r.bottom<Math.max(o.top,e.top)+10?null:this.view.state.facet(zr).positionInfo(this.view,e,r,n,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,n){const r=document.createElement("ul");r.id=e,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=n.from;s<n.to;s++){let{completion:a,match:l}=t[s],{section:c}=a;if(c){let p="string"==typeof c?c:c.name;p!=o&&(s>n.from||0==n.from)&&(o=p,"string"!=typeof c&&c.header?r.appendChild(c.header(c)):r.appendChild(document.createElement("completion-section")).textContent=p)}const u=r.appendChild(document.createElement("li"));u.id=e+"-"+s,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let p of this.optionContent){let g=p(a,this.view.state,this.view,l);g&&u.appendChild(g)}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<t.length&&r.classList.add("cm-completionListIncompleteBottom"),r}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function E0e(i,t){return e=>new k0e(e,i,t)}function dG(i){return 100*(i.boost||0)+(i.apply?10:0)+(i.info?5:0)+(i.type?1:0)}class wg{constructor(t,e,n,r,o,s){this.options=t,this.attrs=e,this.tooltip=n,this.timestamp=r,this.selected=o,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new wg(this.options,uG(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,n,r,o){let s=function M0e(i,t){let e=[],n=null,r=l=>{e.push(l);let{section:c}=l.completion;if(c){n||(n=[]);let u="string"==typeof c?c:c.name;n.some(f=>f.name==u)||n.push("string"==typeof c?{name:u}:c)}};for(let l of i)if(l.hasResult()){let c=l.result.getMatch;if(!1===l.result.filter)for(let u of l.result.options)r(new oG(u,l.source,c?c(u):[],1e9-e.length));else{let u=new x0e(t.sliceDoc(l.from,l.to));for(let f of l.result.options)if(u.match(f.label)){let p=f.displayLabel?c?c(f,u.matched):[]:u.matched;r(new oG(f,l.source,p,u.score+(f.boost||0)))}}}if(n){let l=Object.create(null),c=0,u=(f,p)=>{var g,b;return(null!==(g=f.rank)&&void 0!==g?g:1e9)-(null!==(b=p.rank)&&void 0!==b?b:1e9)||(f.name<p.name?-1:1)};for(let f of n.sort(u))c-=1e5,l[f.name]=c;for(let f of e){let{section:p}=f.completion;p&&(f.score+=l["string"==typeof p?p:p.name])}}let o=[],s=null,a=t.facet(zr).compareCompletions;for(let l of e.sort((c,u)=>u.score-c.score||a(c.completion,u.completion))){let c=l.completion;!s||s.label!=c.label||s.detail!=c.detail||null!=s.type&&null!=c.type&&s.type!=c.type||s.apply!=c.apply||s.boost!=c.boost?o.push(l):dG(l.completion)>dG(s)&&(o[o.length-1]=l),s=l.completion}return o}(t,e);if(!s.length)return r&&t.some(l=>1==l.state)?new wg(r.options,r.attrs,r.tooltip,r.timestamp,r.selected,!0):null;let a=e.facet(zr).selectOnOpen?0:-1;if(r&&r.selected!=a&&-1!=r.selected){let l=r.options[r.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new wg(s,uG(n,a),{pos:t.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:R0e,above:o.aboveCursor},r?r.timestamp:Date.now(),a,!1)}map(t){return new wg(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class ok{constructor(t,e,n){this.active=t,this.id=e,this.open=n}static start(){return new ok(I0e,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,n=e.facet(zr),o=(n.override||e.languageDataAt("autocomplete",Tu(e)).map(w0e)).map(a=>(this.active.find(c=>c.source==a)||new Qo(a,this.active.some(c=>0!=c.state)?1:0)).update(t,n));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some(a=>a.hasResult()&&t.changes.touchesRange(a.from,a.to))||!function A0e(i,t){if(i==t)return!0;for(let e=0,n=0;;){for(;e<i.length&&!i[e].hasResult;)e++;for(;n<t.length&&!t[n].hasResult;)n++;let r=e==i.length,o=n==t.length;if(r||o)return r==o;if(i[e++].result!=t[n++].result)return!1}}(o,this.active)?s=wg.build(o,e,this.id,s,n):s&&s.disabled&&!o.some(a=>1==a.state)&&(s=null),!s&&o.every(a=>1!=a.state)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Qo(a.source,0):a));for(let a of t.effects)a.is(_2)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new ok(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:T0e}}const T0e={"aria-autocomplete":"list"};function uG(i,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":i};return t>-1&&(e["aria-activedescendant"]=i+"-"+t),e}const I0e=[];function g2(i){return i.isUserEvent("input.type")?"input":i.isUserEvent("delete.backward")?"delete":null}class Qo{constructor(t,e,n=-1){this.source=t,this.state=e,this.explicitPos=n}hasResult(){return!1}update(t,e){let n=g2(t),r=this;n?r=r.handleUserEvent(t,n,e):t.docChanged?r=r.handleChange(t):t.selection&&0!=r.state&&(r=new Qo(r.source,0));for(let o of t.effects)if(o.is(rk))r=new Qo(r.source,1,o.value?Tu(t.state):-1);else if(o.is(Fy))r=new Qo(r.source,0);else if(o.is(hG))for(let s of o.value)s.source==r.source&&(r=s);return r}handleUserEvent(t,e,n){return"delete"!=e&&n.activateOnTyping?new Qo(this.source,1):this.map(t.changes)}handleChange(t){return t.changes.touchesRange(Tu(t.startState))?new Qo(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new Qo(this.source,this.state,t.mapPos(this.explicitPos))}}class xg extends Qo{constructor(t,e,n,r,o){super(t,2,e),this.result=n,this.from=r,this.to=o}hasResult(){return!0}handleUserEvent(t,e,n){var r;let o=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),a=Tu(t.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||"delete"==e&&Tu(t.startState)==this.from)return new Qo(this.source,"input"==e&&n.activateOnTyping?1:0);let c,l=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos);return function O0e(i,t,e,n){if(!i)return!1;let r=t.sliceDoc(e,n);return"function"==typeof i?i(r,e,n,t):sG(i,!0).test(r)}(this.result.validFor,t.state,o,s)?new xg(this.source,l,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new nG(t.state,a,l>=0)))?new xg(this.source,l,c,c.from,null!==(r=c.to)&&void 0!==r?r:Tu(t.state)):new Qo(this.source,1,l)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new Qo(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new xg(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}const hG=Bt.define({map:(i,t)=>i.map(e=>e.map(t))}),_2=Bt.define(),Ur=Hn.define({create:()=>ok.start(),update:(i,t)=>i.update(t),provide:i=>[w1.from(i,t=>t.tooltip),ft.contentAttributes.from(i,t=>t.attrs)]});function fG(i,t){const e=t.completion.apply||t.completion.label;let n=i.state.field(Ur).active.find(r=>r.source==t.source);return n instanceof xg&&("string"==typeof e?i.dispatch(Object.assign(Object.assign({},function y0e(i,t,e,n){let{main:r}=i.selection,o=e-r.from,s=n-r.from;return Object.assign(Object.assign({},i.changeByRange(a=>a!=r&&e!=n&&i.sliceDoc(a.from+o,a.from+s)!=i.sliceDoc(e,n)?{range:a}:{changes:{from:a.from+o,to:n==r.from?a.to:a.from+s,insert:t},range:ee.cursor(a.from+o+t.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}(i.state,e,n.from,n.to)),{annotations:aG.of(t.completion)})):e(i,t.completion,n.from,n.to),!0)}const R0e=E0e(Ur,fG);function sk(i,t="option"){return e=>{let n=e.state.field(Ur,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<e.state.facet(zr).interactionDelay)return!1;let o,r=1;"page"==t&&(o=qj(e,n.open.tooltip))&&(r=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=n.open.options,a=n.open.selected>-1?n.open.selected+r*(i?1:-1):i?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),e.dispatch({effects:_2.of(a)}),!0}}class L0e{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const H0e=rn.fromClass(class{constructor(i){this.view=i,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of i.state.field(Ur).active)1==t.state&&this.startQuery(t)}update(i){let t=i.state.field(Ur);if(!i.selectionSet&&!i.docChanged&&i.startState.field(Ur)==t)return;let e=i.transactions.some(r=>(r.selection||r.docChanged)&&!g2(r));for(let r=0;r<this.running.length;r++){let o=this.running[r];if(e||o.updates.length+i.transactions.length>50&&Date.now()-o.time>1e3){for(let s of o.context.abortListeners)try{s()}catch(a){ca(this.view.state,a)}o.context.abortListeners=null,this.running.splice(r--,1)}else o.updates.push(...i.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),i.transactions.some(r=>r.effects.some(o=>o.is(rk)))&&(this.pendingStart=!0);let n=this.pendingStart?50:i.state.facet(zr).activateOnTypingDelay;if(this.debounceUpdate=t.active.some(r=>1==r.state&&!this.running.some(o=>o.active.source==r.source))?setTimeout(()=>this.startUpdate(),n):-1,0!=this.composing)for(let r of i.transactions)"input"==g2(r)?this.composing=2:2==this.composing&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:i}=this.view,t=i.field(Ur);for(let e of t.active)1==e.state&&!this.running.some(n=>n.active.source==e.source)&&this.startQuery(e)}startQuery(i){let{state:t}=this.view,e=Tu(t),n=new nG(t,e,i.explicitPos==e),r=new L0e(i,n);this.running.push(r),Promise.resolve(i.source(n)).then(o=>{r.context.aborted||(r.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Fy.of(null)}),ca(this.view.state,o)})}scheduleAccept(){this.running.every(i=>void 0!==i.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(zr).updateSyncTime))}accept(){var i;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(zr);for(let n=0;n<this.running.length;n++){let r=this.running[n];if(void 0===r.done)continue;if(this.running.splice(n--,1),r.done){let s=new xg(r.active.source,r.active.explicitPos,r.done,r.done.from,null!==(i=r.done.to)&&void 0!==i?i:Tu(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)s=s.update(a,e);if(s.hasResult()){t.push(s);continue}}let o=this.view.state.field(Ur).active.find(s=>s.source==r.active.source);if(o&&1==o.state)if(null==r.done){let s=new Qo(r.active.source,0);for(let a of r.updates)s=s.update(a,e);1!=s.state&&t.push(s)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:hG.of(t)})}},{eventHandlers:{blur(i){let t=this.view.state.field(Ur,!1);if(t&&t.tooltip&&this.view.state.facet(zr).closeOnBlur){let e=t.open&&qj(this.view,t.open.tooltip);(!e||!e.dom.contains(i.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Fy.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:rk.of(!1)}),20),this.composing=0}}}),mG=ft.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1d465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1d436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1d461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1f511}\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ly={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},wf=Bt.define({map:(i,t)=>t.mapPos(i,-1,Ao.TrackAfter)??void 0}),w2=new class extends ff{};w2.startSide=1,w2.endSide=-1;const wG=Hn.define({create:()=>Yi.empty,update(i,t){if(i=i.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);i=i.update({filter:n=>n>=e.from&&n<=e.to})}for(let e of t.effects)e.is(wf)&&(i=i.update({add:[w2.range(e.value,e.value+1)]}));return i}}),x2="()[]{}<>";function xG(i){for(let t=0;t<8;t+=2)if(x2.charCodeAt(t)==i)return x2.charAt(t+1);return DR(i<128?i:i+1)}function CG(i,t){return i.languageDataAt("closeBrackets",t)[0]||Ly}const twe="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),iwe=ft.inputHandler.of((i,t,e,n)=>{if((twe?i.composing:i.compositionStarted)||i.state.readOnly)return!1;let r=i.state.selection.main;if(n.length>2||2==n.length&&1==la(Br(n,0))||t!=r.from||e!=r.to)return!1;let o=function rwe(i,t){let e=CG(i,i.selection.main.head),n=e.brackets||Ly.brackets;for(let r of n){let o=xG(Br(r,0));if(t==r)return o==r?lwe(i,r,n.indexOf(r+r+r)>-1,e):swe(i,r,o,e.before||Ly.before);if(t==o&&DG(i,i.selection.main.from))return awe(i,0,o)}return null}(i.state,n);return!!o&&(i.dispatch(o),!0)}),nwe=[{key:"Backspace",run:({state:i,dispatch:t})=>{if(i.readOnly)return!1;let n=CG(i,i.selection.main.head).brackets||Ly.brackets,r=null,o=i.changeByRange(s=>{if(s.empty){let a=function owe(i,t){let e=i.sliceString(t-2,t);return la(Br(e,0))==e.length?e:e.slice(1)}(i.doc,s.head);for(let l of n)if(l==a&&ak(i.doc,s.head)==xG(Br(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:ee.cursor(s.head-l.length)}}return{range:r=s}});return r||t(i.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function DG(i,t){let e=!1;return i.field(wG).between(0,i.doc.length,n=>{n==t&&(e=!0)}),e}function ak(i,t){let e=i.sliceString(t,t+2);return e.slice(0,la(Br(e,0)))}function swe(i,t,e,n){let r=null,o=i.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:e,from:s.to}],effects:wf.of(s.to+t.length),range:ee.range(s.anchor+t.length,s.head+t.length)};let a=ak(i.doc,s.head);return!a||/\s/.test(a)||n.indexOf(a)>-1?{changes:{insert:t+e,from:s.head},effects:wf.of(s.head+t.length),range:ee.cursor(s.head+t.length)}:{range:r=s}});return r?null:i.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function awe(i,t,e){let n=null,r=i.changeByRange(o=>o.empty&&ak(i.doc,o.head)==e?{changes:{from:o.head,to:o.head+e.length,insert:e},range:ee.cursor(o.head+e.length)}:n={range:o});return n?null:i.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function lwe(i,t,e,n){let r=n.stringPrefixes||Ly.stringPrefixes,o=null,s=i.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:t,from:a.to}],effects:wf.of(a.to+t.length),range:ee.range(a.anchor+t.length,a.head+t.length)};let u,l=a.head,c=ak(i.doc,l);if(c==t){if(kG(i,l))return{changes:{insert:t+t,from:l},effects:wf.of(l+t.length),range:ee.cursor(l+t.length)};if(DG(i,l)){let p=e&&i.sliceDoc(l,l+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:l,to:l+p.length,insert:p},range:ee.cursor(l+p.length)}}}else{if(e&&i.sliceDoc(l-2*t.length,l)==t+t&&(u=EG(i,l-2*t.length,r))>-1&&kG(i,u))return{changes:{insert:t+t+t+t,from:l},effects:wf.of(l+t.length),range:ee.cursor(l+t.length)};if(i.charCategorizer(l)(c)!=Ji.Word&&EG(i,l,r)>-1&&!function cwe(i,t,e,n){let r=zn(i).resolveInner(t,-1),o=n.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=i.sliceDoc(r.from,Math.min(r.to,r.from+e.length+o)),l=a.indexOf(e);if(!l||l>-1&&n.indexOf(a.slice(0,l))>-1){let u=r.firstChild;for(;u&&u.from==r.from&&u.to-u.from>e.length+l;){if(i.sliceDoc(u.to-e.length,u.to)==e)return!1;u=u.firstChild}return!0}let c=r.to==t&&r.parent;if(!c)break;r=c}return!1}(i,l,t,r))return{changes:{insert:t+t,from:l},effects:wf.of(l+t.length),range:ee.cursor(l+t.length)}}return{range:o=a}});return o?null:i.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function kG(i,t){let e=zn(i).resolveInner(t+1);return e.parent&&e.from==t}function EG(i,t,e){let n=i.charCategorizer(t);if(n(i.sliceDoc(t-1,t))!=Ji.Word)return t;for(let r of e){let o=t-r.length;if(i.sliceDoc(o,t)==r&&n(i.sliceDoc(o-1,o))!=Ji.Word)return o}return-1}function dwe(i={}){return[Ur,zr.of(i),H0e,uwe,mG]}const SG=[{key:"Ctrl-Space",run:i=>!!i.state.field(Ur,!1)&&(i.dispatch({effects:rk.of(!0)}),!0)},{key:"Escape",run:i=>{let t=i.state.field(Ur,!1);return!(!t||!t.active.some(e=>0!=e.state)||(i.dispatch({effects:Fy.of(null)}),0))}},{key:"ArrowDown",run:sk(!0)},{key:"ArrowUp",run:sk(!1)},{key:"PageDown",run:sk(!0,"page")},{key:"PageUp",run:sk(!1,"page")},{key:"Enter",run:i=>{let t=i.state.field(Ur,!1);return!(i.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<i.state.facet(zr).interactionDelay)&&fG(i,t.open.options[t.open.selected])}}],uwe=gu.highest(g1.computeN([zr],i=>i.facet(zr).defaultKeymap?[SG]:[]));class hwe{constructor(t,e,n){this.from=t,this.to=e,this.diagnostic=n}}class xf{constructor(t,e,n){this.diagnostics=t,this.panel=e,this.selected=n}static init(t,e,n){let r=t,o=n.facet(D2).markerFilter;o&&(r=o(r));let s=Ne.set(r.map(a=>a.from==a.to||a.from==a.to-1&&n.doc.lineAt(a.from).to==a.from?Ne.widget({widget:new bwe(a),diagnostic:a}).range(a.from):Ne.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new xf(s,e,Dg(s))}}function Dg(i,t=null,e=0){let n=null;return i.between(e,1e9,(r,o,{spec:s})=>{if(!t||s.diagnostic==t)return n=new hwe(r,o,s.diagnostic),!1}),n}function TG(i,t){return i.field(so,!1)?t:t.concat(Bt.appendConfig.of(zG))}const lk=Bt.define(),C2=Bt.define(),IG=Bt.define(),so=Hn.define({create:()=>new xf(Ne.none,null,null),update(i,t){if(t.docChanged){let e=i.diagnostics.map(t.changes),n=null;if(i.selected){let r=t.changes.mapPos(i.selected.from,1);n=Dg(e,i.selected.diagnostic,r)||Dg(e,null,r)}i=new xf(e,i.panel,n)}for(let e of t.effects)e.is(lk)?i=xf.init(e.value,i.panel,t.state):e.is(C2)?i=new xf(i.diagnostics,e.value?ck.open:null,i.selected):e.is(IG)&&(i=new xf(i.diagnostics,i.panel,e.value));return i},provide:i=>[yy.from(i,t=>t.panel),ft.decorations.from(i,t=>t.diagnostics)]}),fwe=Ne.mark({class:"cm-lintRange cm-lintRange-active"});function mwe(i,t,e){let{diagnostics:n}=i.state.field(so),r=[],o=2e8,s=0;n.between(t-(e<0?1:0),t+(e>0?1:0),(l,c,{spec:u})=>{t>=l&&t<=c&&(l==c||(t>l||e>0)&&(t<c||e<0))&&(r.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=i.state.facet(D2).tooltipFilter;return a&&(r=a(r)),r.length?{pos:o,end:s,above:i.state.doc.lineAt(o).to<s,create:()=>({dom:OG(i,r)})}:null}function OG(i,t){return Oi("ul",{class:"cm-tooltip-lint"},t.map(e=>NG(i,e,!1)))}const RG=i=>{let t=i.state.field(so,!1);return!(!t||!t.panel||(i.dispatch({effects:C2.of(!1)}),0))},_we=[{key:"Mod-Shift-m",run:i=>{let t=i.state.field(so,!1);(!t||!t.panel)&&i.dispatch({effects:TG(i.state,[C2.of(!0)])});let e=vy(i,ck.open);return e&&e.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:i=>{let t=i.state.field(so,!1);if(!t)return!1;let e=i.state.selection.main,n=t.diagnostics.iter(e.to+1);return!(!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==e.from&&n.to==e.to)||(i.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),0))}}],D2=Ee.define({combine:i=>Object.assign({sources:i.map(t=>t.source)},$a(i.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,e)=>t?e?n=>t(n)||e(n):t:e}))});function FG(i){let t=[];if(i)e:for(let{name:e}of i){for(let n=0;n<e.length;n++){let r=e[n];if(/[a-zA-Z]/.test(r)&&!t.some(o=>o.toLowerCase()==r.toLowerCase())){t.push(r);continue e}}t.push("")}return t}function NG(i,t,e){var n;let r=e?FG(t.actions):[];return Oi("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Oi("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(n=t.actions)||void 0===n?void 0:n.map((o,s)=>{let a=!1,l=p=>{if(p.preventDefault(),a)return;a=!0;let g=Dg(i.state.field(so).diagnostics,t);g&&o.apply(i,g.from,g.to)},{name:c}=o,u=r[s]?c.indexOf(r[s]):-1,f=u<0?c:[c.slice(0,u),Oi("u",c.slice(u,u+1)),c.slice(u+1)];return Oi("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${r[s]})"`}.`},f)}),t.source&&Oi("div",{class:"cm-diagnosticSource"},t.source))}class bwe extends id{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Oi("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class LG{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=NG(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ck{constructor(t){this.view=t,this.items=[],this.list=Oi("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r=>{if(27==r.keyCode)RG(this.view),this.view.focus();else if(38==r.keyCode||33==r.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==r.keyCode||34==r.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==r.keyCode)this.moveSelection(0);else if(35==r.keyCode)this.moveSelection(this.items.length-1);else if(13==r.keyCode)this.view.focus();else{if(!(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:o}=this.items[this.selectedIndex],s=FG(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=Dg(this.view.state.field(so).diagnostics,o);l&&o.actions[a].apply(t,l.from,l.to)}}}r.preventDefault()},onclick:r=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(r.target)&&this.moveSelection(o)}}),this.dom=Oi("div",{class:"cm-panel-lint"},this.list,Oi("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>RG(this.view)},"\xd7")),this.update()}get selectedIndex(){let t=this.view.state.field(so).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(so),n=0,r=!1,o=null;for(t.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let u,c=-1;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new LG(this.view,l.diagnostic),this.items.splice(n,0,u),r=!0):(u=this.items[c],c>n&&(this.items.splice(n,c-n),r=!0)),e&&u.diagnostic==e.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();0==this.items.length&&(this.items.push(new LG(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let t=this.list.firstChild;function e(){let n=t;t=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)e();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let n=Dg(this.view.state.field(so).diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:IG.of(n)})}static open(t){return new ck(t)}}function uk(i){return function dk(i,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(i)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${i}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const vwe=ft.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:uk("#d11")},".cm-lintRange-warning":{backgroundImage:uk("orange")},".cm-lintRange-info":{backgroundImage:uk("#999")},".cm-lintRange-hint":{backgroundImage:uk("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),zG=[so,ft.decorations.compute([so],i=>{let{selected:t,panel:e}=i.field(so);return t&&e&&t.from!=t.to?Ne.set([fwe.range(t.from,t.to)]):Ne.none}),rbe(mwe,{hideOn:function AG(i,t){let e=i.startState.doc.lineAt(t.pos);return!(!i.effects.some(n=>n.is(lk))&&!i.changes.touchesRange(e.from,e.to))}}),vwe],Ewe=(()=>[hbe(),mbe,P_e(),Gve(),uve(),D_e(),[gy,M_e],Ss.allowMultipleSelections.of(!0),Ss.transactionFilter.of(i=>{if(!i.docChanged||!i.isUserEvent("input.type")&&!i.isUserEvent("input.complete"))return i;let t=i.startState.languageDataAt("indentOnInput",i.startState.selection.main.head);if(!t.length)return i;let e=i.newDoc,{head:n}=i.newSelection.main,r=e.lineAt(n);if(n>r.from+200)return i;let o=e.sliceString(r.from,n);if(!t.some(c=>c.test(o)))return i;let{state:s}=i,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=N1(s,u.from);if(null==f)continue;let p=/^\s*/.exec(u.text)[0],g=fg(s,f);p!=g&&l.push({from:u.from,to:u.from+p.length,insert:g})}return l.length?[i,{changes:l,sequential:!0}]:i}),fve(gve,{fallback:!0}),xve(),[iwe,wG],dwe(),q_e(),Y_e(),U_e,Yye(),g1.of([...nwe,...$ye,...p0e,...tye,...ave,...SG,..._we])])();class fk{constructor(t,e,n,r,o,s,a,l,c,u=0,f){this.p=t,this.stack=e,this.state=n,this.reducePos=r,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((t,e)=>e%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,e,n=0){let r=t.parser.context;return new fk(t,[],e,n,n,0,[],0,r?new UG(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,e){this.stack.push(this.state,e,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var e;let n=t>>19,r=65535&t,{parser:o}=this.p,s=o.dynamicPrecedence(r);if(s&&(this.score+=s),0==n)return this.pushState(o.getGoto(this.state,r,!0),this.reducePos),r<o.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let a=this.stack.length-3*(n-1)-(262144&t?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&(null===(e=this.p.parser.nodeSet.types[r])||void 0===e||!e.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let f=this.bufferBase+this.buffer.length-(a?this.stack[a-1]:0);if(r<o.minRepeatTerm||131072&t){let p=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,l,p,f+4,!0)}for(this.state=262144&t?this.stack[a]:o.getGoto(this.stack[a-3],r,!0);this.stack.length>a;)this.stack.pop();this.reduceContext(r,l)}storeNode(t,e,n,r=4,o=!1){if(0==t&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(0==a&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&0==s.buffer[a-4]&&s.buffer[a-1]>-1){if(e==n)return;if(s.buffer[a-2]>=e)return void(s.buffer[a-2]=n)}}if(o&&this.pos!=n){let s=this.buffer.length;if(s>0&&0!=this.buffer[s-4])for(;s>0&&this.buffer[s-2]>n;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,r>4&&(r-=4);this.buffer[s]=t,this.buffer[s+1]=e,this.buffer[s+2]=n,this.buffer[s+3]=r}else this.buffer.push(t,e,n,r)}shift(t,e,n,r){if(131072&t)this.pushState(65535&t,this.pos);else if(262144&t)this.pos=r,this.shiftContext(e,n),e<=this.p.parser.maxNode&&this.buffer.push(e,n,r,4);else{let o=t,{parser:s}=this.p;(r>this.pos||e<=s.maxNode)&&(this.pos=r,s.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,n),this.shiftContext(e,n),e<=s.maxNode&&this.buffer.push(e,n,r,4)}}apply(t,e,n,r){65536&t?this.reduce(t):this.shift(t,e,n,r)}useNode(t,e){let n=this.p.reused.length-1;(n<0||this.p.reused[n]!=t)&&(this.p.reused.push(t),n++);let r=this.pos;this.reducePos=this.pos=r+t.length,this.pushState(e,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,e=t.buffer.length;for(;e>0&&t.buffer[e-2]>t.reducePos;)e-=4;let n=t.buffer.slice(e),r=t.bufferBase+e;for(;t&&r==t.bufferBase;)t=t.parent;return new fk(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,n,r,this.curContext,this.lookAhead,t)}recoverByDelete(t,e){let n=t<=this.p.parser.maxNode;n&&this.storeNode(t,this.pos,e,4),this.storeNode(0,this.pos,e,n?8:4),this.pos=this.reducePos=e,this.score-=190}canShift(t){for(let e=new Swe(this);;){let n=this.p.parser.stateSlot(e.state,4)||this.p.parser.hasAction(e.state,t);if(0==n)return!1;if(!(65536&n))return!0;e.reduce(n)}}recoverByInsert(t){if(this.stack.length>=300)return[];let e=this.p.parser.nextStates(this.state);if(e.length>8||this.stack.length>=120){let r=[];for(let s,o=0;o<e.length;o+=2)(s=e[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&r.push(e[o],s);if(this.stack.length<120)for(let o=0;r.length<8&&o<e.length;o+=2){let s=e[o+1];r.some((a,l)=>1&l&&a==s)||r.push(e[o],s)}e=r}let n=[];for(let r=0;r<e.length&&n.length<4;r+=2){let o=e[r+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(e[r],this.pos),s.reducePos=this.pos,s.score-=200,n.push(s)}return n}forceReduce(){let{parser:t}=this.p,e=t.stateSlot(this.state,5);if(!(65536&e))return!1;if(!t.validAction(this.state,e)){let o=this.stack.length-3*(e>>19);if(o<0||t.getGoto(this.stack[o],65535&e,!1)<0){let s=this.findForcedReduction();if(null==s)return!1;e=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}findForcedReduction(){let{parser:t}=this.p,e=[],n=(r,o)=>{if(!e.includes(r))return e.push(r),t.allActions(r,s=>{if(!(393216&s))if(65536&s){let a=(s>>19)-o;if(a>1){let l=65535&s,c=this.stack.length-3*a;if(c>=0&&t.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=n(s,o+1);if(null!=a)return a}})};return n(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:t}=this.p;return 65535==t.data[t.stateSlot(this.state,1)]&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let e=0;e<this.stack.length;e+=3)if(this.stack[e]!=t.stack[e])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(e)))}reduceContext(t,e){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(e)))}emitContext(){let t=this.buffer.length-1;(t<0||-3!=this.buffer[t])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||-4!=this.buffer[t])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let e=new UG(this.curContext.tracker,t);e.hash!=this.curContext.hash&&this.emitContext(),this.curContext=e}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class UG{constructor(t,e){this.tracker=t,this.context=e,this.hash=t.strict?t.hash(e):0}}class Swe{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let e=65535&t,n=t>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);let r=this.start.p.parser.getGoto(this.stack[this.base-3],e,!0);this.state=r}}class mk{constructor(t,e,n){this.stack=t,this.pos=e,this.index=n,this.buffer=t.buffer,0==this.index&&this.maybeNext()}static create(t,e=t.bufferBase+t.buffer.length){return new mk(t,e,e-t.bufferBase)}maybeNext(){let t=this.stack.parent;null!=t&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new mk(this.stack,this.pos,this.index)}}function By(i,t=Uint16Array){if("string"!=typeof i)return i;let e=null;for(let n=0,r=0;n<i.length;){let o=0;for(;;){let s=i.charCodeAt(n++),a=!1;if(126==s){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}e?e[r++]=o:e=new t(o)}return e}class pk{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const WG=new pk;class Mwe{constructor(t,e){this.input=t,this.ranges=e,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=WG,this.rangeIndex=0,this.pos=this.chunkPos=e[0].from,this.range=e[0],this.end=e[e.length-1].to,this.readNext()}resolveOffset(t,e){let n=this.range,r=this.rangeIndex,o=this.pos+t;for(;o<n.from;){if(!r)return null;let s=this.ranges[--r];o-=n.from-s.to,n=s}for(;e<0?o>n.to:o>=n.to;){if(r==this.ranges.length-1)return null;let s=this.ranges[++r];o+=s.from-n.to,n=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let e of this.ranges)if(e.to>t)return Math.max(t,e.from);return this.end}peek(t){let n,r,e=this.chunkOff+t;if(e>=0&&e<this.chunk.length)n=this.pos+t,r=this.chunk.charCodeAt(e);else{let o=this.resolveOffset(t,1);if(null==o)return-1;if(n=o,n>=this.chunk2Pos&&n<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(n-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=n;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=n),n+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-n)),r=this.chunk2.charCodeAt(0)}}return n>=this.token.lookAhead&&(this.token.lookAhead=n+1),r}acceptToken(t,e=0){let n=e?this.resolveOffset(e,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:e}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=e,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos);this.chunk=this.pos+t.length>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.next=this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?-1:this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,e){if(e?(this.token=e,e.start=t,e.lookAhead=t+1,e.value=e.extended=-1):this.token=WG,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,e){if(t>=this.chunkPos&&e<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,e-this.chunkPos);if(t>=this.chunk2Pos&&e<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,e-this.chunk2Pos);if(t>=this.range.from&&e<=this.range.to)return this.input.read(t,e);let n="";for(let r of this.ranges){if(r.from>=e)break;r.to>t&&(n+=this.input.read(Math.max(r.from,t),Math.min(r.to,e)))}return n}}class kg{constructor(t,e){this.data=t,this.id=e}token(t,e){let{parser:n}=e.p;!function jG(i,t,e,n,r,o){let s=0,a=1<<n,{dialect:l}=e.p.parser;e:for(;a&i[s];){let c=i[s+1];for(let g=s+3;g<c;g+=2)if((i[g+1]&a)>0){let b=i[g];if(l.allows(b)&&(-1==t.token.value||t.token.value==b||Twe(b,t.token.value,r,o))){t.acceptToken(b);break}}let u=t.next,f=0,p=i[s+2];if(!(t.next<0&&p>f&&65535==i[c+3*p-3])){for(;f<p;){let g=f+p>>1,b=c+g+(g<<1);if(u<i[b])p=g;else{if(!(u>=(i[b+1]||65536))){s=i[b+2],t.advance();continue e}f=g+1}}break}s=i[c+3*p-1]}}(this.data,t,e,this.id,n.data,n.tokenPrecTable)}}function $G(i,t,e){for(let r,n=t;65535!=(r=i[n]);n++)if(r==e)return n-t;return-1}function Twe(i,t,e,n){let r=$G(e,n,t);return r<0||$G(e,n,i)<r}kg.prototype.contextual=kg.prototype.fallback=kg.prototype.extend=!1,kg.prototype.fallback=kg.prototype.extend=!1;const Rs=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let E2=null;function GG(i,t,e){let n=i.cursor(on.IncludeAnonymous);for(n.moveTo(t);;)if(!(e<0?n.childBefore(t):n.childAfter(t)))for(;;){if((e<0?n.to<t:n.from>t)&&!n.type.isError)return e<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(i.length,Math.max(n.from+1,t+25));if(e<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return e<0?0:i.length}}class Iwe{constructor(t,e){this.fragments=t,this.nodeSet=e,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?GG(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?GG(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let e=this.trees.length-1;if(e<0)return this.nextFragment(),null;let n=this.trees[e],r=this.index[e];if(r==n.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=n.children[r],s=this.start[e]+n.positions[r];if(s>t)return this.nextStart=s,null;if(o instanceof sn){if(s==t){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(Et.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[e]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[e]++,this.nextStart=s+o.length}}}class Owe{constructor(t,e){this.stream=e,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(n=>new pk)}getActions(t){let e=0,n=null,{parser:r}=t.p,{tokenizers:o}=r,s=r.stateSlot(t.state,3),a=t.curContext?t.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let u=o[c],f=this.tokens[c];if((!n||u.fallback)&&((u.contextual||f.start!=t.pos||f.mask!=s||f.context!=a)&&(this.updateCachedToken(f,u,t),f.mask=s,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),0!=f.value)){let p=e;if(f.extended>-1&&(e=this.addActions(t,f.extended,f.end,e)),e=this.addActions(t,f.value,f.end,e),!u.extend&&(n=f,e>p))break}}for(;this.actions.length>e;)this.actions.pop();return l&&t.setLookAhead(l),!n&&t.pos==this.stream.end&&(n=new pk,n.value=t.p.parser.eofTerm,n.start=n.end=t.pos,e=this.addActions(t,n.value,n.end,e)),this.mainToken=n,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let e=new pk,{pos:n,p:r}=t;return e.start=n,e.end=Math.min(n+1,r.stream.end),e.value=n==r.stream.end?r.parser.eofTerm:0,e}updateCachedToken(t,e,n){let r=this.stream.clipPos(n.pos);if(e.token(this.stream.reset(r,t),n),t.value>-1){let{parser:o}=n.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let a=o.specializers[s](this.stream.read(t.start,t.end),n);if(a>=0&&n.p.parser.dialect.allows(a>>1)){1&a?t.extended=a>>1:t.value=a>>1;break}}}else t.value=0,t.end=this.stream.clipPos(r+1)}putAction(t,e,n,r){for(let o=0;o<r;o+=3)if(this.actions[o]==t)return r;return this.actions[r++]=t,this.actions[r++]=e,this.actions[r++]=n,r}addActions(t,e,n,r){let{state:o}=t,{parser:s}=t.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(65535==a[c]){if(1!=a[c+1]){0==r&&2==a[c+1]&&(r=this.putAction(rd(a,c+2),e,n,r));break}c=rd(a,c+2)}a[c]==e&&(r=this.putAction(rd(a,c+1),e,n,r))}return r}}class Rwe{constructor(t,e,n,r){this.parser=t,this.input=e,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Mwe(e,r),this.tokens=new Owe(t,this.stream),this.topTerm=t.top[1];let{from:o}=r[0];this.stacks=[fk.start(this,t.top[0],o)],this.fragments=n.length&&this.stream.end-o>4*t.bufferLength?new Iwe(n,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r,o,t=this.stacks,e=this.minStackPos,n=this.stacks=[];if(this.bigReductionCount>300&&1==t.length){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let a=t[s];for(;;){if(this.tokens.mainToken=null,a.pos>e)n.push(a);else{if(this.advanceStack(a,n,t))continue;{r||(r=[],o=[]),r.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!n.length){let s=r&&function Fwe(i){let t=null;for(let e of i){let n=e.p.stoppedAt;(e.pos==e.p.stream.end||null!=n&&e.pos>n)&&e.p.parser.stateFlag(e.state,2)&&(!t||t.score<e.score)&&(t=e)}return t}(r);if(s)return Rs&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw Rs&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+e);this.recovering||(this.recovering=5)}if(this.recovering&&r){let s=null!=this.stoppedAt&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,o,n);if(s)return Rs&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=1==this.recovering?1:3*this.recovering;if(n.length>s)for(n.sort((a,l)=>l.score-a.score);n.length>s;)n.pop();n.some(a=>a.reducePos>e)&&this.recovering--}else if(n.length>1){e:for(let s=0;s<n.length-1;s++){let a=n[s];for(let l=s+1;l<n.length;l++){let c=n[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500){if(!((a.score-c.score||a.buffer.length-c.buffer.length)>0)){n.splice(s--,1);continue e}n.splice(l--,1)}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let s=1;s<n.length;s++)n[s].pos<this.minStackPos&&(this.minStackPos=n[s].pos);return null}stopAt(t){if(null!=this.stoppedAt&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,e,n){let r=t.pos,{parser:o}=this,s=Rs?this.stackID(t)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let c=t.curContext&&t.curContext.tracker.strict,u=c?t.curContext.hash:0;for(let f=this.fragments.nodeAt(r);f;){let p=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(p>-1&&f.length&&(!c||(f.prop(Et.contextHash)||0)==u))return t.useNode(f,p),Rs&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof sn)||0==f.children.length||f.positions[0]>0)break;let g=f.children[0];if(!(g instanceof sn&&0==f.positions[0]))break;f=g}}let a=o.stateSlot(t.state,4);if(a>0)return t.reduce(a),Rs&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(65535&a)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],p=l[c++],g=c==l.length||!n,b=g?t:t.split(),v=this.tokens.mainToken;if(b.apply(u,f,v?v.start:b.pos,p),Rs&&console.log(s+this.stackID(b)+` (via ${65536&u?`reduce of ${o.getName(65535&u)}`:"shift"} for ${o.getName(f)} @ ${r}${b==t?"":", split"})`),g)return!0;b.pos>r?e.push(b):n.push(b)}return!1}advanceFully(t,e){let n=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>n)return qG(t,e),!0}}runRecovery(t,e,n){let r=null,o=!1;for(let s=0;s<t.length;s++){let a=t[s],l=e[s<<1],c=e[1+(s<<1)],u=Rs?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),Rs&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,n))))continue;let f=a.split(),p=u;for(let g=0;f.forceReduce()&&g<10&&(Rs&&console.log(p+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,n));g++)Rs&&(p=this.stackID(f)+" -> ");for(let g of a.recoverByInsert(l))Rs&&console.log(u+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,n);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),Rs&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),qG(a,n)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(t){return t.close(),sn.build({buffer:mk.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let e=(E2||(E2=new WeakMap)).get(t);return e||E2.set(t,e=String.fromCodePoint(this.nextStackID++)),e+t}}function qG(i,t){for(let e=0;e<t.length;e++){let n=t[e];if(n.pos==i.pos&&n.sameState(i))return void(t[e].score<i.score&&(t[e]=i))}t.push(i)}class Pwe{constructor(t,e,n){this.source=t,this.flags=e,this.disabled=n}allows(t){return!this.disabled||0==this.disabled[t]}}class gk extends u${constructor(t){if(super(),this.wrappers=[],14!=t.version)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let e=t.nodeNames.split(" ");this.minRepeatTerm=e.length;for(let a=0;a<t.repeatNodeCount;a++)e.push("");let n=Object.keys(t.topRules).map(a=>t.topRules[a][1]),r=[];for(let a=0;a<e.length;a++)r.push([]);function o(a,l,c){r[a].push([l,l.deserialize(String(c))])}if(t.nodeProps)for(let a of t.nodeProps){let l=a[0];"string"==typeof l&&(l=Et[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)o(u,l,a[c++]);else{let f=a[c+-u];for(let p=-u;p>0;p--)o(a[c++],l,f);c++}}}this.nodeSet=new E1(e.map((a,l)=>Io.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:n.indexOf(l)>-1,error:0==l,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=r$;let s=By(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(KG),this.states=By(t.states,Uint32Array),this.data=By(t.stateData),this.goto=By(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(a=>"number"==typeof a?new kg(s,a):a),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,e,n){let r=new Rwe(this,t,e,n);for(let o of this.wrappers)r=o(r,t,e,n);return r}getGoto(t,e,n=!1){let r=this.goto;if(e>=r[0])return-1;for(let o=r[e+1];;){let s=r[o++],a=1&s,l=r[o++];if(a&&n)return l;for(let c=o+(s>>1);o<c;o++)if(r[o]==t)return l;if(a)return-1}}hasAction(t,e){let n=this.data;for(let r=0;r<2;r++)for(let s,o=this.stateSlot(t,r?2:1);;o+=3){if(65535==(s=n[o])){if(1!=n[o+1]){if(2==n[o+1])return rd(n,o+2);break}s=n[o=rd(n,o+2)]}if(s==e||0==s)return rd(n,o+1)}return 0}stateSlot(t,e){return this.states[6*t+e]}stateFlag(t,e){return(this.stateSlot(t,0)&e)>0}validAction(t,e){return!!this.allActions(t,n=>n==e||null)}allActions(t,e){let n=this.stateSlot(t,4),r=n?e(n):void 0;for(let o=this.stateSlot(t,1);null==r;o+=3){if(65535==this.data[o]){if(1!=this.data[o+1])break;o=rd(this.data,o+2)}r=e(rd(this.data,o+1))}return r}nextStates(t){let e=[];for(let n=this.stateSlot(t,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])break;n=rd(this.data,n+2)}if(!(1&this.data[n+2])){let r=this.data[n+1];e.some((o,s)=>1&s&&o==r)||e.push(this.data[n],r)}}return e}configure(t){let e=Object.assign(Object.create(gk.prototype),this);if(t.props&&(e.nodeSet=this.nodeSet.extend(...t.props)),t.top){let n=this.topRules[t.top];if(!n)throw new RangeError(`Invalid top rule name ${t.top}`);e.top=n}return t.tokenizers&&(e.tokenizers=this.tokenizers.map(n=>{let r=t.tokenizers.find(o=>o.from==n);return r?r.to:n})),t.specializers&&(e.specializers=this.specializers.slice(),e.specializerSpecs=this.specializerSpecs.map((n,r)=>{let o=t.specializers.find(a=>a.from==n.external);if(!o)return n;let s=Object.assign(Object.assign({},n),{external:o.to});return e.specializers[r]=KG(s),s})),t.contextTracker&&(e.context=t.contextTracker),t.dialect&&(e.dialect=this.parseDialect(t.dialect)),null!=t.strict&&(e.strict=t.strict),t.wrap&&(e.wrappers=e.wrappers.concat(t.wrap)),null!=t.bufferLength&&(e.bufferLength=t.bufferLength),e}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let e=this.dynamicPrecedences;return null==e?0:e[t]||0}parseDialect(t){let e=Object.keys(this.dialects),n=e.map(()=>!1);if(t)for(let o of t.split(" ")){let s=e.indexOf(o);s>=0&&(n[s]=!0)}let r=null;for(let o=0;o<e.length;o++)if(!n[o])for(let a,s=this.dialects[e[o]];65535!=(a=this.data[s++]);)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new Pwe(t,n,r)}static deserialize(t){return new gk(t)}}function rd(i,t){return i[t]|i[t+1]<<16}function KG(i){if(i.external){let t=i.extend?1:0;return(e,n)=>i.external(e,n)<<1|t}return i.get}const Nwe=b$({String:ge.string,Number:ge.number,"True False":ge.bool,PropertyName:ge.propertyName,Null:ge.null,",":ge.separator,"[ ]":ge.squareBracket,"{ }":ge.brace}),Lwe=gk.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"\u26a0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Nwe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),Vwe=F1.define({name:"json",parser:Lwe.configure({props:[I$.add({Object:P$({except:/^\s*\}/}),Array:P$({except:/^\s*\]/})}),F$.add({"Object Array":function Zbe(i){let t=i.firstChild,e=i.lastChild;return t&&t.to<e.from?{from:t.to,to:e.type.isError?i.to:e.from}:null}})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}}),zwe=["codemirror"];function Uwe(i,t){1&i&&(w(0,"span"),I(1," (edited)"),k())}function Wwe(i,t){if(1&i){const e=ki();w(0,"button",12),J("click",function(){return Ve(e),Se(Q().tryEmitConfig())}),I(1," save "),k()}}function jwe(i,t){if(1&i){const e=ki();w(0,"button",13),J("click",function(){return Ve(e),Se(Q().justClose())}),I(1," close "),k()}}function $we(i,t){if(1&i){const e=ki();w(0,"button",13),J("click",function(){return Ve(e),Se(Q().tryEmitConfigAndClose())}),I(1," save & close "),k()}}function Gwe(i,t){if(1&i&&(w(0,"div",14),I(1),k()),2&i){const e=Q();M(1),Ot(e.configError)}}let qwe=(()=>{class i{set config(e){this.codeMirror?this.setCodeMirrorValue(e):this.lastValidConfig=e}constructor(e){this.ngZone=e,this.whatIsBeingEditedName="",this.defaultConfig="",this.closable=!0,this.update=new pe,this.lastValidConfig="{}",this.changed=!1,this.codemirrorOptions={lineNumbers:!0,theme:"material",mode:"javascript"},this.changed$=new wr(this.changed)}getCodeMirrorValue(){return this.codeMirror?this.codeMirror?.state.doc.toString():"{}"}setCodeMirrorValue(e){if(!this.codeMirror)return void(this.lastValidConfig=e);console.log("setCodeMirrorValue--\x3e calling state update");const n=this.codeMirror.state.update({changes:{from:0,to:this.codeMirror.state.doc.length,insert:e}});this.codeMirror.dispatch(n)}ngOnInit(){const e=new Qv;console.log("this.editorState.create..."),this.editorState=Ss.create({doc:this.lastValidConfig,extensions:[Ewe,e.of(new Ube(Vwe)),ft.updateListener.of(n=>{this.ngZone.run(()=>{const r=this.lastValidConfig!==n.state.doc.toString();this.changed!==r&&(this.changed=r,this.changed$.next(this.changed))})})]})}ngAfterContentInit(){}ngAfterViewInit(){this.codemirrorElementRef?this.codeMirror=new ft({state:this.editorState,parent:this.codemirrorElementRef.nativeElement}):console.warn("ngAfterContentInit: missing codemirror element.")}resetConfig(){this.codeMirror?(this.tmpConfigString=this.getCodeMirrorValue(),this.setCodeMirrorValue(this.defaultConfig.slice())):console.warn("Missing codeMirror object.")}undoChanges(){this.codeMirror?(this.tmpConfigString=this.getCodeMirrorValue(),this.setCodeMirrorValue(this.lastValidConfig.slice())):console.warn("Missing codeMirror object.")}get isDefault(){return this.codeMirror?this.defaultConfig==this.getCodeMirrorValue():this.defaultConfig===this.lastValidConfig}get canReDoChanges(){return this.codeMirror?!(!this.tmpConfigString||this.changed)&&this.tmpConfigString!=this.getCodeMirrorValue():(console.warn("Missing codeMirror object."),!1)}redoChanges(){this.codeMirror?(this.tmpConfigString&&this.setCodeMirrorValue(this.tmpConfigString),delete this.tmpConfigString):console.warn("Missing codeMirror object.")}makeConfigUpdate(){if(!this.codeMirror)return console.warn("Missing codeMirror object."),{json:"{}",error:"Missing codeMirror object."};let e;const n=this.getCodeMirrorValue();try{return e=Spe.parse(n),this.lastValidConfig=n.slice(),this.changed=!1,this.changed$.next(this.changed),{obj:e,json:n}}catch(r){return{json:n,error:r.message}}}tryEmitConfig(){const e=this.makeConfigUpdate();e.close=!1,this.configError=e.error,this.configError||delete this.tmpConfigString,this.update.emit(e)}tryEmitConfigAndClose(){const e=this.makeConfigUpdate();e.close=!0,this.configError=e.error,this.update.emit(e)}justClose(){this.update.emit({close:!0})}static#e=this.\u0275fac=function(n){return new(n||i)(C(_e))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-codemirror-config-editor"]],viewQuery:function(n,r){if(1&n&&Ft(zwe,5),2&n){let o;fe(o=me())&&(r.codemirrorElementRef=o.first)}},inputs:{whatIsBeingEditedName:"whatIsBeingEditedName",defaultConfig:"defaultConfig",closable:"closable",config:"config"},outputs:{update:"update"},decls:39,vars:22,consts:[[1,"buttons"],[1,"whatIsBeingEditedName"],[4,"ngIf"],[1,"spacer"],["color","accent","mat-raised-button","",3,"click",4,"ngIf"],["color","primary","mat-raised-button","",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Options",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"disabled","click"],["class","hint-error",4,"ngIf"],[1,"code"],["codemirror",""],["color","accent","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"click"],[1,"hint-error"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1),I(2),he(3,Uwe,2,0,"span",2),Nh(4,"async"),k(),$(5,"div",3),w(6,"div"),he(7,Wwe,2,0,"button",4),Nh(8,"async"),he(9,jwe,2,0,"button",5),Nh(10,"async"),he(11,$we,2,0,"button",5),Nh(12,"async"),k(),w(13,"button",6)(14,"mat-icon"),I(15,"more_vert"),k()(),w(16,"mat-menu",null,7)(18,"button",8),J("click",function(){return r.resetConfig()}),w(19,"mat-icon"),I(20,"settings_backup_restore"),k(),w(21,"span"),I(22,"Reset to default"),k()(),w(23,"button",8),J("click",function(){return r.undoChanges()}),Nh(24,"async"),w(25,"mat-icon"),I(26,"restore"),k(),w(27,"span"),I(28,"Restore last saved"),k()(),w(29,"button",8),J("click",function(){return r.redoChanges()}),Nh(30,"async"),w(31,"mat-icon"),I(32,"redo"),k(),w(33,"span"),I(34,"Return to last changed"),k()()()(),he(35,Gwe,2,1,"div",9),w(36,"div",10),$(37,"div",null,11),k()),2&n){const o=Nn(17);M(2),ii(" ",r.whatIsBeingEditedName,""),M(1),j("ngIf",Lh(4,10,r.changed$)),M(4),j("ngIf",Lh(8,12,r.changed$)),M(2),j("ngIf",r.closable&&!Lh(10,14,r.changed$)),M(2),j("ngIf",Lh(12,16,r.changed$)&&r.closable),M(2),j("matMenuTriggerFor",o),M(5),j("disabled",r.isDefault),M(5),j("disabled",!Lh(24,18,r.changed$)),M(6),j("disabled",Lh(30,20,r.changed$)||!r.tmpConfigString),M(6),j("ngIf",r.configError)}},dependencies:[$c,CD,p4,Qp,$v,ND,Pme,b4],styles:[".hint-error[_ngcontent-%COMP%]{color:#f00000cc}.code[_ngcontent-%COMP%]{flex:0 0 auto;background-color:#fff;margin-bottom:5px;margin-left:5px;margin-right:5px}.buttons[_ngcontent-%COMP%]{flex:0 0 60px;padding:10px;display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.buttons[_ngcontent-%COMP%]   .whatIsBeingEditedName[_ngcontent-%COMP%]{font-weight:800}.spacer[_ngcontent-%COMP%]{flex:1}"]})}return i})();const Kwe=["downloadLink"];function Jwe(i,t){1&i&&$(0,"mat-progress-bar",12),2&i&&j("mode","indeterminate")}function Ywe(i,t){if(1&i&&(w(0,"div",16),I(1),k()),2&i){const e=Q();M(1),Rh(" There are ",e.errorCount," errors. The first error is: ",e.errorMessage," ")}}function Xwe(i,t){if(1&i&&(w(0,"div",16),I(1),k()),2&i){const e=Q();M(1),ii(" ",e.errorMessage," ")}}let M2=(()=>{class i{constructor(e,n,r){this.appStateService=e,this.driveService=n,this.authService=r,this.defaultDataStr=JSON.stringify(BC(),null,2),this.currentDataStr=this.defaultDataStr.slice(),this.waiting=!1,this.errorCount=0,this.usersList=[],this.appNameControl=new ov(this.appStateService.appName()),this.appNameControl.valueChanges.forEach(o=>{o&&this.appStateService.setSetting("name",o)}),wl(()=>{const o=this.appStateService.appName();null!==this.appNameControl.value&&this.appNameControl.value!==o&&this.appNameControl.setValue(o,{emitEvent:!1})}),wl(()=>{this.currentDataStr=JSON.stringify(this.appStateService.data(),null,2)})}ngOnInit(){}reset(){this.appStateService.reset(),this.appNameControl.setValue(this.appStateService.appName()),this.currentDataStr=JSON.stringify(this.appStateService.data(),null,2)}saveToGoogleDrive(){var e=this;return Hi(function*(){const n=JSON.stringify(e.appStateService.data()),r=yield e.authService.getToken("https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/drive.file"),o=yield e.driveService.saveData(n,`${e.appStateService.appName()}.json`,"",r);console.log("saveToGoogleDrive:response",o)})()}download(e){const n=JSON.stringify(this.appStateService.data()),r=new Blob([n],{type:"data:application/json;charset=utf-8"});this.downloadUrl&&URL.revokeObjectURL(this.downloadUrl),this.downloadUrl=URL.createObjectURL(r),e.href=this.downloadUrl,e.click()}downloadName(){return`${this.appNameControl.value}.json`}configUpdated(e){const n=e;!n.error&&n.obj&&n.json?(this.appStateService.data.set(n.obj),this.currentDataStr=n.json):console.log(`configUpdated with no update: ${n}`)}sizeString(){const e=this.appStateService.dataSize();return e>=1073741824?(e/1073741824).toFixed(2)+" GB":e>=1048576?(e/1048576).toFixed(2)+" MB":e>=1024?(e/1024).toFixed(2)+" KB":e>1?e+" bytes":1==e?e+" byte":"0 bytes"}static#e=this.\u0275fac=function(n){return new(n||i)(C(br),C(Epe),C(iR))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-app-settings"]],viewQuery:function(n,r){if(1&n&&Ft(Kwe,5),2&n){let o;fe(o=me())&&(r.downloadLink=o.first)}},standalone:!0,features:[pi],decls:30,vars:8,consts:[[1,"main"],[1,"settings-form"],[1,"full-width"],["matInput","","placeholder","Write a name for your app",3,"formControl"],[1,"row"],[1,"appinfo"],[1,"spacer"],["mat-button","","color","warn",3,"click"],["mat-button","","aria-label","Download",3,"click"],["hidden","","target","_top",3,"download"],["downloadLink",""],["mat-button","","aria-label","Save to Google Drive",3,"click"],[3,"mode"],["class","error"],[1,"code-full-screen"],["whatIsBeingEditedName","Configuration",3,"closable","defaultConfig","config","update"],[1,"error"]],template:function(n,r){if(1&n){const o=ki();w(0,"div",0)(1,"form",1)(2,"div")(3,"mat-form-field",2)(4,"mat-label"),I(5,"App Name"),k(),$(6,"input",3),k()(),w(7,"div",4)(8,"div",5),I(9," App data: "),w(10,"span"),I(11),k()(),$(12,"div",6),w(13,"button",7),J("click",function(){return r.reset()}),I(14,"Clear all data"),k()(),w(15,"button",8),J("click",function(){Ve(o);const a=Nn(20);return Se(r.download(a))}),w(16,"mat-icon"),I(17,"download"),k(),I(18," Download a snapshot "),$(19,"a",9,10),k(),w(21,"button",11),J("click",function(){return r.saveToGoogleDrive()}),w(22,"mat-icon"),I(23,"save"),k(),I(24," Save to Google Drive "),k(),he(25,Jwe,1,1,"mat-progress-bar",12)(26,Ywe,2,2,"div",13)(27,Xwe,2,1),k(),w(28,"div",14)(29,"app-codemirror-config-editor",15),J("update",function(a){return r.configUpdated(a)}),k()()()}2&n&&(M(6),j("formControl",r.appNameControl),M(5),Ot(r.sizeString()),M(8),j("download",r.downloadName()),M(6),xe(25,r.waiting?25:-1),M(1),xe(26,r.errorMessage&&r.errorCount>1?26:r.errorMessage?27:-1),M(3),j("closable",!1)("defaultConfig",r.defaultDataStr)("config",r.currentDataStr))},dependencies:[Mo,Kc,ja,za,FT,Va,Vc,kT,Uh,aa,Jc,Ip,SC,Xo,$c,A6,Gv,eU,Bme,DU,qwe,df,Qp],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{color:#900;border-radius:5px;border:solid 1px #990000;background-color:#fbb;padding:5px}.row[_ngcontent-%COMP%]{display:flex}.spacer[_ngcontent-%COMP%]{flex:1}mat-form-field[_ngcontent-%COMP%]{width:420px}.code-full-screen[_ngcontent-%COMP%]{margin:10px 0 0;flex:1 1 auto;height:100%;width:100%;background-color:#eee}"]})}return i})(),Zwe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-page-not-found"]],standalone:!0,features:[pi],decls:2,vars:0,template:function(n,r){1&n&&(w(0,"h2"),I(1,"Page Not Found"),k())}})}return i})();const _k=["*"],Qwe=["content"];function exe(i,t){if(1&i){const e=ki();w(0,"div",1),J("click",function(){return Ve(e),Se(Q()._onBackdropClicked())}),k()}2&i&&Ae("mat-drawer-shown",Q()._isShowingBackdrop())}function txe(i,t){1&i&&(w(0,"mat-drawer-content"),ye(1,2),k())}const ixe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],nxe=["mat-drawer","mat-drawer-content","*"];function rxe(i,t){if(1&i){const e=ki();w(0,"div",1),J("click",function(){return Ve(e),Se(Q()._onBackdropClicked())}),k()}2&i&&Ae("mat-drawer-shown",Q()._isShowingBackdrop())}function oxe(i,t){1&i&&(w(0,"mat-sidenav-content"),ye(1,2),k())}const sxe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],axe=["mat-sidenav","mat-sidenav-content","*"],JG={transformDrawer:qc("transform",[sa("open, open-instant",Vn({transform:"none",visibility:"visible"})),sa("void",Vn({"box-shadow":"none",visibility:"hidden"})),Es("void => open-instant",oa("0ms")),Es("void <=> open, open-instant => void",oa("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},cxe=new V("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function dxe(){return!1}}),A2=new V("MAT_DRAWER_CONTAINER");let bk=(()=>{class i extends Wv{constructor(e,n,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt),C(Ct(()=>XG)),C(ke),C(Zp),C(_e))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){2&n&&Cl("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Te([{provide:Wv,useExisting:i}]),Me],ngContentSelectors:_k,decls:1,vars:0,template:function(n,r){1&n&&(Lt(),ye(0))},encapsulation:2,changeDetection:0})}return i})(),YG=(()=>{class i{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=$e(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=$e(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle($e(e))}constructor(e,n,r,o,s,a,l,c){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new de,this._animationEnd=new de,this._animationState="void",this.openedChange=new pe(!0),this._openedStream=this.openedChange.pipe(di(u=>u),ue(()=>{})),this.openedStart=this._animationStarted.pipe(di(u=>u.fromState!==u.toState&&0===u.toState.indexOf("open")),WC(void 0)),this._closedStream=this.openedChange.pipe(di(u=>!u),ue(()=>{})),this.closedStart=this._animationStarted.pipe(di(u=>u.fromState!==u.toState&&"void"===u.toState),WC(void 0)),this._destroyed=new de,this.onPositionChanged=new pe,this._modeChanged=new de,this.openedChange.subscribe(u=>{u?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{zv(this._elementRef.nativeElement,"keydown").pipe(di(u=>27===u.keyCode&&!this.disableClose&&!ra(u)),et(this._destroyed)).subscribe(u=>this._ngZone.run(()=>{this.close(),u.stopPropagation(),u.preventDefault()}))}),this._animationEnd.pipe(hd((u,f)=>u.fromState===f.fromState&&u.toState===f.toState)).subscribe(u=>{const{fromState:f,toState:p}=u;(0===p.indexOf("open")&&"void"===f||"void"===p&&0===f.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(qi(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,r=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(zde),C(Wa),C(zi),C(_e),C(Ez),C(nt,8),C(A2,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(1&n&&Ft(Qwe,5),2&n){let o;fe(o=me())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){1&n&&lA("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&n&&(ze("align",null),oA("@transform",r._animationState),Ae("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:_k,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,r){1&n&&(Lt(),w(0,"div",0,1),ye(2),k())},dependencies:[Wv],encapsulation:2,data:{animation:[JG.transformDrawer]},changeDetection:0})}return i})(),XG=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=$e(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:$e(e)}get scrollable(){return this._userContent||this._content}constructor(e,n,r,o,s,a=!1,l){this._dir=e,this._element=n,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=l,this._drawers=new Pc,this.backdropClick=new pe,this._destroyed=new de,this._doCheckSubject=new de,this._contentMargins={left:null,right:null},this._contentMarginChanges=new de,e&&e.change.pipe(et(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(et(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(_r(this._allDrawers),et(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(_r(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(hD(10),et(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,n-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();n+=r,e-=r}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(di(n=>n.fromState!==n.toState),et(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(et(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(et(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(qi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(et(Wi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static#e=this.\u0275fac=function(n){return new(n||i)(C(ks,8),C(ke),C(_e),C(Nt),C(jv),C(cxe),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,bk,5),ut(o,YG,5)),2&n){let s;fe(s=me())&&(r._content=s.first),fe(s=me())&&(r._allDrawers=s)}},viewQuery:function(n,r){if(1&n&&Ft(bk,5),2&n){let o;fe(o=me())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Te([{provide:A2,useExisting:i}])],ngContentSelectors:nxe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(Lt(ixe),he(0,exe,1,2,"div",0),ye(1),ye(2,1),he(3,txe,2,0,"mat-drawer-content")),2&n&&(xe(0,r.hasBackdrop?0:-1),M(3),xe(3,r._content?-1:3))},dependencies:[bk],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return i})(),vk=(()=>{class i extends bk{constructor(e,n,r,o,s){super(e,n,r,o,s)}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt),C(Ct(()=>I2)),C(ke),C(Zp),C(_e))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,r){2&n&&Cl("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Te([{provide:Wv,useExisting:i}]),Me],ngContentSelectors:_k,decls:1,vars:0,template:function(n,r){1&n&&(Lt(),ye(0))},encapsulation:2,changeDetection:0})}return i})(),T2=(()=>{class i extends YG{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=$e(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ki(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ki(e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275cmp=x({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,r){2&n&&(ze("align",null),Cl("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Ae("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Me],ngContentSelectors:_k,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(n,r){1&n&&(Lt(),w(0,"div",0,1),ye(2),k())},dependencies:[Wv],encapsulation:2,data:{animation:[JG.transformDrawer]},changeDetection:0})}return i})(),I2=(()=>{class i extends XG{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275cmp=x({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,vk,5),ut(o,T2,5)),2&n){let s;fe(s=me())&&(r._content=s.first),fe(s=me())&&(r._allDrawers=s)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Te([{provide:A2,useExisting:i}]),Me],ngContentSelectors:axe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){1&n&&(Lt(sxe),he(0,rxe,1,2,"div",0),ye(1),ye(2,1),he(3,oxe,2,0,"mat-sidenav-content")),2&n&&(xe(0,r.hasBackdrop?0:-1),M(3),xe(3,r._content?-1:3))},dependencies:[vk],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return i})(),O2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,sf,sf,Mt]})}return i})(),uxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Mt]})}return i})();class yk{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new de,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,n=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let R2=(()=>{class i{constructor(){this._listeners=[]}notify(e,n){for(let r of this._listeners)r(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ZG=["*"],e7=["unscopedContent"],hxe=["text"],fxe=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],mxe=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],t7=new V("ListOption");let wk=(()=>{class i{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke))};static#t=this.\u0275dir=ne({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}return i})(),i7=(()=>{class i{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke))};static#t=this.\u0275dir=ne({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}return i})(),Oxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}return i})(),n7=(()=>{class i{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(n){return new(n||i)(C(t7,8))};static#t=this.\u0275dir=ne({type:i,hostVars:4,hostBindings:function(n,r){2&n&&Ae("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())}})}return i})(),Rxe=(()=>{class i extends n7{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275dir=ne({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[Me]})}return i})(),Pxe=(()=>{class i extends n7{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275dir=ne({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[Me]})}return i})();const Fxe=new V("MAT_LIST_CONFIG");let Eg=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=te(Fxe,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=$e(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=$e(e)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,hostVars:1,hostBindings:function(n,r){2&n&&ze("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}return i})(),P2=(()=>{class i{set lines(e){this._explicitLines=Ki(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=$e(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=$e(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,n,r,o,s,a){this._elementRef=e,this._ngZone=n,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new We,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Vv(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(Wi(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===n),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===n),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===n;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e),C(Eg,8),C(zi),C(cu,8),C(Vi,8))};static#t=this.\u0275dir=ne({type:i,contentQueries:function(n,r,o){if(1&n&&(ut(o,Rxe,4),ut(o,Pxe,4)),2&n){let s;fe(s=me())&&(r._avatars=s),fe(s=me())&&(r._icons=s)}},hostVars:4,hostBindings:function(n,r){2&n&&(ze("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Ae("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}return i})(),r7=(()=>{class i extends P2{get activated(){return this._activated}set activated(e){this._activated=$e(e)}constructor(e,n,r,o,s,a){super(e,n,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(_e),C(Eg,8),C(zi),C(cu,8),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,o){if(1&n&&(ut(o,i7,5),ut(o,wk,5),ut(o,Oxe,5)),2&n){let s;fe(s=me())&&(r._lines=s),fe(s=me())&&(r._titles=s),fe(s=me())&&(r._meta=s)}},viewQuery:function(n,r){if(1&n&&(Ft(e7,5),Ft(hxe,5)),2&n){let o;fe(o=me())&&(r._unscopedContent=o.first),fe(o=me())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(n,r){2&n&&(ze("aria-current",r._getAriaCurrent()),Ae("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[Me],ngContentSelectors:mxe,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(n,r){1&n&&(Lt(fxe),ye(0),w(1,"span",0),ye(2,1),ye(3,2),w(4,"span",1,2),J("cdkObserveContent",function(){return r._updateItemLines(!0)}),ye(6,3),k()(),ye(7,4),ye(8,5),$(9,"div",3))},dependencies:[bz],encapsulation:2,changeDetection:0})}return i})(),s7=(()=>{class i extends Eg{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275cmp=x({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[Te([{provide:Eg,useExisting:i}]),Me],ngContentSelectors:ZG,decls:1,vars:0,template:function(n,r){1&n&&(Lt(),ye(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}return i})(),F2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[aO,Bc,Mt,Pl,Uz,uxe]})}return i})(),a7=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-chat-user-profile"]],inputs:{profile:"profile"},standalone:!0,features:[pi],decls:8,vars:3,consts:[[1,"profile"],["alt","Avatar image",1,"avatar",3,"src"]],template:function(n,r){1&n&&(w(0,"div",0),$(1,"img",1),w(2,"div")(3,"u")(4,"b"),I(5),k(),I(6),k(),I(7,": "),k()()),2&n&&(M(1),j("src",r.profile.avatarUrl,T),M(4),Ot(r.profile.name),M(1),ii(" (",r.profile.pronouns,")"))},styles:[".avatar[_ngcontent-%COMP%]{border-radius:50%;width:40px}.profile[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}"]})}return i})(),l7=(()=>{class i{dateStrOfTimestamp(e){const n=new Date(e);return`${n.getFullYear()} - ${n.getMonth()} - ${n.getDate()}: ${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-chat-user-message"]],inputs:{message:"message"},standalone:!0,features:[pi],decls:7,vars:3,consts:[[1,"flex-container"],[1,"date"],[1,"profile_and_message"],[3,"profile"],[1,"message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),I(2),k(),w(3,"div",2),$(4,"app-chat-user-profile",3),w(5,"div",4),I(6),k()()()),2&n&&(M(2),Ot(r.dateStrOfTimestamp(r.message.timestamp)),M(2),j("profile",r.message.fromProfile),M(2),Ot(r.message.text))},dependencies:[a7],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;margin:0 0 10px;list-style:none;padding:10px;width:540px;background:#fff;border-radius:2px}.message[_ngcontent-%COMP%]{margin-left:10px}.date[_ngcontent-%COMP%]{font-size:10px;color:#aaa;margin-left:6px}.profile_and_message[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}"]})}return i})(),c7=(()=>{class i{dateStrOfTimestamp(e){const n=new Date(e);return`${n.getFullYear()} - ${n.getMonth()} - ${n.getDate()}: ${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-chat-discuss-items-message"]],inputs:{discussItemsMessage:"discussItemsMessage"},standalone:!0,features:[pi],decls:14,vars:8,consts:[[1,"flex-container"],[1,"date"],[1,"title"],[1,"item-pair-displays"],[1,"item-pair-item"],[3,"src","alt"],[1,"item-pair-item-name"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),I(2),k(),w(3,"div",2),I(4),k(),w(5,"div",3)(6,"div",4),$(7,"img",5),w(8,"span",6),I(9),k()(),w(10,"div",4),$(11,"img",5),w(12,"span",6),I(13),k()()()()),2&n&&(M(2),Ot(r.dateStrOfTimestamp(r.discussItemsMessage.timestamp)),M(2),Ot(r.discussItemsMessage.text),M(3),Gi("src",r.discussItemsMessage.itemPair.item1.imageUrl,T),Gi("alt",r.discussItemsMessage.itemPair.item1.name),M(2),Ot(r.discussItemsMessage.itemPair.item1.name),M(2),Gi("src",r.discussItemsMessage.itemPair.item2.imageUrl,T),Gi("alt",r.discussItemsMessage.itemPair.item2.name),M(2),Ot(r.discussItemsMessage.itemPair.item2.name))},styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;margin:0 0 10px;list-style:none;padding:10px;width:540px;background:#fff;border-radius:2px}.flex-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;font-size:1rem;margin-bottom:10px}.message[_ngcontent-%COMP%]{margin-left:10px}.date[_ngcontent-%COMP%]{font-size:10px;color:#aaa;margin-left:6px}.profile_and_message[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.item-pair-displays[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:16px;box-sizing:border-box;border:4px solid transparent;margin:0 6px;cursor:pointer;transition:all .1s ease-in-out}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;padding:5px;width:150px;height:150px;object-fit:contain}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   .item-pair-item-name[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px}"]})}return i})(),Hxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-chat-mediator-profile"]],standalone:!0,features:[pi],decls:6,vars:0,consts:[[1,"profile"],["src","/recommendation-rudders/assets/avatars/they.png","alt","Avatar image",1,"avatar"]],template:function(n,r){1&n&&(w(0,"div",0),$(1,"img",1),w(2,"div")(3,"u")(4,"b"),I(5,"Mediator: "),k()()()())},styles:[".avatar[_ngcontent-%COMP%]{border-radius:50%;width:40px}.profile[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}"]})}return i})(),d7=(()=>{class i{dateStrOfTimestamp(e){const n=new Date(e);return`${n.getFullYear()} - ${n.getMonth()} - ${n.getDate()}: ${n.getHours()}:${n.getMinutes()}:${n.getSeconds()}`}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-chat-mediator-message"]],inputs:{message:"message"},standalone:!0,features:[pi],decls:7,vars:2,consts:[[1,"flex-container"],[1,"date"],[1,"profile_and_message"],[1,"message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),I(2),k(),w(3,"div",2),$(4,"app-chat-mediator-profile"),w(5,"div",3),I(6),k()()()),2&n&&(M(2),Ot(r.dateStrOfTimestamp(r.message.timestamp)),M(4),Ot(r.message.text))},dependencies:[Hxe],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;margin:0 0 10px;list-style:none;padding:10px;width:540px;background:#fff;border-radius:2px}.message[_ngcontent-%COMP%]{margin-left:10px}.date[_ngcontent-%COMP%]{font-size:10px;color:#aaa;margin-left:6px}.profile_and_message[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}"]})}return i})();const zxe=["switch"];function Uxe(i,t){1&i&&(w(0,"div",12),Ta(),w(1,"svg",13),$(2,"path",14),k(),w(3,"svg",15),$(4,"path",16),k()())}const Wxe=["*"],jxe=new V("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),$xe={provide:mr,useExisting:Ct(()=>h7),multi:!0};class u7{constructor(t,e){this.source=t,this.checked=e}}let Gxe=0,h7=(()=>{class i{_createChangeEvent(e){return new u7(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,o,s,a){this._elementRef=e,this._focusMonitor=n,this._changeDetectorRef=r,this.defaults=s,this._onChange=l=>{},this._onTouched=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new pe,this.toggleChange=new pe,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Gxe,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new u7(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(Wa),C(Nt),Xr("tabindex"),C(jxe),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(n,r){if(1&n&&Ft(zxe,5),2&n){let o;fe(o=me())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(n,r){2&n&&(ws("id",r.id),ze("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),up(r.color?"mat-"+r.color:""),Ae("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:["disabled","disabled",ht],disableRipple:["disableRipple","disableRipple",ht],color:"color",tabIndex:["tabIndex","tabIndex",e=>null==e?0:QV(e)],name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:["required","required",ht],checked:["checked","checked",ht],hideIcon:["hideIcon","hideIcon",ht]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Te([$xe]),er],ngContentSelectors:Wxe,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(n,r){if(1&n&&(Lt(),w(0,"div",0)(1,"button",1,2),J("click",function(){return r._handleClick()}),$(3,"div",3),w(4,"div",4)(5,"div",5)(6,"div",6),$(7,"div",7),k(),w(8,"div",8),$(9,"div",9),k(),he(10,Uxe,5,0,"div",10),k()()(),w(11,"label",11),J("click",function(s){return s.stopPropagation()}),ye(12),k()()),2&n){const o=Nn(2);Ae("mdc-form-field--align-end","before"==r.labelPosition),M(1),Ae("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),j("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),ze("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),M(8),j("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),M(1),xe(10,r.hideIcon?-1:10),M(1),j("for",r.buttonId),ze("id",r._labelId)}},dependencies:[Rl],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return i})(),f7=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})(),Jxe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[f7,Mt,Pl,f7,Mt]})}return i})();const Yxe=(i,t)=>t.userId;function Xxe(i,t){if(1&i&&(w(0,"div",4),$(1,"img",5),w(2,"div",6),I(3),k(),w(4,"div",7),I(5),k()()),2&i){const e=Q().$implicit;M(1),Gi("src",e.profile.avatarUrl,T),M(2),ii(" ",e.profile.name," "),M(2),ii(" (",e.profile.pronouns,") ")}}function Zxe(i,t){if(1&i&&he(0,Xxe,6,3,"div",3),2&i){const e=t.$implicit,n=Q();xe(0,e.workingOnStageName===n.participant.userData().workingOnStageName?0:-1)}}function Qxe(i,t){1&i&&(w(0,"div",8),I(1,"Please hold for everyone else to reach the chat..."),k())}function eCe(i,t){1&i&&$(0,"app-chat-user-message",18),2&i&&j("message",Q().$implicit)}function tCe(i,t){1&i&&$(0,"app-chat-mediator-message",18),2&i&&j("message",Q().$implicit)}function iCe(i,t){1&i&&$(0,"app-chat-discuss-items-message",19),2&i&&j("discussItemsMessage",Q().$implicit)}function nCe(i,t){1&i&&$(0,"div")}function rCe(i,t){if(1&i&&(w(0,"div",17),he(1,eCe,1,1,"app-chat-user-message",18)(2,tCe,1,1)(3,iCe,1,1)(4,nCe,1,0),k()),2&i){const e=t.$implicit;M(1),xe(1,"userMessage"===e.messageType?1:"mediatorMessage"===e.messageType?2:"discussItemsMessage"===e.messageType?3:4)}}function oCe(i,t){if(1&i&&(w(0,"b"),I(1,"Your discussion is now focusing on selecting the best item between the following items"),k(),w(2,"div",20)(3,"div",21)(4,"div",22),$(5,"img",23),w(6,"span"),I(7),k()(),w(8,"div",22),$(9,"img",23),w(10,"span"),I(11),k()()()()),2&i){const e=Q(2);M(5),Gi("src",e.currentRatingsToDiscuss().item1.imageUrl,T),Gi("alt",e.currentRatingsToDiscuss().item1.name),M(2),Ot(e.currentRatingsToDiscuss().item1.name),M(2),Gi("src",e.currentRatingsToDiscuss().item2.imageUrl,T),Gi("alt",e.currentRatingsToDiscuss().item2.name),M(2),Ot(e.currentRatingsToDiscuss().item2.name)}}function sCe(i,t){if(1&i){const e=ki();w(0,"div",9)(1,"b"),I(2,"Discussion"),k(),w(3,"div",10),ir(4,rCe,5,1,"div",24,pp),k(),w(6,"div",11),$(7,"app-chat-user-profile",12),w(8,"mat-form-field",13)(9,"mat-label"),I(10,"Message to send"),k(),w(11,"input",14),J("ngModelChange",function(r){return Ve(e),Se(Q().message=r)}),k()(),w(12,"button",15),J("click",function(){return Ve(e),Se(Q().sendMessage())}),w(13,"span"),I(14,"Send"),k()()(),w(15,"div")(16,"mat-slide-toggle",16),J("change",function(r){return Ve(e),Se(Q().updateToogleValue(r))}),I(17," I'm done with chatting and ready to move on "),k()()(),he(18,oCe,12,6)}if(2&i){const e=Q();M(4),nr(e.messages()),M(3),j("profile",e.participant.userData().profile),M(4),j("ngModel",e.message)("disabled",!0===e.stageData().readyToEndChat),M(1),j("disabled",!0===e.stageData().readyToEndChat),M(4),j("checked",!0===e.stageData().readyToEndChat)("disabled",e.isSilent()),M(2),xe(18,e.currentRatingsToDiscuss()?18:-1)}}let m7=(()=>{class i{constructor(e){this.message="";const{participant:n,stageData:r}=e.getParticipantAndStage(Vt.groupChat);this.stageData=r,this.participant=n,this.messages=wi(()=>this.stageData().messages),this.otherParticipants=wi(()=>{const o=this.participant.userData().userId;return Object.values(this.participant.experiment().participants).filter(a=>a.userId!==o)}),this.everyoneReachedTheChat=wi(()=>Object.values(this.participant.experiment().participants).map(s=>s.workingOnStageName).every(s=>s===this.participant.userData().workingOnStageName)),this.everyoneFinishedTheChat=wi(()=>{const o=[];this.stageData().readyToEndChat&&o.push(this.participant.userData()),this.otherParticipants().forEach(a=>{a.stageMap[this.participant.userData().workingOnStageName].config.readyToEndChat&&o.push(a)});const s=o.length===this.otherParticipants().length+1;if(s){const a=Object.values(this.participant.experiment().participants);for(const l of a)l.allowedStageProgressionMap[l.workingOnStageName]=!0}return s}),wl(()=>{this.everyoneFinishedTheChat()&&this.participant.nextStep()},{allowSignalWrites:!0}),this.ratingsToDiscuss=wi(()=>this.stageData().ratingsToDiscuss),this.currentRatingsToDiscuss=wi(()=>this.ratingsToDiscuss()[this.ratingsToDiscuss().length-1])}isSilent(){return!1!==this.stageData().isSilent}sendMessage(){this.participant.sendMessage(this.message),this.message="",this.stageData().isSilent=!1}updateToogleValue(e){this.participant.editStageData(n=>{n.readyToEndChat=e.checked})}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-chat"]],standalone:!0,features:[pi],decls:8,vars:1,consts:[[1,"chat-members"],[1,"container"],["class","hold-message-container"],["class","profile"],[1,"profile"],[1,"avatar",3,"src"],[1,"name"],[1,"pronoun"],[1,"hold-message-container"],[1,"discussion"],[1,"messages"],[1,"message-form"],[3,"profile"],[1,"full-width"],["matInput","","placeholder","Write your message",3,"ngModel","disabled","ngModelChange"],["color","primary","mat-button","",3,"disabled","click"],[3,"checked","disabled","change"],[1,"message"],[3,"message"],[3,"discussItemsMessage"],[1,"flex-container"],[1,"item-pair-displays"],[1,"item-pair-item"],["width","20px",3,"src","alt"],["class","message"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"b"),I(2,"Other chat members "),k(),w(3,"div",1),ir(4,Zxe,1,1,null,null,Yxe),k()(),he(6,Qxe,2,0,"div",2)(7,sCe,19,7)),2&n&&(M(4),nr(r.otherParticipants()),M(2),xe(6,r.everyoneReachedTheChat()?7:6))},dependencies:[l7,c7,d7,a7,Mo,Kc,ja,za,Va,Vc,ru,Xo,$c,aa,Jc,Jxe,h7],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;margin:0 0 10px;list-style:none;padding:10px;width:540px;background:rgba(255,255,255,.2980392157);border-radius:2px}.flex-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;font-size:1rem;margin-bottom:10px}.message-form[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center}.container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:flex-start}.profile[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;align-items:center;justify-content:center;padding:10px}.avatar[_ngcontent-%COMP%]{border-radius:50%;width:40px}.chat-members[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.item-pair-displays[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:16px;box-sizing:border-box;border:4px solid transparent;margin:0 6px;cursor:pointer;transition:all .1s ease-in-out}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;padding:5px;width:150px;height:150px;object-fit:contain}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   .item-pair-item-name[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px}"]})}return i})();function aCe(i,t){1&i&&(w(0,"div",2),I(1,"Please hold for everyone else to reach the end of the experiment..."),k())}function lCe(i,t){if(1&i&&(w(0,"div",3),I(1," The leader is "),w(2,"strong"),I(3),k()()),2&i){const e=Q();M(3),Ot(e.finalLeader())}}let cCe=(()=>{class i{constructor(e){this.stateService=e;const{participant:n,stageData:r}=this.stateService.getParticipantAndStage(Vt.revealVoted);this.stageData=r(),this.participant=n,this.everyoneReachedTheEnd=wi(()=>{const o=Object.values(this.participant.experiment().participants),s=o.map(a=>a.futureStageNames.length).every(a=>1===a);if(s)for(const a of o)a.allowedStageProgressionMap[a.workingOnStageName]=!0;return s}),this.finalLeader=wi(()=>{const o=Object.values(this.participant.experiment().participants),s={};o.forEach(({userId:l})=>{s[l]=0});for(const l of o){const c=l.stageMap[this.stageData.pendingVoteStageName].config;for(const u of Object.keys(c)){const f=c[u];"positive"===f?s[u]+=1:"negative"===f?s[u]-=1:"neutral"===f&&(s[u]+=0)}}return(0,sv.reverse)((0,sv.sortBy)(Object.entries(s).map(([l,c])=>({userId:l,vote:c})),["vote"]))[0].userId})}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-leader-reveal"]],standalone:!0,features:[pi],decls:3,vars:1,consts:[[1,"main"],["class","hold-message-container"],[1,"hold-message-container"],[1,"leader-reveal-container"]],template:function(n,r){1&n&&(w(0,"div",0),he(1,aCe,2,0,"div",1)(2,lCe,4,1),k()),2&n&&(M(1),xe(1,r.everyoneReachedTheEnd()?2:1))},styles:[".main[_ngcontent-%COMP%]{padding:2rem}.hold-message-container[_ngcontent-%COMP%]{font-size:1.1rem;font-style:italic}.leader-reveal-container[_ngcontent-%COMP%]{font-size:1.1rem}"]})}return i})();const dCe=["input"],uCe=["*"];let p7=0;class g7{constructor(t,e){this.source=t,this.value=e}}const hCe={provide:mr,useExisting:Ct(()=>xk),multi:!0},_7=new V("MatRadioGroup"),fCe=new V("mat-radio-default-options",{providedIn:"root",factory:function mCe(){return{color:"accent"}}});let xk=(()=>{class i{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=$e(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=$e(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+p7++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new pe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new g7(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt))};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-radio-group"]],contentQueries:function(n,r,o){if(1&n&&ut(o,Ck,5),2&n){let s;fe(s=me())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Te([hCe,{provide:_7,useExisting:i}])]})}return i})();class pCe{constructor(t){this._elementRef=t}}const gCe=yD(Kp(pCe));let Ck=(()=>{class i extends gCe{get checked(){return this._checked}set checked(e){const n=$e(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled($e(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=$e(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,o,s,a,l,c){super(n),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++p7,this.id=this._uniqueId,this.change=new pe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===a,c&&(this.tabIndex=Ki(c,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new g7(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let n;if(n=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}static#e=this.\u0275fac=function(n){return new(n||i)(C(_7,8),C(ke),C(Nt),C(Wa),C(R2),C(Vi,8),C(fCe,8),Xr("tabindex"))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-radio-button"]],viewQuery:function(n,r){if(1&n&&Ft(dCe,5),2&n){let o;fe(o=me())&&(r._inputElement=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(n,r){1&n&&J("focus",function(){return r._inputElement.nativeElement.focus()}),2&n&&(ze("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),Ae("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],features:[Me],ngContentSelectors:uCe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(n,r){if(1&n&&(Lt(),w(0,"div",0,1)(2,"div",2)(3,"div",3),J("click",function(s){return r._onTouchTargetClick(s)}),k(),w(4,"input",4,5),J("change",function(s){return r._onInputInteraction(s)}),k(),w(6,"div",6),$(7,"div",7)(8,"div",8),k(),w(9,"div",9),$(10,"div",10),k()(),w(11,"label",11),ye(12),k()()),2&n){const o=Nn(1);Ae("mdc-form-field--align-end","before"==r.labelPosition),M(2),Ae("mdc-radio--disabled",r.disabled),M(2),j("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),ze("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),M(5),j("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),M(2),j("for",r.inputId)}},dependencies:[Rl],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return i})(),N2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Bc,Pl,Mt]})}return i})();const _Ce=(i,t)=>t.userId;function bCe(i,t){if(1&i){const e=ki();w(0,"label",1),I(1),k(),w(2,"mat-radio-group",2),J("change",function(r){const s=Ve(e).$implicit;return Se(Q().setVote(r,s.userId))}),w(3,"mat-radio-button",3),I(4),k(),w(5,"mat-radio-button",3),I(6),k(),w(7,"mat-radio-button",3),I(8),k(),w(9,"button",4),J("click",function(){const o=Ve(e).$implicit;return Se(Q().resetVote(o.userId))}),I(10,"Clear"),k()(),$(11,"br")}if(2&i){const e=t.$implicit,n=Q();j("id",e.userId),M(1),Rh("",e.profile.name," (",e.profile.pronouns,"):"),M(1),j("value",n.votes[e.userId]),M(1),j("value",n.LeaderVote.POSITIVE),M(1),ii(" ",n.LeaderVote.POSITIVE," "),M(1),j("value",n.LeaderVote.NEUTRAL),M(1),ii(" ",n.LeaderVote.NEUTRAL," "),M(1),j("value",n.LeaderVote.NEGATIVE),M(1),ii(" ",n.LeaderVote.NEGATIVE," ")}}let b7=(()=>{class i{constructor(e){this.stateService=e,this.LeaderVote=av;const{participant:n,stageData:r}=this.stateService.getParticipantAndStage(Vt.voteForLeader);this.votes=r(),this.participant=n,this.otherParticipants=wi(()=>{const s=this.participant.userData().userId;return Object.values(this.participant.experiment().participants).filter(l=>l.userId!==s)});const o={};for(const s of this.otherParticipants())o[s.userId]=s,s.userId in this.votes||(this.votes[s.userId]=av.NOT_RATED);Object.keys(this.votes).forEach(s=>{s in o||delete this.votes[s]})}isComplete(){let e=!0;return this.otherParticipants().forEach(n=>{(!(n.userId in this.votes)||this.votes[n.userId]===av.NOT_RATED)&&(e=!1)}),e}setVote(e,n){const{value:r}=e;this.votes[n]=r,this.participant.editStageData(()=>this.votes)}resetVote(e){this.votes[e]=av.NOT_RATED,this.participant.editStageData(()=>this.votes)}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-leader-vote"]],standalone:!0,features:[pi],decls:3,vars:0,consts:[[1,"main"],[3,"id"],[1,"vote-radio-group",3,"value","change"],[1,"vote-radio-button",3,"value"],["mat-button","","color","accent",1,"vote-clear-button",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0),ir(1,bCe,12,10,null,null,_Ce),k()),2&n&&(M(1),nr(r.otherParticipants()))},dependencies:[N2,xk,Ck,Xo,$c],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.vote-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.vote-radio-group[_ngcontent-%COMP%]   .vote-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}.vote-radio-group[_ngcontent-%COMP%]   .vote-clear-button[_ngcontent-%COMP%]{margin-left:10px}"]})}return i})(),v7=(()=>{class i{constructor(e){this.stateService=e;const{participant:n,stageData:r}=this.stateService.getParticipantAndStage(Vt.setProfile);this.profile=wi(()=>(console.log("ExpProfileComponent stage data: ",r()),r())),this.participant=n}isComplete(){return""!==this.profile().avatarUrl&&""!==this.profile().name&&""!==this.profile().pronouns}updateName(e){console.log("updateName",e),this.participant.editStageData(n=>{n.name=e,this.participant.setProfile(n)})}updatePronouns(e){console.log("updatePronouns",e),e.value!==this.participant.userData().profile.pronouns&&this.participant.editStageData(n=>{n.pronouns=e.value,this.participant.setProfile(n)})}updateAvatarUrl(e){console.log("updateAvatarUrl",e),this.participant.editStageData(n=>{n.avatarUrl=e.value,this.participant.setProfile(n)})}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-profile"]],standalone:!0,features:[pi],decls:31,vars:7,consts:[[1,"main"],[1,"full-width"],["matInput","","placeholder","Write your response",3,"ngModel","ngModelChange"],[1,"pronouns-radio-group",3,"change"],["value","She/Her",1,"pronouns-radio-button",3,"checked"],["value","They/Them",1,"pronouns-radio-button",3,"checked"],["value","He/Him",1,"pronouns-radio-button",3,"checked"],[1,"avatar-radio-group",3,"change"],["value","/recommendation-rudders/assets/avatars/she.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/she.png","alt","Avatar Female","width","72","height","77"],["value","/recommendation-rudders/assets/avatars/they.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/they.png","alt","Avatar Neutral","width","72","height","77"],["value","/recommendation-rudders/assets/avatars/he.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/he.png","alt","Avatar Male","width","72","height","77"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"h2"),I(2,"Profile Setting"),k(),w(3,"p"),$(4,"br")(5,"br"),I(6," Please select your pseudo. This will be used to refer to you in the app. "),k(),w(7,"mat-form-field",1)(8,"mat-label"),I(9,"My Name"),k(),w(10,"input",2),J("ngModelChange",function(s){return r.updateName(s)}),k()(),w(11,"p"),I(12,"Please select your preferred pronouns. This will be used to refer to you in the app."),k(),w(13,"mat-radio-group",3),J("change",function(s){return r.updatePronouns(s)}),w(14,"mat-radio-button",4),I(15,"She/Her"),k(),w(16,"mat-radio-button",5),I(17,"They/Them"),k(),w(18,"mat-radio-button",6),I(19,"He/Him"),k()(),w(20,"p"),$(21,"br")(22,"br"),I(23," Please select your avatar. This will be used to refer to you in the app. "),k(),w(24,"mat-radio-group",7),J("change",function(s){return r.updateAvatarUrl(s)}),w(25,"mat-radio-button",8),$(26,"img",9),k(),w(27,"mat-radio-button",10),$(28,"img",11),k(),w(29,"mat-radio-button",12),$(30,"img",13),k()()()),2&n&&(M(10),j("ngModel",r.profile().name),M(4),j("checked","She/Her"===r.profile().pronouns),M(2),j("checked","They/Them"===r.profile().pronouns),M(2),j("checked","He/Him"===r.profile().pronouns),M(7),j("checked","/recommendation-rudders/assets/avatars/she.png"===r.profile().avatarUrl),M(2),j("checked","/recommendation-rudders/assets/avatars/they.png"===r.profile().avatarUrl),M(2),j("checked","/recommendation-rudders/assets/avatars/he.png"===r.profile().avatarUrl))},dependencies:[N2,xk,Ck,Xo,Mo,Kc,ja,aa,Jc,za,Va,Vc,ru,Ip],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}.avatar-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0;align-items:flex-start}.avatar-radio-button[_ngcontent-%COMP%]{margin:5px}"]})}return i})();const vCe=["knob"],yCe=["valueIndicatorContainer"];function wCe(i,t){if(1&i&&(w(0,"div",4,5)(2,"div",6)(3,"span",7),I(4),k()()()),2&i){const e=Q();M(4),Ot(e.valueIndicatorText)}}const xCe=["trackActive"];function CCe(i,t){if(1&i&&$(0,"div"),2&i){const e=t.$implicit,n=t.$index,r=Q(3);up(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Cl("transform",r._calcTickMarkTransform(n))}}function DCe(i,t){1&i&&ir(0,CCe,1,4,"div",9,Rc),2&i&&nr(Q(2)._tickMarks)}function kCe(i,t){if(1&i&&(w(0,"div",7,8),he(2,DCe,2,0),k()),2&i){const e=Q();M(2),xe(2,e._cachedWidth?2:-1)}}function ECe(i,t){if(1&i&&$(0,"mat-slider-visual-thumb",6),2&i){const e=Q();j("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const SCe=["*"],Dk=new V("_MatSlider"),y7=new V("_MatSliderThumb"),w7=new V("_MatSliderRangeThumb"),x7=new V("_MatSliderVisualThumb");let MCe=(()=>{class i{constructor(e,n,r,o){this._cdr=e,this._ngZone=n,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt),C(_e),C(ke),C(Dk))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,r){if(1&n&&(Ft(Rl,5),Ft(vCe,5),Ft(yCe,5)),2&n){let o;fe(o=me())&&(r._ripple=o.first),fe(o=me())&&(r._knob=o.first),fe(o=me())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Te([{provide:x7,useExisting:i}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,r){1&n&&(he(0,wCe,5,1,"div",0),$(1,"div",1,2)(3,"div",3)),2&n&&(xe(0,r.discrete?0:-1),M(3),j("matRippleDisabled",!0))},dependencies:[Rl],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return i})();const ACe=vD(yD(class{constructor(i){this._elementRef=i}}),"primary");let C7=(()=>{class i extends ACe{get disabled(){return this._disabled}set disabled(e){this._disabled=$e(e);const n=this._getInput(2),r=this._getInput(1);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=$e(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=$e(e)}get min(){return this._min}set min(e){const n=Ki(e,this._min);this._min!==n&&this._updateMin(n)}_updateMin(e){const n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,s=r.value;r.min=e.new,n.min=Math.max(e.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),o!==n.value&&this._onValueChange(n),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){const n=Ki(e,this._max);this._max!==n&&this._updateMax(n)}_updateMax(e){const n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const n=this._getInput(2),r=this._getInput(1),o=n.value,s=r.value;n.max=e.new,r.max=Math.min(e.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),o!==n.value&&this._onValueChange(n),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){const n=this._getInput(2);if(n){const r=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){const n=Ki(e,this._step);this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),n=this._getInput(1),r=e.value,o=n.value,s=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<s?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),r!==e.value&&this._onValueChange(e),o!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const e=this._getInput(2);if(e){const n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}constructor(e,n,r,o,s,a){super(r),this._ngZone=e,this._cdr=n,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=te(zi),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),n=this._getInput(1);this._isRange=!!e&&!!n,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),n=this._getInput(1);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const n=this._trackActive.nativeElement.style;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),n=this._getInput(1);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),n=this._getInput(2);return!(!e||!n)&&n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const n=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=n:e._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const r=this._getThumb(e.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),n=this._getInput(1);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const n=e.getSibling();if(!n||!this._cachedWidth)return;const r=Math.abs(n.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const n=this._getValue();let r=Math.max(Math.round((n-this.min)/e),0),o=Math.max(Math.round((this.max-n)/e),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(e){const n=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/e),0),s=Math.max(Math.floor((n-r)/e)+1,0),a=Math.max(Math.floor((this.max-n)/e),0);this._tickMarks=Array(o).fill(1).concat(Array(s).fill(0),Array(a).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,n){const r=n.width/2,l=e.clientY-(n.y+r);return Math.pow(e.clientX-(n.x+r),2)+Math.pow(l,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(n){return new(n||i)(C(_e),C(Nt),C(ke),C(ks,8),C(cu,8),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-slider"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,y7,5),ut(o,w7,4)),2&n){let s;fe(s=me())&&(r._input=s.first),fe(s=me())&&(r._inputs=s)}},viewQuery:function(n,r){if(1&n&&(Ft(xCe,5),Ft(x7,5)),2&n){let o;fe(o=me())&&(r._trackActive=o.first),fe(o=me())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(n,r){2&n&&Ae("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Te([{provide:Dk,useExisting:i}]),Me],ngContentSelectors:SCe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[3,"class","transform"]],template:function(n,r){1&n&&(Lt(),ye(0),w(1,"div",0),$(2,"div",1),w(3,"div",2),$(4,"div",3,4),k(),he(6,kCe,3,1,"div",5),k(),he(7,ECe,1,3,"mat-slider-visual-thumb",6),$(8,"mat-slider-visual-thumb",6)),2&n&&(M(6),xe(6,r.showTickMarks?6:-1),M(1),xe(7,r._isRange?7:-1),M(1),j("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[MCe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-slider-value-indicator-opacity)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();const ICe={provide:mr,useExisting:Ct(()=>kk),multi:!0};let kk=(()=>{class i{get value(){return Ki(this._hostElement.value)}set value(e){const n=Ki(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return Ki(this._hostElement.min)}set min(e){this._hostElement.min=Ki(e).toString(),this._cdr.detectChanges()}get max(){return Ki(this._hostElement.max)}set max(e){this._hostElement.max=Ki(e).toString(),this._cdr.detectChanges()}get step(){return Ki(this._hostElement.step)}set step(e){this._hostElement.step=Ki(e).toString(),this._cdr.detectChanges()}get disabled(){return $e(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=$e(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,n,r,o){this._ngZone=e,this._elementRef=n,this._cdr=r,this._slider=o,this.valueChange=new pe,this.dragStart=new pe,this.dragEnd=new pe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new de,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=te(zi),this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!this.disabled&&0===e.button){if(this._platform.IOS){const n=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=n,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const n=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),c=Math.round((this._slider._isRtl?1-n/r:n/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,u=Math.round(c/o)*o;if(u===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=u,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||null!==e)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(n){return new(n||i)(C(_e),C(ke),C(Nt),C(Dk))};static#t=this.\u0275dir=ne({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(n,r){1&n&&J("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&n&&ze("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Te([ICe,{provide:y7,useExisting:i}])]})}return i})(),L2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Pl]})}return i})();const PCe=["input"],FCe=["label"],NCe=["*"],LCe=new V("mat-checkbox-default-options",{providedIn:"root",factory:D7});function D7(){return{color:"accent",clickAction:"check-indeterminate"}}const BCe={provide:mr,useExisting:Ct(()=>Ek),multi:!0};class VCe{}let HCe=0;const k7=D7();let Ek=(()=>{class i{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const n=new VCe;return n.source=this,n.checked=e,n}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,r,o,s,a){this._elementRef=e,this._changeDetectorRef=n,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new pe,this.indeterminateChange=new pe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||k7,this.color=this._options.color||k7.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++HCe}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const n=e!=this._indeterminate;this._indeterminate=e,n&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let n=this._currentCheckState,r=this._getAnimationTargetElement();if(n!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(n,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,n){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===n)return this._animationClasses.uncheckedToChecked;if(3==n)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===n?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===n?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===n?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const n=this._inputElement;n&&(n.nativeElement.indeterminate=e)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}static#e=this.\u0275fac=function(n){return new(n||i)(C(ke),C(Nt),C(_e),Xr("tabindex"),C(Vi,8),C(LCe,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-checkbox"]],viewQuery:function(n,r){if(1&n&&(Ft(PCe,5),Ft(FCe,5),Ft(Rl,5)),2&n){let o;fe(o=me())&&(r._inputElement=o.first),fe(o=me())&&(r._labelElement=o.first),fe(o=me())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(n,r){2&n&&(ws("id",r.id),ze("tabindex",null)("aria-label",null)("aria-labelledby",null),up(r.color?"mat-"+r.color:"mat-accent"),Ae("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:["required","required",ht],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:["disableRipple","disableRipple",ht],tabIndex:["tabIndex","tabIndex",e=>null==e?void 0:QV(e)],color:"color",checked:["checked","checked",ht],disabled:["disabled","disabled",ht],indeterminate:["indeterminate","indeterminate",ht]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Te([BCe]),er],ngContentSelectors:NCe,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(n,r){if(1&n&&(Lt(),w(0,"div",0),J("click",function(s){return r._preventBubblingFromLabel(s)}),w(1,"div",1,2)(3,"div",3),J("click",function(){return r._onTouchTargetClick()}),k(),w(4,"input",4,5),J("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),k(),$(6,"div",6),w(7,"div",7),Ta(),w(8,"svg",8),$(9,"path",9),k(),gm(),$(10,"div",10),k(),$(11,"div",11),k(),w(12,"label",12,13),ye(14),k()()),2&n){const o=Nn(2);Ae("mdc-form-field--align-end","before"==r.labelPosition),M(4),Ae("mdc-checkbox--selected",r.checked),j("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),ze("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),M(7),j("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),M(1),j("for",r.inputId)}},dependencies:[Rl],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})(),E7=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})(),Sk=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Pl,E7,Mt,E7]})}return i})(),WCe=(()=>{class i{updateCheckboxValue(e){this.question.edit(()=>{this.question.data.checkMark=e.checked})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-survey-check-question"]],inputs:{question:"question"},standalone:!0,features:[pi],decls:3,vars:1,consts:[["required","",3,"change"]],template:function(n,r){1&n&&(w(0,"div")(1,"mat-checkbox",0),J("change",function(s){return r.updateCheckboxValue(s)}),I(2),k()()),2&n&&(M(2),Ot(r.question.data.questionText))},dependencies:[Sk,Ek],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem;width:540px}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}mat-slider[_ngcontent-%COMP%]{width:300px}.bound[_ngcontent-%COMP%]{word-wrap:break-word;width:150px}.item-pair[_ngcontent-%COMP%]{width:100%;margin:20px;display:flex;flex-direction:column;align-items:center;padding:16px;border-bottom:1px dashed lightgray}.item-pair[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;font-size:1rem;margin-bottom:10px}.item-pair-displays[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:16px;box-sizing:border-box;border:4px solid transparent;margin:0 6px;cursor:pointer;transition:all .1s ease-in-out}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item.selected[_ngcontent-%COMP%]{border-color:#5d79f7a9;background-color:#e2e4ec}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]:hover{border:4px solid rgba(93,121,247,.661)}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;padding:5px;width:150px;height:150px;object-fit:contain}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   .item-pair-item-name[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px}.item-pair-confidence[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding:.75rem 1rem;border-radius:10px;display:flex;align-items:center;justify-content:space-between}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-left:6px;border-radius:5px;padding:.125rem .25rem;background-color:#d0d8fc}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value.not-rated[_ngcontent-%COMP%]{background-color:#e54938;color:#fff}.slider-container[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]   .slider-end-label[_ngcontent-%COMP%]{opacity:.5;margin:8px}.slider-container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100px}"]})}return i})();function jCe(i,t){1&i&&(w(0,"span",13)(1,"b"),I(2," 50/50 \u{1f937}"),k()())}function $Ce(i,t){1&i&&(w(0,"span",13),I(1,"50/50 \u{1f937}"),k())}function GCe(i,t){1&i&&(w(0,"span",13),I(1,"\u{1f44d}"),w(2,"b"),I(3," Full "),$(4,"br"),I(5,"confidence"),k()())}function qCe(i,t){1&i&&(w(0,"span",13),I(1,"\u{1f44d} Full "),$(2,"br"),I(3,"confidence"),k())}function KCe(i,t){if(1&i){const e=ki();w(0,"div",7)(1,"div",8)(2,"strong"),I(3,"Confidence:"),k(),w(4,"span"),I(5),k()(),w(6,"div",9),he(7,jCe,3,0,"span",10)(8,$Ce,2,0),w(9,"mat-slider",11)(10,"input",12),J("valueChange",function(r){return Ve(e),Se(Q().setConfidence(r))}),k()(),he(11,GCe,6,0,"span",10)(12,qCe,4,0),k()()}if(2&i){const e=Q();M(4),hp("value ",null===e.question.data.rating.confidence?"not-rated":"",""),M(1),ii(" ",null!==e.question.data.rating.confidence?e.question.data.rating.confidence.toFixed(1):"Not rated"," "),M(2),xe(7,0===e.question.data.rating.confidence||null===e.question.data.rating.confidence?7:8),M(3),Gi("value",e.question.data.rating.confidence),M(1),xe(11,1===e.question.data.rating.confidence?11:12)}}let JCe=(()=>{class i{setChoice(e){this.question.edit(()=>{this.question.data.rating.choice=e})}setConfidence(e){this.question.edit(()=>{this.question.data.rating.confidence=e})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-survey-rating-question"]],inputs:{question:"question"},standalone:!0,features:[pi],decls:13,vars:14,consts:[[1,"item-pair"],[1,"title"],[1,"item-pair-displays"],[3,"click"],[3,"src","alt"],[1,"item-pair-item-name"],["class","item-pair-confidence"],[1,"item-pair-confidence"],[1,"confidence-value"],[1,"slider-container"],["class","slider-end-label"],["min","0.5","max","1","step","0.1","discrete",""],["matSliderThumb","",3,"value","valueChange"],[1,"slider-end-label"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"div",1),I(2),k(),w(3,"div",2)(4,"button",3),J("click",function(){return r.setChoice("item1")}),$(5,"img",4),w(6,"span",5),I(7),k()(),w(8,"button",3),J("click",function(){return r.setChoice("item2")}),$(9,"img",4),w(10,"span",5),I(11),k()()(),he(12,KCe,13,7,"div",6),k()),2&n&&(M(2),Ot(r.question.data.questionText),M(2),hp("item-pair-item ","item1"===r.question.data.rating.choice?"selected":"",""),M(1),Gi("src",r.question.data.rating.item1.imageUrl,T),Gi("alt",r.question.data.rating.item1.name),M(2),Ot(r.question.data.rating.item1.name),M(1),hp("item-pair-item ","item2"===r.question.data.rating.choice?"selected":"",""),M(1),Gi("src",r.question.data.rating.item2.imageUrl,T),Gi("alt",r.question.data.rating.item2.name),M(2),Ot(r.question.data.rating.item2.name),M(1),xe(12,null!==r.question.data.rating.choice?12:-1))},dependencies:[L2,C7,kk],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem;width:540px}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}mat-slider[_ngcontent-%COMP%]{width:300px}.bound[_ngcontent-%COMP%]{word-wrap:break-word;width:150px}.item-pair[_ngcontent-%COMP%]{width:100%;margin:20px;display:flex;flex-direction:column;align-items:center;padding:16px;border-bottom:1px dashed lightgray}.item-pair[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;font-size:1rem;margin-bottom:10px}.item-pair-displays[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:16px;box-sizing:border-box;border:4px solid transparent;margin:0 6px;cursor:pointer;transition:all .1s ease-in-out}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item.selected[_ngcontent-%COMP%]{border-color:#5d79f7a9;background-color:#e2e4ec}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]:hover{border:4px solid rgba(93,121,247,.661)}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;padding:5px;width:150px;height:150px;object-fit:contain}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   .item-pair-item-name[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px}.item-pair-confidence[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding:.75rem 1rem;border-radius:10px;display:flex;align-items:center;justify-content:space-between}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-left:6px;border-radius:5px;padding:.125rem .25rem;background-color:#d0d8fc}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value.not-rated[_ngcontent-%COMP%]{background-color:#e54938;color:#fff}.slider-container[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]   .slider-end-label[_ngcontent-%COMP%]{opacity:.5;margin:8px}.slider-container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100px}"]})}return i})(),YCe=(()=>{class i{setSliderValue(e){this.question.edit(()=>{this.question.data.score=e})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-survey-scale-question"]],inputs:{question:"question"},standalone:!0,features:[pi],decls:12,vars:4,consts:[[2,"white-space","pre-wrap"],[1,"bound"],["min","0","max","10","step","1","showTickMarks","","discrete",""],["matSliderThumb","",3,"value","valueChange"]],template:function(n,r){1&n&&(w(0,"div")(1,"h2",0),I(2),k()(),w(3,"table")(4,"tr")(5,"td",1),I(6),k(),w(7,"td")(8,"mat-slider",2)(9,"input",3),J("valueChange",function(s){return r.setSliderValue(s)}),k()()(),w(10,"td",1),I(11),k()()()),2&n&&(M(2),ii(" ",r.question.data.questionText," "),M(4),Ot(r.question.data.lowerBound),M(3),j("value",r.question.data.score),M(2),Ot(r.question.data.upperBound))},dependencies:[L2,C7,kk],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}.bound[_ngcontent-%COMP%]{word-wrap:break-word;width:150px}"]})}return i})(),XCe=(()=>{class i{updateAnswerText(e){console.log(e),this.question.edit(()=>{this.question.data.answerText=e})}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-survey-text-question"]],inputs:{question:"question"},standalone:!0,features:[pi],decls:4,vars:2,consts:[[1,"full-width"],["matInput","","placeholder","Write your response",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(w(0,"mat-form-field",0)(1,"mat-label"),I(2),k(),w(3,"input",1),J("ngModelChange",function(s){return r.updateAnswerText(s)}),k()()),2&n&&(M(2),Ot(r.question.data.questionText),M(1),j("ngModel",r.question.data.answerText))},dependencies:[za,Va,Vc,ru,Mo,Kc,ja,aa,Jc],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem;width:540px}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}mat-slider[_ngcontent-%COMP%]{width:300px}.bound[_ngcontent-%COMP%]{word-wrap:break-word;width:150px}"]})}return i})();class ZCe{constructor(t,e,n){this.participant=t,this.survey=e,this.questionIndex=n,this.data=e().questions[this.questionIndex]}edit(t){const e=this.survey().questions,r=t(e[this.questionIndex]);r&&(e[this.questionIndex]=r),this.participant.editStageData(o=>{o.questions=e})}}function QCe(i,t){if(1&i&&$(0,"app-survey-check-question",1),2&i){const e=Q().$implicit,n=Q();j("question",n.questionAsKind(n.SurveyQuestionKind.CHECK,e))}}function eDe(i,t){if(1&i&&$(0,"app-survey-text-question",1),2&i){const e=Q().$implicit,n=Q();j("question",n.questionAsKind(n.SurveyQuestionKind.TEXT,e))}}function tDe(i,t){if(1&i&&$(0,"app-survey-rating-question",1),2&i){const e=Q().$implicit,n=Q();j("question",n.questionAsKind(n.SurveyQuestionKind.RATING,e))}}function iDe(i,t){if(1&i&&$(0,"app-survey-scale-question",1),2&i){const e=Q().$implicit,n=Q();j("question",n.questionAsKind(n.SurveyQuestionKind.SCALE,e))}}function nDe(i,t){if(1&i&&he(0,QCe,1,1,"app-survey-check-question",1)(1,eDe,1,1)(2,tDe,1,1)(3,iDe,1,1),2&i){const e=t.$implicit,n=Q();xe(0,e.data.kind===n.SurveyQuestionKind.CHECK?0:e.data.kind===n.SurveyQuestionKind.TEXT?1:e.data.kind===n.SurveyQuestionKind.RATING?2:e.data.kind===n.SurveyQuestionKind.SCALE?3:-1)}}let S7=(()=>{class i{constructor(e){this.SurveyQuestionKind=Cs;const{participant:n,stageData:r}=e.getParticipantAndStage(Vt.takeSurvey);this.stageData=r,this.participant=n,this.questions=wi(()=>r().questions.map((o,s)=>new ZCe(this.participant,this.stageData,s)))}questionAsKind(e,n){return n}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-survey"]],standalone:!0,features:[pi],decls:3,vars:0,consts:[[1,"main"],[3,"question"]],template:function(n,r){1&n&&(w(0,"div",0),ir(1,nDe,4,1,null,null,Rc),k()),2&n&&(M(1),nr(r.questions()))},dependencies:[za,Ip,Mo,aa,L2,WCe,JCe,YCe,XCe],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem;width:540px}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}mat-slider[_ngcontent-%COMP%]{width:300px}.bound[_ngcontent-%COMP%]{word-wrap:break-word;width:150px}.item-pair[_ngcontent-%COMP%]{width:100%;margin:20px;display:flex;flex-direction:column;align-items:center;padding:16px;border-bottom:1px dashed lightgray}.item-pair[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;font-size:1rem;margin-bottom:10px}.item-pair-displays[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:16px;border-radius:16px;box-sizing:border-box;border:4px solid transparent;margin:0 6px;cursor:pointer;transition:all .1s ease-in-out}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item.selected[_ngcontent-%COMP%]{border-color:#5d79f7a9;background-color:#e2e4ec}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]:hover{border:4px solid rgba(93,121,247,.661)}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px;padding:5px;width:150px;height:150px;object-fit:contain}.item-pair-displays[_ngcontent-%COMP%]   .item-pair-item[_ngcontent-%COMP%]   .item-pair-item-name[_ngcontent-%COMP%]{font-size:1rem;margin-top:5px}.item-pair-confidence[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding:.75rem 1rem;border-radius:10px;display:flex;align-items:center;justify-content:space-between}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-left:6px;border-radius:5px;padding:.125rem .25rem;background-color:#d0d8fc}.item-pair-confidence[_ngcontent-%COMP%]   .confidence-value[_ngcontent-%COMP%]   .value.not-rated[_ngcontent-%COMP%]{background-color:#e54938;color:#fff}.slider-container[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]   .slider-end-label[_ngcontent-%COMP%]{opacity:.5;margin:8px}.slider-container[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100px}"]})}return i})();function rDe(i,t){if(1&i&&(w(0,"li"),I(1),k()),2&i){const e=t.$implicit;M(1),Ot(e)}}var Vy=function(i){return i.HeHim="He/Him",i.SheHer="She/Her",i.TheyThem="They/Them",i}(Vy||{});let M7=(()=>{class i{constructor(e){this.Pronouns=Vy;const{participant:n,stageData:r}=e.getParticipantAndStage(Vt.acceptTosAndSetProfile);this.stageData=r,this.participant=n}canProceedToNextStep(e){return""!==e.profile.avatarUrl&&""!==e.profile.name&&""!==e.profile.pronouns}isOtherPronoun(e){return e!==Vy.HeHim&&e!==Vy.SheHer&&e!==Vy.TheyThem}updateCheckboxValue(e){this.participant.editStageData(n=>{n.acceptedTosTimestamp=e.checked?new Date:null})}updateName(e){this.participant.editStageData(n=>{n.name=e}),this.updateUserProfile()}updatePronouns(e){this.participant.editStageData(n=>{n.pronouns=e.value}),this.updateUserProfile()}updateOtherPronoun(e){this.participant.editStageData(n=>{n.pronouns=e}),this.updateUserProfile()}updateAvatarUrl(e){this.participant.editStageData(n=>{n.avatarUrl=e.value}),this.updateUserProfile()}updateUserProfile(){this.participant.edit(e=>{e.profile.avatarUrl=this.stageData().avatarUrl,e.profile.name=this.stageData().name,e.profile.pronouns=this.stageData().pronouns,e.allowedStageProgressionMap[e.workingOnStageName]=this.canProceedToNextStep(e)})}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-tos-and-profile"]],standalone:!0,features:[pi],decls:50,vars:15,consts:[[1,"main"],[1,"full-width"],["matInput","","placeholder","Write your response",3,"ngModel","ngModelChange"],[1,"pronouns-radio-group",3,"change"],[1,"pronouns-radio-button",3,"checked","value"],[1,"avatar-container"],[1,"avatar-radio-group",3,"change"],["value","/recommendation-rudders/assets/avatars/she.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/she.png","alt","Avatar Female","width","72","height","77"],["value","/recommendation-rudders/assets/avatars/they.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/they.png","alt","Avatar Neutral","width","72","height","77"],["value","/recommendation-rudders/assets/avatars/he.png",1,"avatar-radio-button",3,"checked"],["src","/recommendation-rudders/assets/avatars/he.png","alt","Avatar Male","width","72","height","77"],["required","",3,"checked","change"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"h2"),I(2,"Profile Setting"),k(),w(3,"p"),$(4,"br")(5,"br"),I(6," Please select your username. This will be used to refer to you in the app. "),k(),w(7,"mat-form-field",1)(8,"mat-label"),I(9,"My Name"),k(),w(10,"input",2),J("ngModelChange",function(s){return r.updateName(s)}),k()(),w(11,"p"),I(12,"Please select your preferred pronouns. This will be used to refer to you in the app."),k(),w(13,"mat-radio-group",3),J("change",function(s){return r.updatePronouns(s)}),w(14,"mat-radio-button",4),I(15),k(),w(16,"mat-radio-button",4),I(17),k(),w(18,"mat-radio-button",4),I(19),k()(),w(20,"span"),I(21,"Other: "),w(22,"mat-form-field",1)(23,"mat-label"),I(24,"My Pronouns"),k(),w(25,"input",2),J("ngModelChange",function(s){return r.updateOtherPronoun(s)}),k()()(),w(26,"div",5)(27,"div"),$(28,"br")(29,"br"),I(30," Please select your avatar. This will be used to refer to you in the app. "),k(),w(31,"mat-radio-group",6),J("change",function(s){return r.updateAvatarUrl(s)}),w(32,"mat-radio-button",7),$(33,"img",8),k(),w(34,"mat-radio-button",9),$(35,"img",10),k(),w(36,"mat-radio-button",11),$(37,"img",12),k()()(),w(38,"p"),$(39,"br")(40,"br"),k(),w(41,"h2"),I(42,"Terms of Service"),k(),w(43,"p"),I(44,"Please read and accept the following terms of service before proceeding:"),k(),w(45,"ul"),ir(46,rDe,2,1,"li",null,Rc),k(),w(48,"mat-checkbox",13),J("change",function(s){return r.updateCheckboxValue(s)}),I(49," I accept the terms of service "),k()()),2&n&&(M(10),j("ngModel",r.stageData().name),M(4),Gi("value",r.Pronouns.SheHer),j("checked",r.stageData().pronouns===r.Pronouns.SheHer),M(1),Ot(r.Pronouns.SheHer),M(1),Gi("value",r.Pronouns.TheyThem),j("checked",r.stageData().pronouns===r.Pronouns.TheyThem),M(1),Ot(r.Pronouns.TheyThem),M(1),Gi("value",r.Pronouns.HeHim),j("checked",r.stageData().pronouns===r.Pronouns.HeHim),M(1),Ot(r.Pronouns.HeHim),M(6),j("ngModel",r.stageData().pronouns),M(7),j("checked","/recommendation-rudders/assets/avatars/she.png"===r.stageData().avatarUrl),M(2),j("checked","/recommendation-rudders/assets/avatars/they.png"===r.stageData().avatarUrl),M(2),j("checked","/recommendation-rudders/assets/avatars/he.png"===r.stageData().avatarUrl),M(10),nr(r.stageData().tosLines),M(2),j("checked",null!==r.stageData().acceptedTosTimestamp))},dependencies:[Sk,Ek,N2,xk,Ck,Xo,Mo,Kc,ja,aa,Jc,za,Va,Vc,ru,Ip],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem}label[_ngcontent-%COMP%]{font-weight:700;-webkit-user-select:none;user-select:none}.pronouns-radio-group[_ngcontent-%COMP%]{display:flex;align-items:center}.pronouns-radio-group[_ngcontent-%COMP%]   .pronouns-radio-button[_ngcontent-%COMP%]{margin:5px;-webkit-user-select:none;user-select:none}.avatar-radio-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin:15px;column-gap:20px}.avatar-radio-button[_ngcontent-%COMP%]{margin:5px}.avatar-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap}"]})}return i})(),A7=(()=>{class i{constructor(e){const{participant:n,stageData:r}=e.getParticipantAndStage(Vt.acceptTos);this.stageData=r(),this.participant=n}updateCheckboxValue(e){this.stageData.acceptedTosTimestamp=e.checked?new Date:null,this.participant.editStageData(()=>this.stageData)}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-exp-tos"]],standalone:!0,features:[pi],decls:12,vars:0,consts:[[1,"main"],["required","",3,"change"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"h2"),I(2,"Terms of Service"),k(),w(3,"p"),I(4,"Please read and accept the following terms of service before proceeding:"),k(),w(5,"ul")(6,"li"),I(7,"Term 1: Lorem ipsum dolor sit amet."),k(),w(8,"li"),I(9,"Term 2: Consectetur adipiscing elit."),k()(),w(10,"mat-checkbox",1),J("change",function(s){return r.updateCheckboxValue(s)}),I(11," I accept the terms of service "),k()())},dependencies:[Sk,Ek],styles:[".main[_ngcontent-%COMP%]{padding:2rem 1rem}"]})}return i})();function oDe(i,t){1&i&&$(0,"app-exp-tos")}function sDe(i,t){1&i&&$(0,"app-exp-profile")}function aDe(i,t){1&i&&$(0,"app-exp-chat")}function lDe(i,t){1&i&&$(0,"app-exp-tos-and-profile")}function cDe(i,t){1&i&&$(0,"app-exp-survey")}function dDe(i,t){1&i&&$(0,"app-exp-leader-vote")}function uDe(i,t){1&i&&$(0,"app-exp-leader-reveal")}function hDe(i,t){if(1&i&&(w(0,"div",4),I(1," Oh no! It looks like something went wrong, there is no component for "),w(2,"span"),I(3),k()()),2&i){const e=Q();M(3),Ot(e.participant.viewingStage().kind)}}function fDe(i,t){1&i&&$(0,"div",5)}let mDe=(()=>{class i{constructor(e){this.StageKinds=Vt;const n=bI(e.state(),pv.Participant);this.participant=n.particpant}shouldShowNextStep(){const e=this.participant.userData();return e.allowedStageProgressionMap[e.workingOnStageName]}nextStep(){this.participant.nextStep()}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-participant-stage-view"]],standalone:!0,features:[pi],decls:16,vars:5,consts:[[1,"main"],[1,"exp-stage-content"],["class","mask"],["color","primary","mat-button","",3,"disabled","click"],[1,"error"],[1,"mask"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"h2"),I(2),k(),w(3,"div",1),he(4,oDe,1,0)(5,sDe,1,0)(6,aDe,1,0)(7,lDe,1,0)(8,cDe,1,0)(9,dDe,1,0)(10,uDe,1,0)(11,hDe,4,1)(12,fDe,1,0,"div",2),k(),w(13,"button",3),J("click",function(){return r.nextStep()}),w(14,"span"),I(15,"Next step"),k()()()),2&n){let o;M(2),Rh("",r.participant.viewingStage().name," (",r.participant.viewingStage().kind,")"),M(2),xe(4,(o=r.participant.viewingStage().kind)===r.StageKinds.acceptTos?4:o===r.StageKinds.setProfile?5:o===r.StageKinds.groupChat?6:o===r.StageKinds.acceptTosAndSetProfile?7:o===r.StageKinds.takeSurvey?8:o===r.StageKinds.voteForLeader?9:o===r.StageKinds.revealVoted?10:11),M(8),xe(12,r.participant.viewingStage().name!==r.participant.workingOnStage().name?12:-1),M(1),j("disabled",!r.shouldShowNextStep())}},dependencies:[m7,b7,v7,S7,M7,cCe,A7,Xo,$c],styles:[".main[_ngcontent-%COMP%]{padding:20px}.main[_ngcontent-%COMP%]   .exp-stage-content[_ngcontent-%COMP%]{position:relative;width:100%}.main[_ngcontent-%COMP%]   .exp-stage-content[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{background-color:#fff;opacity:.2;position:absolute;inset:0;z-index:9999999999;cursor:not-allowed}.buttons-and-progress[_ngcontent-%COMP%]{margin-top:-18px}.error[_ngcontent-%COMP%]{padding:5px;border-radius:5px;background-color:#faa;border:solid 1px #a00;display:flex}.error-message[_ngcontent-%COMP%]{flex:1}.search-response-sep[_ngcontent-%COMP%]{height:20px}.item-text-form[_ngcontent-%COMP%]{min-width:150px;width:100%;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:flex-start;flex:1 1 auto}.full-width[_ngcontent-%COMP%]{width:100%}"]})}return i})();const pDe=["googleButton"],T7=()=>["./"],I7=i=>({stage:i});function gDe(i,t){if(1&i&&(w(0,"mat-list-item",16)(1,"div",13),I(2),$(3,"mat-icon",17),k()()),2&i){const e=t.$implicit;Ae("highlighted",Q().participant.viewingStage().name===e),j("routerLink",Fh(5,T7))("queryParams",Ub(6,I7,e)),M(2),ii(" ",e," ")}}function _De(i,t){if(1&i&&(w(0,"mat-list-item",18),I(1),k()),2&i){const e=t.$implicit;j("disabled",!0)("activated",!1),M(1),ii(" ",e," ")}}const bDe=()=>({exact:!0});let vDe=(()=>{class i{constructor(e,n,r){this.route=e,this.router=n,this.stateService=r,this.participant=function pae(i,t,e){const r=new fae(i,t,new Set(["experiment","user"]),mae);return new uae(e,r.session,()=>r.destroy())}(n,e,r.data),this.participant&&r.state.set({kind:pv.Participant,particpant:this.participant})}updateCurrentStageName(e){this.participant&&this.participant.setViewingStage(e)}ngOnDestroy(){this.participant&&this.participant.destory&&this.participant.destory()}static#e=this.\u0275fac=function(n){return new(n||i)(C(jc),C(So),C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-participant-view"]],viewQuery:function(n,r){if(1&n&&Ft(pDe,5),2&n){let o;fe(o=me())&&(r.googleButton=o.first)}},standalone:!0,features:[pi],decls:29,vars:12,consts:[["role","banner",1,"toolbar"],["mat-icon-button","",3,"click"],[1,"title"],[1,"spacer"],[1,"current-user"],["aria-label","PAIR","href","https://pair.withgoogle.com/","title","Home",1,"small-logo"],["src","/recommendation-rudders/assets/pair-logo.svg","alt","PAIR logo"],["role","main",1,"content"],["mode","side","opened","true"],["sidenav",""],[1,"menu-buttons"],["matListItemTitle","","ariaCurrentWhenActive","page","routerLinkActive","",1,"menu-item","working-on-stage",3,"routerLink","queryParams","routerLinkActiveOptions"],["rla","routerLinkActive"],[1,"menu-item-inner"],[1,"ongoing-badge"],[1,"page"],["matListItemTitle","","ariaCurrentWhenActive","page",1,"menu-item",3,"routerLink","queryParams"],["fontIcon","check",1,"icon","completed"],["matListItemTitle","","ariaCurrentWhenActive","page",1,"menu-item","future-stage",3,"disabled","activated"],["matListItemTitle","","ariaCurrentWhenActive","page","class","menu-item",3,"routerLink","queryParams","highlighted"],["matListItemTitle","","ariaCurrentWhenActive","page","class","menu-item future-stage",3,"disabled","activated"]],template:function(n,r){if(1&n){const o=ki();w(0,"div",0)(1,"button",1),J("click",function(){return Ve(o),Se(Nn(14).toggle())}),w(2,"mat-icon"),I(3,"menu"),k()(),w(4,"span",2),I(5),k(),$(6,"div",3),w(7,"div",4),I(8),k(),w(9,"a",5),$(10,"img",6),k()(),w(11,"div",7)(12,"mat-sidenav-container")(13,"mat-sidenav",8,9)(15,"mat-nav-list",10),ir(16,gDe,4,8,"mat-list-item",19,Rc),w(18,"mat-list-item",11,12)(20,"div",13),I(21),w(22,"div",14),I(23,"ongoing"),k()()(),ir(24,_De,2,3,"mat-list-item",20,Rc),k()(),w(26,"mat-sidenav-content")(27,"div",15),$(28,"app-participant-stage-view"),k()()()()}if(2&n){const o=Nn(19);M(5),ii("Participant: ",r.participant.experiment().name,""),M(3),ii("Current user: ",r.participant.userData().userId,""),M(8),nr(r.participant.userData().completedStageNames),M(2),Ae("highlighted",r.participant.viewingStage().name===r.participant.workingOnStage().name&&o.isActive),j("routerLink",Fh(8,T7))("queryParams",Ub(9,I7,r.participant.workingOnStage().name))("routerLinkActiveOptions",Fh(11,bDe)),M(3),ii(" ",r.participant.workingOnStage().name," "),M(3),nr(r.participant.userData().futureStageNames)}},dependencies:[df,Qp,O2,T2,I2,vk,Gv,F2,s7,r7,wk,Xo,CD,ef,Qh,KI,mDe],styles:[".toolbar[_ngcontent-%COMP%]{top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#000000de;color:#fff;font-weight:600;flex:0 0 60px}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.small-logo[_ngcontent-%COMP%]{width:100px}.spacer[_ngcontent-%COMP%]{flex:1}.page[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.title[_ngcontent-%COMP%]{font-weight:400}.current-user[_ngcontent-%COMP%]{margin:0 15px;font-weight:300;color:#ccc}.content[_ngcontent-%COMP%]{display:flex;margin:0;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:flex-start;flex:1 1 auto;overflow:auto}.content[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{background-color:#ddd}.content[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#d00}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .ongoing-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:8px;border-radius:5px;background-color:orange;padding:1px 4px;line-height:1.1rem;color:#fff;font-size:12px;opacity:1}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:6px}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .icon.completed[_ngcontent-%COMP%]{color:#018501}.content[_ngcontent-%COMP%]   .mat-drawer-container[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);min-width:100%}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}.icon-menu-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-content:center}.icon-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.profileImg[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.error[_ngcontent-%COMP%]{color:red;background-color:#fee;border-radius:5px;border:1px solid #AAA}"]})}return i})();const yDe=(i,t)=>t.name,wDe=i=>["experiment",i];function xDe(i,t){if(1&i&&(w(0,"mat-list-item",12)(1,"div",15),I(2),k()()),2&i){const e=t.$implicit;j("routerLink",Ub(2,wDe,e.name)),M(2),ii(" ",e.name," ")}}const CDe=()=>["create-experiment"],DDe=()=>["settings"],kDe=()=>["llm-settings"];let O7=(()=>{class i{constructor(e){this.stateService=e,this.experiments=wi(()=>Object.values(this.stateService.data().experiments).sort((n,r)=>n.name.localeCompare(r.name)))}static#e=this.\u0275fac=function(n){return new(n||i)(C(br))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-experimenter-view"]],standalone:!0,features:[pi],decls:30,vars:6,consts:[["role","banner",1,"toolbar"],["mat-icon-button","",3,"click"],[1,"title"],[1,"spacer"],["aria-label","PAIR","href","https://pair.withgoogle.com/","title","Home",1,"small-logo"],["src","/recommendation-rudders/assets/pair-logo.svg","alt","PAIR logo"],["role","main",1,"content"],["mode","side","opened","true"],["sidenav",""],[1,"menu-buttons"],["matListItemTitle","","routerLinkActive","highlighted","ariaCurrentWhenActive","page",3,"routerLink"],[1,"icon-menu-item"],["matListItemTitle","","ariaCurrentWhenActive","page",1,"menu-item",3,"routerLink"],["fontIcon","settings"],[1,"page"],[1,"menu-item-inner"],["matListItemTitle","","ariaCurrentWhenActive","page","class","menu-item",3,"routerLink"]],template:function(n,r){if(1&n){const o=ki();w(0,"div",0)(1,"button",1),J("click",function(){return Ve(o),Se(Nn(12).toggle())}),w(2,"mat-icon"),I(3,"menu"),k()(),w(4,"span",2),I(5,"Experiment Management"),k(),$(6,"div",3),w(7,"a",4),$(8,"img",5),k()(),w(9,"div",6)(10,"mat-sidenav-container")(11,"mat-sidenav",7,8)(13,"mat-nav-list",9),ir(14,xDe,3,4,"mat-list-item",16,yDe),w(16,"mat-list-item",10)(17,"div",11)(18,"mat-icon"),I(19,"design_services"),k(),I(20,"Create an experiment"),k()(),w(21,"mat-list-item",12),$(22,"mat-icon",13),I(23," Settings "),k(),w(24,"mat-list-item",12),$(25,"mat-icon",13),I(26," LLM Settings "),k()()(),w(27,"mat-sidenav-content")(28,"div",14),$(29,"router-outlet"),k()()()()}2&n&&(M(14),nr(r.experiments()),M(2),j("routerLink",Fh(3,CDe)),M(5),j("routerLink",Fh(4,DDe)),M(3),j("routerLink",Fh(5,kDe)))},dependencies:[df,Qp,O2,T2,I2,vk,Gv,F2,s7,r7,wk,Xo,CD,ef,QC,Qh,KI,za,aa,Mo],styles:[".toolbar[_ngcontent-%COMP%]{top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#000000de;color:#fff;font-weight:600;flex:0 0 60px}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.small-logo[_ngcontent-%COMP%]{width:100px}.spacer[_ngcontent-%COMP%]{flex:1}.page[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.title[_ngcontent-%COMP%]{font-weight:400}.current-user[_ngcontent-%COMP%]{margin:0 15px;font-weight:300;color:#ccc}.content[_ngcontent-%COMP%]{display:flex;margin:0;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;align-items:flex-start;flex:1 1 auto;overflow:auto}.content[_ngcontent-%COMP%]   .highlighted[_ngcontent-%COMP%]{background-color:#ddd}.content[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#d00}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .ongoing-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-left:8px;border-radius:5px;background-color:orange;padding:1px 4px;line-height:1.1rem;color:#fff;font-size:12px;opacity:1}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:6px}.content[_ngcontent-%COMP%]   .menu-item-inner[_ngcontent-%COMP%]   .icon.completed[_ngcontent-%COMP%]{color:#018501}.content[_ngcontent-%COMP%]   .mat-drawer-container[_ngcontent-%COMP%]{min-height:calc(100vh - 60px);min-width:100%}.menu-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}.icon-menu-item[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-content:center}.icon-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.profileImg[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%}.error[_ngcontent-%COMP%]{color:red;background-color:#fee;border-radius:5px;border:1px solid #AAA}"]})}return i})(),EDe=0;const B2=new V("CdkAccordion");let SDe=(()=>{class i{constructor(){this._stateChanges=new de,this._openCloseAllActions=new de,this.id="cdk-accordion-"+EDe++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:["multi","multi",ht]},exportAs:["cdkAccordion"],features:[Te([{provide:B2,useExisting:i}]),er,tn]})}return i})(),MDe=0,ADe=(()=>{class i{get expanded(){return this._expanded}set expanded(e){this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(e,n,r){this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=r,this._openCloseAllSubscription=We.EMPTY,this.closed=new pe,this.opened=new pe,this.destroyed=new pe,this.expandedChange=new pe,this.id="cdk-accordion-child-"+MDe++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static#e=this.\u0275fac=function(n){return new(n||i)(C(B2,12),C(Nt),C(R2))};static#t=this.\u0275dir=ne({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:["expanded","expanded",ht],disabled:["disabled","disabled",ht]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Te([{provide:B2,useValue:void 0}]),er]})}return i})(),TDe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({})}return i})();const IDe=["body"];function ODe(i,t){}const RDe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],PDe=["mat-expansion-panel-header","*","mat-action-row"];function FDe(i,t){1&i&&$(0,"span",2),2&i&&j("@indicatorRotate",Q()._getExpandedState())}const NDe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],LDe=["mat-panel-title","mat-panel-description","*"],V2=new V("MAT_ACCORDION"),R7="225ms cubic-bezier(0.4,0.0,0.2,1)",P7={indicatorRotate:qc("indicatorRotate",[sa("collapsed, void",Vn({transform:"rotate(0deg)"})),sa("expanded",Vn({transform:"rotate(180deg)"})),Es("expanded <=> collapsed, void => collapsed",oa(R7))]),bodyExpansion:qc("bodyExpansion",[sa("collapsed, void",Vn({height:"0px",visibility:"hidden"})),sa("expanded",Vn({height:"*",visibility:""})),Es("expanded <=> collapsed, void => collapsed",oa(R7))])},F7=new V("MAT_EXPANSION_PANEL");let BDe=(()=>{class i{constructor(e,n){this._template=e,this._expansionPanel=n}static#e=this.\u0275fac=function(n){return new(n||i)(C(qo),C(F7,8))};static#t=this.\u0275dir=ne({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),VDe=0;const N7=new V("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let L7=(()=>{class i extends ADe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=$e(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,n,r,o,s,a,l){super(e,n,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new pe,this.afterCollapse=new pe,this._inputChanges=new de,this._headerId="mat-expansion-panel-header-"+VDe++,this._bodyAnimationDone=new de,this.accordion=e,this._document=s,this._bodyAnimationDone.pipe(hd((c,u)=>c.fromState===u.fromState&&c.toState===u.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(_r(null),di(()=>this.expanded&&!this._portal),qi(1)).subscribe(()=>{this._portal=new FD(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,n=this._body.nativeElement;return e===n||n.contains(e)}return!1}static#e=this.\u0275fac=function(n){return new(n||i)(C(V2,12),C(Nt),C(R2),C(Fr),C(nt),C(Vi,8),C(N7,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,r,o){if(1&n&&ut(o,BDe,5),2&n){let s;fe(s=me())&&(r._lazyContent=s.first)}},viewQuery:function(n,r){if(1&n&&Ft(IDe,5),2&n){let o;fe(o=me())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(n,r){2&n&&Ae("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Te([{provide:V2,useValue:void 0},{provide:F7,useExisting:i}]),Me,tn],ngContentSelectors:PDe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,r){1&n&&(Lt(RDe),ye(0),w(1,"div",0,1),J("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),w(3,"div",2),ye(4,1),he(5,ODe,0,0,"ng-template",3),k(),ye(6,2),k()),2&n&&(M(1),j("@bodyExpansion",r._getExpandedState())("id",r.id),ze("aria-labelledby",r._headerId),M(4),j("cdkPortalOutlet",r._portal))},dependencies:[qfe],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[P7.bodyExpansion]},changeDetection:0})}return i})();class HDe{}const zDe=Kp(HDe);let B7=(()=>{class i extends zDe{constructor(e,n,r,o,s,a,l){super(),this.panel=e,this._element=n,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=We.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(di(u=>!(!u.hideToggle&&!u.togglePosition))):Gr;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=Wi(e.opened,e.closed,c,e._inputChanges.pipe(di(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(di(()=>e._containsFocus())).subscribe(()=>r.focusVia(n,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ra(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,n){e?this._focusMonitor.focusVia(this._element,e,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(n){return new(n||i)(C(L7,1),C(ke),C(Wa),C(Nt),C(N7,8),C(Vi,8),Xr("tabindex"))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(n,r){1&n&&J("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&n&&(ze("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Cl("height",r._getHeaderHeight()),Ae("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Me],ngContentSelectors:LDe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator"],[1,"mat-expansion-indicator"]],template:function(n,r){1&n&&(Lt(NDe),w(0,"span",0),ye(1),ye(2,1),ye(3,2),k(),he(4,FDe,1,1,"span",1)),2&n&&(Ae("mat-content-hide-toggle",!r._showToggle()),M(4),xe(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[P7.indicatorRotate]},changeDetection:0})}return i})(),UDe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}return i})(),WDe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275dir=ne({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),jDe=(()=>{class i extends SDe{constructor(){super(...arguments),this._ownHeaders=new Pc,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=$e(e)}ngAfterContentInit(){this._headers.changes.pipe(_r(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new pD(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Kt(i)))(r||i)}})();static#t=this.\u0275dir=ne({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,r,o){if(1&n&&ut(o,B7,5),2&n){let s;fe(s=me())&&(r._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mat-accordion-multi",r.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Te([{provide:V2,useExisting:i}]),Me]})}return i})(),$De=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,TDe,F6]})}return i})();const GDe=["trigger"],qDe=["panel"];function KDe(i,t){if(1&i&&(w(0,"span",9),I(1),k()),2&i){const e=Q();M(1),Ot(e.placeholder)}}function JDe(i,t){1&i&&ye(0)}function YDe(i,t){if(1&i&&(w(0,"span",11),I(1),k()),2&i){const e=Q(2);M(1),Ot(e.triggerValue)}}function XDe(i,t){if(1&i&&(w(0,"span",10),he(1,JDe,1,0)(2,YDe,2,1),k()),2&i){const e=Q();M(1),xe(1,e.customTrigger?1:2)}}function ZDe(i,t){if(1&i){const e=ki();Ta(),gm(),w(0,"div",12,13),J("@transformPanel.done",function(r){return Ve(e),Se(Q()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Ve(e),Se(Q()._handleKeydown(r))}),ye(2,1),k()}if(2&i){const e=Q();hp("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),j("ngClass",e.panelClass)("@transformPanel","showing"),ze("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const QDe=[[["mat-select-trigger"]],"*"],e1e=["mat-select-trigger","*"],t1e={transformPanelWrap:qc("transformPanelWrap",[Es("* => void",Rue("@transformPanel",[Oue()],{optional:!0}))]),transformPanel:qc("transformPanel",[sa("void",Vn({opacity:0,transform:"scale(1, 0.8)"})),Es("void => showing",oa("120ms cubic-bezier(0, 0, 0.2, 1)",Vn({opacity:1,transform:"scale(1, 1)"}))),Es("* => void",oa("100ms linear",Vn({opacity:0})))])};let V7=0;const H7=new V("mat-select-scroll-strategy"),n1e=new V("MAT_SELECT_CONFIG"),r1e={provide:H7,deps:[hu],useFactory:function i1e(i){return()=>i.scrollStrategies.reposition()}},o1e=new V("MatSelectTrigger");class s1e{constructor(t,e){this.source=t,this.value=e}}const a1e=yD(Kp(Nz(hO(class{constructor(i,t,e,n,r){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r,this.stateChanges=new de}}))));let z7=(()=>{class i extends a1e{_scrollOptionIntoView(e){const n=this.options.toArray()[e];if(n){const r=this.panel.nativeElement,o=function _ue(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=n._getHostElement();r.scrollTop=0===e&&1===o?0:function bue(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new s1e(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=$e(e),this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(wT.required)??!1}set required(e){this._required=$e(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=$e(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=$e(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ki(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,n,r,o,s,a,l,c,u,f,p,g,b,v){super(s,o,l,c,f),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=r,this._dir=a,this._parentFormField=u,this._liveAnnouncer=b,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(D,S)=>D===S,this._uid="mat-select-"+V7++,this._triggerAriaLabelledBy=null,this._destroy=new de,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+V7++,this._panelDoneAnimatingStream=new de,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=wI(()=>{const D=this.options;return D?D.changes.pipe(_r(D),An(()=>Wi(...D.map(S=>S.onSelectionChange)))):this._ngZone.onStable.pipe(qi(1),An(()=>this.optionSelectionChanges))}),this.openedChange=new pe,this._openedStream=this.openedChange.pipe(di(D=>D),ue(()=>{})),this._closedStream=this.openedChange.pipe(di(D=>!D),ue(()=>{})),this.selectionChange=new pe,this.valueChange=new pe,this._trackedModal=null,this._skipPredicate=D=>!this.panelOpen&&D.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=v?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}ngOnInit(){this._selectionModel=new yk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(hd(),et(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(et(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(et(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(_r(null),et(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck()),this.stateChanges.next()}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const n=`${this.id}-panel`;this._trackedModal&&lO(this._trackedModal,"aria-owns",n),xz(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(lO(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched()),this.stateChanges.next()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,r=40===n||38===n||37===n||39===n,o=13===n||32===n,s=this._keyManager;if(!s.isTyping()&&o&&!ra(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,r=e.keyCode,o=40===r||38===r,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!n.activeItem||ra(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==a&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(qi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof mR?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Ade(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Wi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(et(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Wi(...this.options.map(n=>n._stateChanges)).pipe(et(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;n=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(n){return new(n||i)(C(jv),C(Nt),C(_e),C(wD),C(ke),C(ks,8),C(Uh,8),C(Tp,8),C(ED,8),C(Ha,10),Xr("tabindex"),C(H7),C(Jde),C(n1e,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(1&n&&(ut(o,o1e,5),ut(o,fO,5),ut(o,jz,5)),2&n){let s;fe(s=me())&&(r.customTrigger=s.first),fe(s=me())&&(r.options=s),fe(s=me())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(1&n&&(Ft(GDe,5),Ft(qDe,5),Ft(Y6,5)),2&n){let o;fe(o=me())&&(r.trigger=o.first),fe(o=me())&&(r.panel=o.first),fe(o=me())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,r){1&n&&J("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&n&&(ze("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Ae("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Te([{provide:kD,useExisting:i},{provide:Wz,useExisting:i}]),Me,tn],ngContentSelectors:e1e,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,r){if(1&n&&(Lt(QDe),w(0,"div",0,1),J("click",function(){return r.toggle()}),w(3,"div",2),he(4,KDe,2,1,"span",3)(5,XDe,3,1),k(),w(6,"div",4)(7,"div",5),Ta(),w(8,"svg",6),$(9,"path",7),k()()()(),he(10,ZDe,3,9,"ng-template",8),J("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&n){const o=Nn(1);M(3),ze("id",r._valueId),M(1),xe(4,r.empty?4:5),M(6),j("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[pC,Y6,mR],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[t1e.transformPanel]},changeDetection:0})}return i})(),H2=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[r1e],imports:[Bc,pR,$z,Mt,sf,Mo,$z,Mt]})}return i})();function U7(i,t){return{instances:[{content:i}],parameters:{temperature:t&&t.temperature||.7,topK:t&&t.topK||40,topP:t&&t.topP||.95,candidateCount:t&&t.candidateCount||4,maxOutputTokens:t&&t.maxOutputTokens||256,stopSequences:t&&t.stopSequences||[]}}}function z2(){return(z2=Hi(function*(i="",t,e){return(yield fetch(i,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})).json()})).apply(this,arguments)}function U2(i,t,e){return W2.apply(this,arguments)}function W2(){return W2=Hi(function*(i,t,e,n="text-bison",r="us-central1-aiplatform.googleapis.com"){return function l1e(){return z2.apply(this,arguments)}(`https://${r}/v1/projects/${i}/locations/us-central1/publishers/google/models/${n}:predict`,t,e)}),W2.apply(this,arguments)}class c1e{constructor(t,e){this.projectId=t,this.accessToken=e,this.defaultOptions={modelId:"text-bison",apiEndpoint:"us-central1-aiplatform.googleapis.com",requestParameters:{temperature:.7,topK:40,topP:.95,candidateCount:4,maxOutputTokens:256,stopSequences:[]}},this.name="VertexLLM:"+this.defaultOptions.modelId}predict(t,e){var n=this;return Hi(function*(){const r=e?e.requestParameters:n.defaultOptions.requestParameters,o={instances:[{content:t}],parameters:r},s=yield U2(n.projectId,n.accessToken,o,n.defaultOptions.modelId,n.defaultOptions.apiEndpoint);let a="";if(r.stopSequences&&r.stopSequences.length>0&&(a=r.stopSequences[0]),!s.predictions)throw new Error(`No predictions resturned in api response: ${JSON.stringify(s,null,2)}`);return{completions:s.predictions.map(c=>({query:t,completion:c.content+a,score:1})).map(c=>c.completion)}})()}}class W7{constructor(t){this.name=t}occurs(t){return Object.values(this.split(t)).length>1}}const h1e=new RegExp("\\{\\{([^(\\}\\})]*)\\}\\}","g");new RegExp("(\\{\\{[^(\\}\\})]*\\}\\})","g");class f1e extends W7{constructor(t,e){super(t),e&&e.match&&(this.contentMatchStr=e.match),this.literal=`{{${this.name}}}`,this.literalRegExp=new RegExp(`\\{\\{${this.name}\\}\\}`,"g")}subst(t,e){return t.replace(this.literalRegExp,e)}split(t){return t.split(this.literalRegExp)}toString(){return this.literal}}function j2(i){return i.replaceAll("\\\\","\\").replaceAll("\\{","{")}function Sg(i,t){return new f1e(i,t)}class p1e{constructor(t,e){this.template=t,this.rawVariable=e,e.occurs(t.escaped)||console.error(`Template is missing a variable.\nVariable: ${this.name}\nTemplate: ${t.escaped}`)}get name(){return this.rawVariable.name}substStr(t){const e=this.rawVariable.subst(this.template.escaped,t),n=[...this.template.varList().filter(r=>r.name!==this.name)];return new od(e,n)}substTempl(t){let e=this.template.escaped;const n=t;e=this.rawVariable.subst(e,n.escaped);const r=[...this.template.varList().filter(o=>o.name!==this.name),...n.varList()];return new od(e,r)}renameVar(t){return this.unsafeRenameVar(t)}unsafeRenameVar(t){const e=Sg(t),n=this.rawVariable.subst(this.template.escaped,e.literal),r=[...this.template.varList().filter(o=>o.name!==this.name),e];return new od(n,r)}occurs(t){return this.rawVariable.occurs(t)}}class g1e extends Error{}const _1e=/\{\{(?<name>[^(\}\})]*)\}\}/g;class od{constructor(t,e){this.escaped=t;const n=[...t.matchAll(_1e)].map(s=>s.groups.name);this.vars={};for(const s of e.map(a=>new p1e(this,a)))this.vars[s.name]=s;const r=new Set(n),o=new Set(Object.keys(this.vars));if(o.forEach(s=>{r.delete(s)&&o.delete(s)}),r.size>0)throw new g1e(`Template has undeclared variables: ${[...r]}.These should be declaredconstructor, or escaped.`);o.size>0&&console.warn(`Extra vars were declared that don't exist in the template, this is probably not intentional. The extra vars are: ${[...o]}`)}varList(){return Object.values(this.vars).map(t=>t.rawVariable)}mergeVars(t,e){let n=this;for(const r of t)n=n.vars[r].unsafeRenameVar(e);return n}substStr(t,e){return this.vars[t].substStr(e)}substTempl(t,e){return this.vars[t].substTempl(e)}substs(t){let e=this;for(const n of Object.keys(t)){const r=t[n];e="string"==typeof r?e.vars[n].substStr(r):e.vars[n].unsafeRenameVar(r.name)}return e}concat(t){const e=[...this.varList(),...t.varList()];return new od(this.escaped.concat(t.escaped),e)}parts(){const t=this.escaped.split(h1e),e=j2(t.shift()),n=[];for(;t.length>0;){const r=this.vars[t.shift()].rawVariable,o=j2(t.shift());n.push({variable:r,postfix:o})}return{prefix:e,variables:n}}stringify(){return j2(this.escaped)}}function j7(i,...t){const e=new Set;return t.forEach(n=>{n instanceof String||"string"==typeof n||(n instanceof od?n.varList().forEach(r=>e.add(r)):n instanceof W7&&e.add(n))}),new od(i.map((n,r)=>{if(r>=t.length)return n;const o=t[r];return function m1e(i){return i.replaceAll("\\","\\\\").replaceAll("{","\\{")}(n)+(o instanceof od?o.escaped:o instanceof String||"string"==typeof o?o:o.literal)}).join(""),[...e])}class $7{constructor(t,e){this.template=t,this.joinStr=e}apply(t){return function b1e(i,t,e){const n=i8(t.map(r=>Object.values(r).filter(o=>"string"!=typeof o)));return new od(t.map(r=>i.substs(r).escaped).join(e),n)}(this.template,t,this.joinStr)}}function G2(){return(G2=Hi(function*(i="",t,e){return(yield fetch(i,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(e)})).json()})).apply(this,arguments)}function q2(){return q2=Hi(function*(i,t,e,n="textembedding-gecko",r="us-central1-aiplatform.googleapis.com"){return function y1e(){return G2.apply(this,arguments)}(`https://${r}/v1/projects/${i}/locations/us-central1/publishers/google/models/${n}:predict`,t,e)}),q2.apply(this,arguments)}class x1e{constructor(t,e){this.projectId=t,this.accessToken=e,this.defaultOptions={modelId:"textembedding-gecko",apiEndpoint:"us-central1-aiplatform.googleapis.com"},this.name="VertexEmbedder:"+this.defaultOptions.modelId}embed(t,e){var n=this;return Hi(function*(){const r={instances:[{content:t}]},o=yield function w1e(i,t,e){return q2.apply(this,arguments)}(n.projectId,n.accessToken,r,e?e.modelId:n.defaultOptions.modelId,e?e.apiEndpoint:n.defaultOptions.apiEndpoint);return console.log(o),function v1e(i){return!!i.error}(o)?{error:o.error.message}:{embedding:o.predictions[0].embeddings.values}})()}}let K2=(()=>{class i{constructor(){const e=localStorage.getItem("projectId")||"no project set",n=localStorage.getItem("accessToken")||"no access token set";this.llm=new c1e(e,n),this.embedder=new x1e(e,n)}set accessToken(e){console.log(`accessToken update ${e}.`),this.llm.accessToken=e,localStorage.setItem("accessToken",e)}get accessToken(){return this.llm.accessToken}set projectId(e){console.log(`projectId update ${e}.`),this.llm.projectId=e,localStorage.setItem("projectId",e)}get projectId(){return this.llm.projectId}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function C1e(i,t){1&i&&$(0,"app-chat-user-message",11),2&i&&j("message",Q().$implicit)}function D1e(i,t){1&i&&$(0,"app-chat-mediator-message",11),2&i&&j("message",Q().$implicit)}function k1e(i,t){1&i&&$(0,"app-chat-discuss-items-message",12),2&i&&j("discussItemsMessage",Q().$implicit)}function E1e(i,t){1&i&&$(0,"div")}function S1e(i,t){if(1&i&&(w(0,"div",10),he(1,C1e,1,1,"app-chat-user-message",11)(2,D1e,1,1)(3,k1e,1,1)(4,E1e,1,0),k()),2&i){const e=t.$implicit;M(1),xe(1,"userMessage"===e.messageType?1:"mediatorMessage"===e.messageType?2:"discussItemsMessage"===e.messageType?3:4)}}function M1e(i,t){1&i&&(w(0,"div",13),I(1," Please select two different items "),k())}function A1e(i,t){if(1&i&&(w(0,"mat-option",14)(1,"div",15),$(2,"img",16),I(3),k()()),2&i){const e=t.$implicit;j("value",e),M(2),Gi("src",e.imageUrl,T),Gi("alt",e.name),M(1),ii(" ",e.name," ")}}function T1e(i,t){if(1&i&&(w(0,"mat-option",14)(1,"div",15),$(2,"img",16),I(3),k()()),2&i){const e=t.$implicit;j("value",e),M(2),Gi("src",e.imageUrl,T),Gi("alt",e.name),M(1),ii(" ",e.name," ")}}let I1e=(()=>{class i{set chatRoomName(e){this.roomName.set(e)}constructor(e,n){this.appStateService=e,this.llmService=n,this.roomName=vs(""),this.message="",this.instructions="",this.defaultPrefix="You are a mediator assistant guiding a conversation whose goal is to discuss and decide the best item to survive a sinking yacht lost in the South Pacific.",this.defaultSuffix="What is the best message to send to the chat participants at this stage of the discussion to keep it constructive, unbiased, and civil? Just write the message without the username. Do not use quotes.",this.prefix=this.defaultPrefix,this.suffix=this.defaultSuffix,this.messages=wi(()=>""!==this.roomName()&&this.experiment&&this.participants?this.participants()[0].stageMap[this.roomName()].config.messages:[]),this.items=wi(()=>""!==this.roomName()&&this.experiment&&this.participants?this.participants()[0].stageMap[this.roomName()].config.items:[]),this.itemPair=wi(()=>({item1:this.items()[0],item2:this.items()[1]}))}sendMessage(){if(!this.experiment)throw new Error("Tried to send a message without knowing the experiment");(function vae(i,t,e,n){const r=i().experiments[t];for(const o of Object.values(r.participants))_I(i,{experiment:t,id:o.userId},e.stageName,s=>{const a={messageType:"mediatorMessage",text:e.message,timestamp:(new Date).valueOf()};s.messages.push(a)},{skipSetting:!0});n&&n.withoutSetting||i.set({...i()})})(this.appStateService.data,this.experiment(),{stageName:this.roomName(),message:this.message}),this.message=""}updateItemPair(e,n){if(1===n)this.itemPair().item1=e.value;else{if(2!==n)throw new Error("Only two items in one pair of item");this.itemPair().item2=e.value}}sendRatingToDiscuss(){if(!this.experiment)throw new Error("Tried to send a RatingToDiscuss without knowing the experiment");!function yae(i,t,e,n){const r=i().experiments[t];for(const o of Object.values(r.participants))_I(i,{experiment:t,id:o.userId},e.stageName,s=>{s.ratingsToDiscuss.push(e.itemPair);const a={messageType:"discussItemsMessage",itemPair:e.itemPair,text:e.message,timestamp:(new Date).valueOf()};s.messages.push(a)},{skipSetting:!0});n&&n.withoutSetting||i.set({...i()})}(this.appStateService.data,this.experiment(),{stageName:this.roomName(),itemPair:this.itemPair(),message:this.instructions})}sendLLMMessage(){var e=this;return Hi(function*(){const n=new $7(j7`${Sg("property")}: "${Sg("value")}"`,"\n"),r=[{property:"Username",value:Sg("username")},{property:"Message",value:Sg("message")}],o=n.apply(r),s=new $7(o,"\n\n"),a=j7`${e.prefix}
      
${Sg("conversation")}
      
${e.suffix}`,l=[];e.messages().forEach(g=>{"userMessage"===g.messageType?l.push({username:g.fromProfile.name,message:g.text}):("discussItemsMessage"===g.messageType||"mediatorMessage"===g.messageType)&&l.push({username:"Mediator",message:g.text})});const u=a.substs({conversation:s.apply(l).escaped}).escaped;console.log(u);const f=U7(u),p=yield U2(e.llmService.projectId,e.llmService.accessToken,f);e.message=p.predictions[0].content,e.sendMessage()})()}static#e=this.\u0275fac=function(n){return new(n||i)(C(br),C(K2))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-mediator-chat"]],inputs:{experiment:"experiment",participants:"participants",chatRoomName:"chatRoomName"},standalone:!0,features:[pi],decls:69,vars:10,consts:[[1,"messages"],[1,"message-form"],["class","error-message"],["required","",3,"value","valueChange","selectionChange"],[1,"full-width"],["matInput","","placeholder","Write your response",3,"ngModel","ngModelChange"],["color","primary","mat-button","",3,"disabled","click"],["color","primary","mat-button","",3,"click"],["matInput","","placeholder","Write your prefix",3,"ngModel","ngModelChange"],["matInput","","placeholder","Write your suffix",3,"ngModel","ngModelChange"],[1,"message"],[3,"message"],[3,"discussItemsMessage"],[1,"error-message"],[3,"value"],[1,"item-pair"],["width","20px",3,"src","alt"],["class","message"]],template:function(n,r){1&n&&(w(0,"div"),I(1,"Mediator Chat View"),k(),w(2,"div",0),ir(3,S1e,5,1,"div",17,pp),k(),w(5,"div",1)(6,"h4"),I(7," Select a pair of item to send to the chat participants "),k(),he(8,M1e,2,0,"div",2),w(9,"mat-form-field")(10,"mat-label"),I(11,"Item 1"),k(),w(12,"mat-select",3),J("valueChange",function(s){return r.itemPair().item1=s})("selectionChange",function(s){return r.updateItemPair(s,1)}),ir(13,A1e,4,4,"mat-option",14,Rc),k()(),w(15,"mat-form-field")(16,"mat-label"),I(17,"Item 2"),k(),w(18,"mat-select",3),J("valueChange",function(s){return r.itemPair().item2=s})("selectionChange",function(s){return r.updateItemPair(s,2)}),ir(19,T1e,4,4,"mat-option",14,Rc),k()(),w(21,"mat-form-field",4)(22,"mat-label"),I(23,"Instructions to send"),k(),w(24,"input",5),J("ngModelChange",function(s){return r.instructions=s}),k()(),w(25,"button",6),J("click",function(){return r.sendRatingToDiscuss()}),w(26,"span"),I(27,"Send"),k()()(),w(28,"div",1)(29,"h4"),I(30," Send any message to the chat "),k(),w(31,"mat-form-field",4)(32,"mat-label"),I(33,"Message to send"),k(),w(34,"input",5),J("ngModelChange",function(s){return r.message=s}),k()(),w(35,"button",7),J("click",function(){return r.sendMessage()}),w(36,"span"),I(37,"Send"),k()()(),w(38,"div")(39,"h4"),I(40," Send automatic mediating intervention to the chat. The prompt will be made of: "),w(41,"ol")(42,"li")(43,"b"),I(44,"A prefix"),k(),I(45),k(),w(46,"li")(47,"b"),I(48,"The current discussion"),k(),I(49," - e.g.: "),$(50,"br"),I(51,'Username: "John Doe"'),$(52,"br"),I(53,' Message: "I think..." '),k(),w(54,"li")(55,"b"),I(56,"A suffix"),k(),I(57),k()()(),w(58,"mat-form-field",4)(59,"mat-label"),I(60,"Write a custom prefix"),k(),w(61,"input",8),J("ngModelChange",function(s){return r.prefix=s}),k()(),w(62,"mat-form-field",4)(63,"mat-label"),I(64,"Write a custom suffix"),k(),w(65,"input",9),J("ngModelChange",function(s){return r.suffix=s}),k()(),w(66,"button",7),J("click",function(){return r.sendLLMMessage()}),w(67,"span"),I(68,"Send"),k()()()),2&n&&(M(3),nr(r.messages()),M(5),xe(8,r.itemPair().item1==r.itemPair().item2?8:-1),M(4),j("value",r.itemPair().item1),M(1),nr(r.items()),M(5),j("value",r.itemPair().item2),M(1),nr(r.items()),M(5),j("ngModel",r.instructions),M(1),j("disabled",r.itemPair().item1==r.itemPair().item2),M(9),j("ngModel",r.message),M(11),ii(" - default: ",r.defaultPrefix," "),M(12),ii(" - default: ",r.defaultSuffix," "),M(4),j("ngModel",r.prefix),M(4),j("ngModel",r.suffix))},dependencies:[l7,c7,d7,Mo,Kc,ja,za,Va,Vc,ru,Xo,$c,aa,Jc,H2,z7,fO],styles:[".item-pair[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.error-message[_ngcontent-%COMP%]{color:red;font-size:12px;margin-top:5px}"]})}return i})();const O1e=(i,t)=>t.userId,R1e=(i,t)=>t.name;function P1e(i,t){1&i&&$(0,"img",2),2&i&&j("src",Q().$implicit.profile.avatarUrl,T)}function F1e(i,t){1&i&&I(0," no avatar set ")}const N1e=(i,t)=>["/participant",i,t],L1e=i=>({stage:i});function B1e(i,t){if(1&i&&(w(0,"a",1),I(1),k(),w(2,"ul")(3,"li"),I(4),k(),w(5,"li"),I(6),k(),w(7,"li"),I(8," Avatar: "),he(9,P1e,1,1,"img",2)(10,F1e,1,0),k(),w(11,"li"),I(12),k(),w(13,"li"),I(14," Access Code: "),w(15,"span",3),I(16),k()()()),2&i){const e=t.$implicit,n=Q();j("routerLink",V3(9,N1e,n.experimentName(),e.userId))("queryParams",Ub(12,L1e,e.workingOnStageName)),M(1),Ot(e.userId),M(3),ii("Name: ",e.profile.name,""),M(2),ii("Preffered pronouns: ",e.profile.pronouns,""),M(3),xe(9,e.profile.avatarUrl?9:10),M(3),ii("Working on stage: ",e.workingOnStageName,""),M(4),Rh("",n.experimentName(),"/",e.userId,"")}}function V1e(i,t){if(1&i&&(w(0,"mat-accordion")(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),I(4," Current state of the Chat Discussion "),k(),w(5,"mat-panel-description"),I(6," You can interact directly with the chat here. "),k()(),$(7,"app-mediator-chat",4),k()()),2&i){const e=Q().$implicit,n=Q();M(7),j("experiment",n.experimentName)("participants",n.participants)("chatRoomName",e.name)}}function H1e(i,t){if(1&i&&(w(0,"div"),I(1),he(2,V1e,8,3,"mat-accordion"),k()),2&i){const e=t.$implicit,n=Q();M(1),Rh(" ",e.name,": ",e.participants.length," "),M(1),xe(2,n.isOfKind(e,n.StageKinds.groupChat)?2:-1)}}let z1e=(()=>{class i{set experiment(e){this.experimentName.set(e)}constructor(e,n){this.stateService=e,this.router=n,this.experimentName=vs(""),this.isOfKind=c8,this.StageKinds=Vt,this.participants=wi(()=>{if(console.log("experimentName:",this.experimentName()),!(this.experimentName()in this.stateService.data().experiments))return[];const r=this.stateService.data().experiments[this.experimentName()];return Object.values(r.participants)}),this.stageStates=wi(()=>{const r=this.participants()[0],o={},s=[...r.completedStageNames,r.workingOnStageName,...r.futureStageNames].map(a=>({name:a,kind:r.stageMap[a].kind,participants:[]}));return s.forEach(a=>o[a.name]=a),this.participants().forEach(a=>{if(!(a.workingOnStageName in o))throw new Error(`stage not in the first participants stages: ${a.workingOnStageName}`);o[a.workingOnStageName].participants.push(a.profile)}),s})}deleteExperiment(){confirm("\u26a0\ufe0f This will delete the experiment! Are you sure?")&&(this.stateService.editData(e=>function _ae(i,t){i in t.experiments?delete t.experiments[i]:console.log("Experiment "+i+" is not found: "+t.experiments)}(this.experimentName(),e)),this.router.navigate(["/experimenter","settings"]))}static#e=this.\u0275fac=function(n){return new(n||i)(C(br),C(So))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-experiment-monitor"]],inputs:{experiment:"experiment"},standalone:!0,features:[pi],decls:17,vars:1,consts:[["mat-raised-button","","color","warn","aria-label","Delete",3,"click"],[3,"routerLink","queryParams"],["alt","avatar",3,"src"],[1,"code"],[3,"experiment","participants","chatRoomName"]],template:function(n,r){1&n&&(w(0,"h2"),I(1,"Experimenter View"),k(),w(2,"div")(3,"p"),I(4),k(),ir(5,B1e,17,14,null,null,O1e),k(),w(7,"h2"),I(8,"Experiment stages:"),k(),ir(9,H1e,3,3,"div",null,R1e),w(11,"h2"),I(12,"Experiment settings:"),k(),w(13,"button",0),J("click",function(){return r.deleteExperiment()}),w(14,"mat-icon"),I(15,"delete"),k(),I(16," Delete this experiment\n"),k()),2&n&&(M(4),ii("Number of participants (",r.participants().length,")"),M(1),nr(r.participants()),M(4),nr(r.stageStates()))},dependencies:[ef,Qh,I1e,Xo,$c,$De,jDe,L7,B7,WDe,UDe,df,Qp],styles:["h2[_ngcontent-%COMP%]{margin-top:1em}.code[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ccc;background-color:#eee;padding:2px;font-family:Courier New,Courier,monospace}"]})}return i})(),U1e=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275cmp=x({type:i,selectors:[["app-experiment-settings"]],standalone:!0,features:[pi],decls:1,vars:0,template:function(n,r){1&n&&$(0,"app-app-settings")},dependencies:[M2]})}return i})();function J2(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const r=t[n];r?i.setProperty(n,r,e?.has(n)?"important":""):i.removeProperty(n)}return i}function Mg(i,t){const e=t?"":"none";J2(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function G7(i,t,e){J2(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Mk(i,t){return t&&"none"!=t?i+" "+t:i}function q7(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function Y2(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function X2(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function Z2(i,t,e){const{top:n,bottom:r,left:o,right:s}=i;return e>=n&&e<=r&&t>=o&&t<=s}function Hy(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function K7(i,t,e,n){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=i,u=l*t,f=c*t;return n>r-f&&n<s+f&&e>a-u&&e<o+u}class J7{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:X2(e)})})}handleScroll(t){const e=na(t),n=this.positions.get(e);if(!n)return null;const r=n.scrollPosition;let o,s;if(e===this._document){const c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((c,u)=>{c.clientRect&&e!==u&&e.contains(u)&&Hy(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Y7(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===n?Q7(i,t):("input"===n||"select"===n||"textarea"===n)&&Z7(i,t),X7("canvas",i,t,Q7),X7("input, textarea, select",i,t,Z7),t}function X7(i,t,e,n){const r=t.querySelectorAll(i);if(r.length){const o=e.querySelectorAll(i);for(let s=0;s<r.length;s++)n(r[s],o[s])}}let q1e=0;function Z7(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${q1e++}`)}function Q7(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch{}}const eq=Il({passive:!0}),Ak=Il({passive:!1}),Q2=new Set(["position"]);class J1e{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Mg(e,t)))}constructor(t,e,n,r,o,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new de,this._pointerMoveSubscription=We.EMPTY,this._pointerUpSubscription=We.EMPTY,this._scrollSubscription=We.EMPTY,this._resizeSubscription=We.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new de,this.started=new de,this.released=new de,this.ended=new de,this.entered=new de,this.exited=new de,this.dropped=new de,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const g=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),b=this._dropContainer;if(!g)return void this._endDragSequence(a);(!b||!b.isDragging()&&!b.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const u=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=c.x-u.x+this._passiveTransform.x,f.y=c.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new J7(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>pn(n)),this._handles.forEach(n=>Mg(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=pn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ak),e.addEventListener("touchstart",this._pointerDown,eq),e.addEventListener("dragstart",this._nativeDragStart,Ak)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?pn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Mg(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Mg(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){zy(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,r=n.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),G7(n,!1,Q2),this._document.body.appendChild(r.replaceChild(o,n)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=zy(e),o=!r&&0!==e.button,s=this._rootElement,a=na(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?_D(e):gD(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||l||c)return;if(this._handles.length){const p=s.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=X2(this._boundaryElement));const u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){G7(this._rootElement,!0,Q2),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,n,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const o=t.matchSize?this._initialClientRect:null,s=t.viewContainer.createEmbeddedView(n,t.context);s.detectChanges(),r=iq(s,this._document),this._previewRef=s,t.matchSize?nq(r,o):r.style.transform=Tk(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=Y7(this._rootElement),nq(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return J2(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Q2),Mg(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function G1e(i){const t=getComputedStyle(i),e=Y2(t,"transition-property"),n=e.find(a=>"transform"===a||"all"===a);if(!n)return 0;const r=e.indexOf(n),o=Y2(t,"transition-duration"),s=Y2(t,"transition-delay");return q7(o[r])+q7(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const r=s=>{(!s||na(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),n(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=iq(this._placeholderRef,this._document)):n=Y7(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e,n){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=zy(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=zy(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),u=a.top+s,f=a.bottom-(c-s);n=tq(n,a.left+o,a.right-(l-o)),r=tq(r,u,f)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>o.y?1:-1,o.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Mg(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ak),t.removeEventListener("touchstart",this._pointerDown,eq),t.removeEventListener("dragstart",this._nativeDragStart,Ak)}_applyRootElementTransform(t,e){const n=Tk(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=Mk(n,this._initialTransform)}_applyPreviewTransform(t,e){const n=this._previewTemplate?.template?void 0:this._initialTransform,r=Tk(t,e);this._preview.style.transform=Mk(r,n)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===n.width&&0===n.height)return;const o=r.left-n.left,s=n.right-r.right,a=r.top-n.top,l=n.bottom-r.bottom;r.width>n.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>n.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:zy(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=na(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Hy(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=QI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return pn(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Tk(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function tq(i,t,e){return Math.max(t,Math.min(e,i))}function zy(i){return"t"===i.type[0]}function iq(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(r=>n.appendChild(r)),n}function nq(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Tk(t.left,t.top)}function Uy(i,t,e){const n=Wy(t,i.length-1),r=Wy(e,i.length-1);if(n===r)return;const o=i[n],s=r<n?-1:1;for(let a=n;a!==r;a+=s)i[a]=i[a+s];i[r]=o}function Wy(i,t){return Math.max(0,Math.min(t,i))}class Y1e{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,n,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,l=o.findIndex(D=>D.drag===t),c=o[s],f=c.clientRect,p=l>s?1:-1,g=this._getItemOffsetPx(o[l].clientRect,f,p),b=this._getSiblingOffsetPx(l,o,p),v=o.slice();return Uy(o,l,s),o.forEach((D,S)=>{if(v[S]===D)return;const A=D.drag===t,L=A?g:b,H=A?t.getPlaceholderElement():D.drag.getRootElement();D.offset+=L,a?(H.style.transform=Mk(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),Hy(D.clientRect,0,L)):(H.style.transform=Mk(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),Hy(D.clientRect,L,0))}),this._previousSwap.overlaps=Z2(f,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,e,n,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,n):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement();let c=s[o];if(c===t&&(c=s[o+1]),!c&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const u=c.getRootElement();u.parentElement.insertBefore(l,u),s.splice(o,0,t)}else pn(this._element).appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const n=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:n})=>{Hy(n,t,e)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:X2(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_getItemOffsetPx(t,e,n){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===n&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this.orientation,o=e[t].clientRect,s=e[t+-1*n];let a=o[r?"width":"height"]*n;if(s){const l=r?"left":"top",c=r?"right":"bottom";-1===n?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this.orientation;if(n[0].drag!==this._activeDraggables[0]){const s=n[n.length-1].clientRect;return r?t>=s.right:e>=s.bottom}{const s=n[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,n,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom))));return-1!==s&&this._sortPredicate(s,t)?s:-1}}class X1e{constructor(t,e,n,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new de,this.entered=new de,this.exited=new de,this.dropped=new de,this.sorted=new de,this.receivingStarted=new de,this.receivingStopped=new de,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=We.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new de,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function $1e(i=0,t=Fv){return i<0&&(i=0),dR(i,i,t)}(0,L6).pipe(et(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=pn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new J7(n),this._sortStrategy=new Y1e(this.element,e),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,n,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=pn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!K7(this._clientRect,.05,e,n))return;const o=this._sortStrategy.sort(t,e,n,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||K7(s.clientRect,.05,t,e)&&([r,o]=function Z1e(i,t,e,n){const r=sq(t,n),o=aq(t,e);let s=0,a=0;if(r){const l=i.scrollTop;1===r?l>0&&(s=1):i.scrollHeight-l>i.clientHeight&&(s=2)}if(o){const l=i.scrollLeft;1===o?l>0&&(a=1):i.scrollWidth-l>i.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),(r||o)&&(n=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=sq(l,e),o=aq(l,t),n=window}n&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=n,(r||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=pn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=pn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=pn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&Z2(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!Z2(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const o=pn(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=QI(pn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function sq(i,t){const{top:e,bottom:n,height:r}=i,o=.05*r;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}function aq(i,t){const{left:e,right:n,width:r}=i,o=.05*r;return t>=e-o&&t<=e+o?1:t>=n-o&&t<=n+o?2:0}const Ik=Il({passive:!1,capture:!0});let Q1e=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new de,this.pointerUp=new de,this.scroll=new de,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ik)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ik)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=n.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ik}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Ik}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new zt(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),Wi(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}static#e=this.\u0275fac=function(n){return new(n||i)(U(_e),U(nt))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const eke={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let lq=(()=>{class i{constructor(e,n,r,o){this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,n=eke){return new J1e(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new X1e(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(_e),U(jv),U(Q1e))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const eF=new V("CDK_DRAG_PARENT"),tF=new V("CdkDragHandle"),cq=new V("CdkDragPlaceholder"),dq=new V("CdkDragPreview"),uq=new V("CDK_DRAG_CONFIG"),hq=new V("CdkDropList");let fq=(()=>{class i{static#e=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=e,this._dragRef.disabled=this._disabled}constructor(e,n,r,o,s,a,l,c,u,f,p){this.element=e,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=u,this._selfHandle=f,this._parentDrag=p,this._destroyed=new de,this.started=new pe,this.released=new pe,this.ended=new pe,this.entered=new pe,this.exited=new pe,this.dropped=new pe,this.moved=new zt(g=>{const b=this._dragRef.moved.pipe(ue(v=>({source:this,pointerPosition:v.pointerPosition,event:v.event,delta:v.delta,distance:v.distance}))).subscribe(g);return()=>{b.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),a&&this._assignDefaults(a),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(qi(1),et(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const n=e.rootElementSelector,r=e.freeDragPosition;n&&!n.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=i._dragInstances.indexOf(this);e>-1&&i._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let n=e;this.rootElementSelector&&(n=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(n||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):pn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const n=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Ki(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe(qi(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let n=this.element.nativeElement.parentElement;for(;n;){if(n.classList.contains("cdk-drag")){e.withParent(i._dragInstances.find(r=>r.element.nativeElement===n)?._dragRef||null);break}n=n.parentElement}})}_handleEvents(e){e.started.subscribe(n=>{this.started.emit({source:this,event:n.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(n=>{this.released.emit({source:this,event:n.event})}),e.ended.subscribe(n=>{this.ended.emit({source:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:n.container.data,item:this,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:n.container.data,item:this})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:this,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}_assignDefaults(e){const{lockAxis:n,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:u}=e;this.disabled=l??!1,this.dragStartDelay=r||0,n&&(this.lockAxis=n),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe(_r(this._handles),En(e=>{const n=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&n.push(this.element),this._dragRef.withHandles(n)}),An(e=>Wi(...e.map(n=>n._stateChanges.pipe(_r(n))))),et(this._destroyed)).subscribe(e=>{const n=this._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})}static#t=this.\u0275fac=function(n){return new(n||i)(C(ke),C(hq,12),C(nt),C(_e),C(Fr),C(uq,8),C(ks,8),C(lq),C(Nt),C(tF,10),C(eF,12))};static#i=this.\u0275dir=ne({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(n,r,o){if(1&n&&(ut(o,dq,5),ut(o,cq,5),ut(o,tF,5)),2&n){let s;fe(s=me())&&(r._previewTemplate=s.first),fe(s=me())&&(r._placeholderTemplate=s.first),fe(s=me())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,r){2&n&&Ae("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled",ht],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Te([{provide:eF,useExisting:i}]),er,tn]})}return i})();const iF=new V("CdkDropListGroup");let ske=0,mq=(()=>{class i{static#e=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=e}constructor(e,n,r,o,s,a,l){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new de,this.connectedTo=[],this.id="cdk-drop-list-"+ske++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new pe,this.entered=new pe,this.exited=new pe,this.sorted=new pe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(c,u)=>this.enterPredicate(c.data,u.data),this._dropListRef.sortPredicate=(c,u,f)=>this.sortPredicate(c,u.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),a&&a._items.add(this)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,n)=>e._dragRef.getVisibleElement().compareDocumentPosition(n._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=i._dropLists.indexOf(this);e>-1&&i._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(_r(this._dir.value),et(this._destroyed)).subscribe(n=>e.withDirection(n)),e.beforeStarted.subscribe(()=>{const n=Nv(this.connectedTo).map(r=>"string"==typeof r?i._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===n.indexOf(r)&&n.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=this.sortingDisabled,e.autoScrollDisabled=this.autoScrollDisabled,e.autoScrollStep=Ki(this.autoScrollStep,2),e.connectedTo(n.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(n=>{this.entered.emit({container:this,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(n=>{this.exited.emit({container:this,item:n.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(n=>{this.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:this,item:n.item.data})}),e.dropped.subscribe(n=>{this.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),this._changeDetectorRef.markForCheck()}),Wi(e.receivingStarted,e.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(e){const{lockAxis:n,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=e;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",n&&(this.lockAxis=n)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}static#t=this.\u0275fac=function(n){return new(n||i)(C(ke),C(lq),C(Nt),C(Zp),C(ks,8),C(iF,12),C(uq,8))};static#i=this.\u0275dir=ne({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,r){2&n&&(ze("id",r.id),Ae("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled",ht],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled",ht],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled",ht],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Te([{provide:iF,useValue:void 0},{provide:hq,useExisting:i}]),er]})}return i})();const ake=["*"],hke=new V("MAT_CARD_CONFIG");let pq=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(n){return new(n||i)(C(hke,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){2&n&&Ae("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ake,decls:1,vars:0,template:function(n,r){1&n&&(Lt(),ye(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return i})(),fke=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Bc,Mt]})}return i})();const mke=["tooltip"],gq=new V("mat-tooltip-scroll-strategy"),_ke={provide:gq,deps:[hu],useFactory:function gke(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},vke=new V("mat-tooltip-default-options",{providedIn:"root",factory:function bke(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),_q="tooltip-panel",bq=Il({passive:!0});let kke=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=$e(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=$e(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ki(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ki(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,s,a,l,c,u,f,p,g){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=p,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Eke,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new de,this._scrollStrategy=u,this._document=g,p&&(this._showDelay=p.showDelay,this._hideDelay=p.hideDelay,p.position&&(this.position=p.position),p.positionAtOrigin&&(this.positionAtOrigin=p.positionAtOrigin),p.touchGestures&&(this.touchGestures=p.touchGestures)),f.change.pipe(et(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(et(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,bq)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(n);this._detach(),this._portal=this._portal||new R6(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(et(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof ke)return this._overlayRef;this._detach()}const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(et(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${_q}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(et(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(et(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(et(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ra(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n||"below"==n?r={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let r;"above"==n?r={overlayX:"center",overlayY:"bottom"}:"below"==n?r={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?r={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qi(1),et(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:r,originY:o}=e;let s;if(s="center"===n?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===n&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${_q}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let n;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(n=e),this.show(void 0,n)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{const r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,bq)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,r=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(n){return new(n||i)(C(hu),C(ke),C(Zp),C(Fr),C(_e),C(zi),C(Mde),C(Wa),C(gq),C(ks),C(vke,8),C(nt))};static#t=this.\u0275dir=ne({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){2&n&&Ae("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),Eke=(()=>{class i{constructor(e,n,r){this._changeDetectorRef=e,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new de,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(n);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(n){return new(n||i)(C(Nt),C(ke),C(Vi,8))};static#t=this.\u0275cmp=x({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(1&n&&Ft(mke,7),2&n){let o;fe(o=me())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(n,r){1&n&&J("mouseleave",function(s){return r._handleMouseLeave(s)}),2&n&&Cl("zoom",r.isVisible()?1:null)},decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(n,r){1&n&&(w(0,"div",0,1),J("animationend",function(s){return r._handleAnimationEnd(s)}),w(2,"div",2),I(3),k()()),2&n&&(Ae("mdc-tooltip--multiline",r._isMultiline),j("ngClass",r.tooltipClass),M(3),Ot(r.message))},dependencies:[pC],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return i})(),Ske=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:[_ke],imports:[Rz,Bc,pR,Mt,Mt,sf]})}return i})(),Mke=(()=>{class i{constructor(){}saveData(e,n){localStorage.setItem(e,JSON.stringify(n))}getData(e){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null}removeData(e){localStorage.removeItem(e)}clearData(){localStorage.clear()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Ake(i,t){1&i&&(w(0,"mat-icon"),I(1,"portrait"),k())}function Tke(i,t){1&i&&(w(0,"mat-icon"),I(1,"forum"),k())}function Ike(i,t){1&i&&(w(0,"mat-icon"),I(1,"poll"),k())}function Oke(i,t){1&i&&(w(0,"mat-icon"),I(1,"how_to_vote"),k())}function Rke(i,t){1&i&&(w(0,"mat-icon"),I(1,"emoji_events"),k())}function Pke(i,t){1&i&&(w(0,"mat-icon",25),I(1,"question_mark"),k())}function Fke(i,t){1&i&&(w(0,"div",26)(1,"mat-icon"),I(2,"warning"),k()())}function Nke(i,t){if(1&i){const e=ki();w(0,"div",18),J("click",function(){const o=Ve(e).$index;return Se(Q().navigateToStage(o))}),w(1,"div",19),I(2),k(),w(3,"div",20),he(4,Ake,2,0)(5,Tke,2,0)(6,Ike,2,0)(7,Oke,2,0)(8,Rke,2,0)(9,Pke,2,0),k(),w(10,"div",21),I(11),k(),he(12,Fke,3,0,"div",22),w(13,"div",23)(14,"button",24),J("click",function(r){const s=Ve(e).$index;return Se(Q().deleteStage(r,s))}),w(15,"mat-icon"),I(16,"close"),k()()()()}if(2&i){const e=t.$implicit,n=t.$index,r=Q();let o;hp("stage-container ",n===r.currentEditingStageIndex&&"active",""),M(2),Ot(n+1),M(1),Gi("matTooltip",e.kind||"Please select a stage kind!"),M(1),xe(4,(o=e.kind)===r.StageKinds.acceptTos?4:o===r.StageKinds.groupChat?5:o===r.StageKinds.takeSurvey?6:o===r.StageKinds.voteForLeader?7:o===r.StageKinds.revealVoted?8:9),M(7),ii(" ",e.name&&0!==e.name.length?e.name:"Unnamed stage"," "),M(1),xe(12,r.stageSetupIncomplete(e)?12:-1)}}function Lke(i,t){if(1&i&&(w(0,"mat-option",27),I(1),k()),2&i){const e=t.$implicit;j("value",e),M(1),Ot(e)}}function Bke(i,t){if(1&i){const e=ki();w(0,"div",32)(1,"mat-form-field",33)(2,"textarea",34),J("ngModelChange",function(r){const s=Ve(e).$index;return Se(Q().config.tosLines[s]=r)})("input",function(r){return Ve(e),Se(Q(2).onChange(r))}),I(3,"                    "),k()(),I(4," \xa0 "),w(5,"button",35),J("click",function(){const o=Ve(e).$index,s=Q();return Se(Q().deleteTosLine(s,o))}),w(6,"mat-icon"),I(7,"close"),k()()()}if(2&i){const e=t.$index,n=Q();M(2),j("ngModel",n.config.tosLines[e])}}function Vke(i,t){if(1&i){const e=ki();w(0,"div",28)(1,"h3"),I(2,"Terms of Service (ToS) lines:"),k(),$(3,"div",29),w(4,"button",7),J("click",function(){const o=Ve(e);return Se(Q().addNewTosLine(o))}),w(5,"mat-icon"),I(6,"add"),k(),I(7,"ToS Line "),k()(),w(8,"div",30)(9,"div",31),J("cdkDropListDropped",function(r){const s=Ve(e);return Se(Q().dropTosLine(s,r))}),ir(10,Bke,8,1,"div",36,pp),k()()}2&i&&(M(10),nr(t.config.tosLines))}function Hke(i,t){1&i&&(w(0,"div",39),I(1,"Please add a question to this survey"),k())}function zke(i,t){if(1&i){const e=ki();w(0,"div",48),J("click",function(){Ve(e);const r=Q().$index;return Se(Q(2).moveSurveyQuestion("up",r))}),w(1,"mat-icon"),I(2,"arrow_upward"),k()()}}function Uke(i,t){if(1&i){const e=ki();w(0,"div",49),J("click",function(){Ve(e);const r=Q().$index;return Se(Q(2).moveSurveyQuestion("down",r))}),w(1,"mat-icon"),I(2,"arrow_downward"),k()()}}function Wke(i,t){if(1&i){const e=ki();w(0,"mat-form-field",33)(1,"mat-label"),I(2,"Checkbox question text:"),k(),w(3,"input",34),J("ngModelChange",function(r){return Se(Ve(e).questionText=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()()}2&i&&(M(3),j("ngModel",t.questionText))}function jke(i,t){if(1&i){const e=ki();w(0,"mat-form-field",33)(1,"mat-label"),I(2,"Freeform question text:"),k(),w(3,"input",34),J("ngModelChange",function(r){return Se(Ve(e).questionText=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()()}2&i&&(M(3),j("ngModel",t.questionText))}function $ke(i,t){if(1&i){const e=ki();w(0,"div",50)(1,"mat-form-field",33)(2,"mat-label"),I(3,"Scale question text:"),k(),w(4,"input",34),J("ngModelChange",function(r){return Se(Ve(e).questionText=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()(),w(5,"mat-form-field",33)(6,"mat-label"),I(7,"Lowerbound label:"),k(),w(8,"input",34),J("ngModelChange",function(r){return Se(Ve(e).lowerBound=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()(),w(9,"mat-form-field",33)(10,"mat-label"),I(11,"Upperbound label:"),k(),w(12,"input",34),J("ngModelChange",function(r){return Se(Ve(e).upperBound=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()()()}2&i&&(M(4),j("ngModel",t.questionText),M(4),j("ngModel",t.lowerBound),M(4),j("ngModel",t.upperBound))}function Gke(i,t){if(1&i){const e=ki();w(0,"div",50)(1,"mat-form-field",33)(2,"mat-label"),I(3,"Rating question text:"),k(),w(4,"input",34),J("ngModelChange",function(r){return Se(Ve(e).questionText=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()(),w(5,"div",51)(6,"div",52)(7,"div",53)(8,"div"),I(9,"Item 1"),k(),w(10,"mat-form-field",33)(11,"mat-label"),I(12,"Name:"),k(),w(13,"input",54),J("ngModelChange",function(r){return Se(Ve(e).rating.item1.name=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()(),w(14,"mat-form-field",33)(15,"mat-label"),I(16,"Image URL:"),k(),w(17,"input",55),J("ngModelChange",function(r){return Se(Ve(e).rating.item1.imageUrl=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()()(),w(18,"div",53)(19,"div"),I(20,"Item 2"),k(),w(21,"mat-form-field",33)(22,"mat-label"),I(23,"Name:"),k(),w(24,"input",54),J("ngModelChange",function(r){return Se(Ve(e).rating.item2.name=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()(),w(25,"mat-form-field",33)(26,"mat-label"),I(27,"Image URL:"),k(),w(28,"input",55),J("ngModelChange",function(r){return Se(Ve(e).rating.item2.imageUrl=r)})("input",function(r){return Ve(e),Se(Q(3).onChange(r))}),k()()()()()()}2&i&&(M(4),j("ngModel",t.questionText),M(9),j("ngModel",t.rating.item1.name),M(4),j("ngModel",t.rating.item1.imageUrl),M(7),j("ngModel",t.rating.item2.name),M(4),j("ngModel",t.rating.item2.imageUrl))}function qke(i,t){if(1&i){const e=ki();w(0,"div",40)(1,"div",41),he(2,zke,3,0,"div",42),w(3,"div",43),I(4),k(),he(5,Uke,3,0,"div",44),k(),he(6,Wke,4,1,"mat-form-field",45)(7,jke,4,1,"mat-form-field",45)(8,$ke,13,3,"div",46)(9,Gke,29,5,"div",46),w(10,"button",47),J("click",function(r){const s=Ve(e).$index;return Se(Q(2).deleteSurveyQuestion(r,s))}),w(11,"mat-icon"),I(12,"close"),k()()()}if(2&i){const e=t.$implicit,n=t.$index,r=Q(),o=Q();let s;M(2),xe(2,n>0?2:-1),M(2),ii("Q",n+1,""),M(1),xe(5,n<r.config.questions.length-1?5:-1),M(1),xe(6,(s=o.tryCast(o.SurveyQuestionKind.CHECK,e))?6:-1,s),M(1),xe(7,(s=o.tryCast(o.SurveyQuestionKind.TEXT,e))?7:-1,s),M(1),xe(8,(s=o.tryCast(o.SurveyQuestionKind.SCALE,e))?8:-1,s),M(1),xe(9,(s=o.tryCast(o.SurveyQuestionKind.RATING,e))?9:-1,s)}}function Kke(i,t){if(1&i){const e=ki();w(0,"div",28)(1,"h3"),I(2,"Survey questions:"),k(),$(3,"div",29),w(4,"button",7),J("click",function(r){return Ve(e),Se(Q().addNewSurveyQuestion(r,"rating"))}),w(5,"mat-icon"),I(6,"add"),k(),I(7," Items Rating question "),k(),w(8,"button",7),J("click",function(r){return Ve(e),Se(Q().addNewSurveyQuestion(r,"scale"))}),w(9,"mat-icon"),I(10,"add"),k(),I(11," Scale question "),k()(),w(12,"div",30),he(13,Hke,2,0,"div",37),w(14,"div",38),J("cdkDropListDropped",function(r){return Ve(e),Se(Q().dropSurveyQuestion(r))}),ir(15,qke,13,7,"div",56,pp),k()()}2&i&&(M(13),xe(13,0===t.config.questions.length?13:-1),M(2),nr(t.config.questions))}function Jke(i,t){1&i&&(w(0,"div",57),I(1,"(Incomplete stage setup)"),k())}function Yke(i,t){if(1&i){const e=ki();w(0,"div",57),I(1,"(Unsaved data)"),k(),w(2,"button",58),J("click",function(){return Ve(e),Se(Q().persistExistingStages())}),I(3," Save data "),k()}}const Ok="existing-stages";let Xke=(()=>{class i{constructor(e,n){this.appStateService=e,this.localStore=n,this.existingStages=[],this.currentEditingStageIndex=-1,this.newExperimentName="",this.StageKinds=Vt,this.SurveyQuestionKind=Cs,this.tryCast=kae,this.availableStageKinds=[Vt.acceptTosAndSetProfile,Vt.takeSurvey,Vt.voteForLeader,Vt.groupChat,Vt.revealVoted];const r=this.localStore.getData(Ok);this.existingStages=r||gI(),this.currentEditingStageIndex=0}get currentEditingStage(){return this.existingStages[this.currentEditingStageIndex]}get hasUnsavedData(){const e=this.localStore.getData(Ok);return!(0,sv.isEqual)(e,this.existingStages)}addNewTosLine(e){e.config.tosLines.push(""),this.persistExistingStages()}deleteTosLine(e,n){e.config.tosLines.splice(n,1),this.persistExistingStages()}dropTosLine(e,n){Uy(e.config.tosLines,n.previousIndex,n.currentIndex),this.persistExistingStages()}addNewSurveyQuestion(e,n){let r=null;"rating"===n?r={kind:Cs.RATING,id:(0,sv.uniqueId)(),questionText:"",rating:{item1:{name:"",imageUrl:""},item2:{name:"",imageUrl:""},choice:null,confidence:null}}:"scale"===n&&(r={kind:Cs.SCALE,id:(0,sv.uniqueId)(),questionText:"",upperBound:"",lowerBound:"",score:null}),this.currentEditingStage.config.questions.push(r),this.persistExistingStages()}deleteSurveyQuestion(e,n){this.currentEditingStage.config.questions.splice(n,1),this.persistExistingStages()}moveSurveyQuestion(e,n){0===n&&"up"===e||n===this.currentEditingStage.config?.questions.length-1&&"down"===e||Uy(this.currentEditingStage.config.questions,n,"up"===e?n-1:n+1)}dropSurveyQuestion(e){Uy(this.currentEditingStage.config.questions,e.previousIndex,e.currentIndex),this.persistExistingStages()}stageSetupIncomplete(e){const n=e||this.currentEditingStage;return!n.kind||!n.name||0===n.name.trim().length||n.kind!==Vt.acceptTosAndSetProfile&&n.kind===Vt.takeSurvey&&0===n.config?.questions.length}experimentSetupIncomplete(){return 0===this.newExperimentName.trim().length||this.existingStages.some(e=>this.stageSetupIncomplete(e))}persistExistingStages(){this.localStore.saveData(Ok,this.existingStages)}dropStage(e){Uy(this.existingStages,e.previousIndex,e.currentIndex),this.persistExistingStages(),this.navigateToStage(e.currentIndex)}addNewStage(){this.existingStages.push({name:""}),this.persistExistingStages(),this.currentEditingStageIndex=this.existingStages.length-1}deleteStage(e,n){e.stopPropagation(),1===this.existingStages.length?this.existingStages[0]={name:""}:(this.currentEditingStageIndex>=n&&(this.currentEditingStageIndex-=1),this.existingStages.splice(n,1)),this.persistExistingStages()}resetExistingStages(){this.localStore.removeData(Ok),this.existingStages=gI(),this.persistExistingStages(),this.currentEditingStageIndex=0}navigateToStage(e){this.currentEditingStageIndex=e}onChange(e,n){if("stage-kind"===n){console.log("Switched to:",this.currentEditingStage.kind);let r={};switch(this.currentEditingStage.kind){case Vt.acceptTosAndSetProfile:r={pronouns:"",avatarUrl:"",name:"",tosLines:[""],acceptedTosTimestamp:null};break;case Vt.takeSurvey:r={questions:[]};break;case Vt.voteForLeader:r={};break;case Vt.groupChat:r={ratingsToDiscuss:[],messages:[],items:[],readyToEndChat:!1,isSilent:!0};break;case Vt.revealVoted:r={pendingVoteStageName:"",revealTimestamp:null}}this.currentEditingStage.config=r}this.persistExistingStages()}addExperiment(){this.appStateService.editData(e=>a8(this.newExperimentName,this.existingStages,e))}static#e=this.\u0275fac=function(n){return new(n||i)(C(br),C(Mke))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-create-experiment"]],standalone:!0,features:[pi],decls:48,vars:8,consts:[[1,"main"],[1,"top-bar"],[1,"mat-form-field"],["matInput","","type","text","placeholder","new experiment name","required","true",3,"ngModel","ngModelChange","input"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"container"],["cdkDropList","",1,"stage-list",3,"cdkDropListDropped"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"stage-creation-container"],[1,"main-content"],[1,"stage-kind-selection"],[1,"form-element-wrapper"],[3,"ngModel","ngModelChange","selectionChange"],[1,"stage-name-edit"],["matInput","","type","text","placeholder","Welcome to the experiment!",3,"ngModel","ngModelChange","input"],[1,"tool-bar"],["class","unsaved-warning"],["cdkDrag","",3,"click"],[1,"stage-idx"],[1,"stage-icon",3,"matTooltip"],[1,"stage-content"],["class","stage-incomplete","matTooltip","Stage incomplete"],[1,"stage-delete"],["mat-icon-button","","matTooltip","Delelte this stage",3,"click"],[1,"unknow-stage-kind"],["matTooltip","Stage incomplete",1,"stage-incomplete"],[3,"value"],[1,"config-title"],[1,"fill"],[1,"config-wrapper"],["cdkDropList","",1,"tos-lines",3,"cdkDropListDropped"],[1,"tos-line"],["cdkDrag","",1,"mat-form-field"],["matInput","","type","text","placeholder","In vel diam malesuada nibh vehicula rutrum eget vel lectus.",3,"ngModel","ngModelChange","input"],["mat-icon-button","","matTooltip","Delelte this line",3,"click"],["class","tos-line"],["class","warning"],["cdkDropList","",1,"survey-questions",3,"cdkDropListDropped"],[1,"warning"],[1,"question"],[1,"question-index"],["matTooltip","move up","class","move-button"],[1,"idx"],["matTooltip","move down","class","move-button"],["cdkDrag","","class","mat-form-field"],["class","question-fields"],["mat-icon-button","","matTooltip","Delete this question",3,"click"],["matTooltip","move up",1,"move-button",3,"click"],["matTooltip","move down",1,"move-button",3,"click"],[1,"question-fields"],[1,"question-rating-items"],[1,"item-pair"],[1,"question-rating-item"],["matInput","","type","text","placeholder","compass",3,"ngModel","ngModelChange","input"],["matInput","","type","text","placeholder","https://m.media-amazon.com/images/I/81NUeKWdiQL._AC_UF1000,1000_QL80_.jpg",3,"ngModel","ngModelChange","input"],["class","question"],[1,"unsaved-warning"],["mat-raised-button","","color","primary",3,"click"],["cdkDrag","",3,"class"]],template:function(n,r){if(1&n&&(w(0,"div",0)(1,"div",1)(2,"h2"),I(3,"Create an experiment:"),k(),w(4,"mat-form-field",2)(5,"mat-label"),I(6,"Experiment Name"),k(),w(7,"input",3),J("ngModelChange",function(s){return r.newExperimentName=s})("input",function(s){return r.onChange(s)}),k()(),w(8,"button",4),J("click",function(){return r.addExperiment()}),I(9," Add new experiment "),k()(),w(10,"div",5)(11,"div",6),J("cdkDropListDropped",function(s){return r.dropStage(s)}),ir(12,Nke,17,8,"div",59,pp),$(14,"br"),w(15,"button",7),J("click",function(){return r.addNewStage()}),w(16,"mat-icon"),I(17,"add"),k(),I(18," New stage"),k(),$(19,"br"),w(20,"button",8),J("click",function(){return r.resetExistingStages()}),I(21,"Reset all"),k(),$(22,"br"),k(),w(23,"mat-card",9)(24,"div",10)(25,"div",11)(26,"h3"),I(27,"Stage kind:"),k(),I(28," \xa0\xa0\xa0 "),w(29,"div",12)(30,"mat-form-field",2)(31,"mat-label"),I(32,"Choose a stage:"),k(),w(33,"mat-select",13),J("ngModelChange",function(s){return r.currentEditingStage.kind=s})("selectionChange",function(s){return r.onChange(s,"stage-kind")}),ir(34,Lke,2,2,"mat-option",27,Rc),k()()()(),w(36,"div",14)(37,"h3"),I(38,"Stage name:"),k(),I(39," \xa0\xa0\xa0 "),w(40,"div",12)(41,"mat-form-field",2)(42,"input",15),J("ngModelChange",function(s){return r.currentEditingStage.name=s})("input",function(s){return r.onChange(s)}),k()()()(),he(43,Vke,12,0)(44,Kke,17,1),k(),w(45,"div",16),he(46,Jke,2,0,"div",17)(47,Yke,4,0),k()()()()),2&n){let o;M(7),j("ngModel",r.newExperimentName),M(1),j("disabled",r.experimentSetupIncomplete()),M(4),nr(r.existingStages),M(21),j("ngModel",r.currentEditingStage.kind),M(1),nr(r.availableStageKinds),M(8),j("ngModel",r.currentEditingStage.name),M(1),xe(43,(o=r.tryCast(r.StageKinds.acceptTosAndSetProfile,r.currentEditingStage))?43:-1,o),M(1),xe(44,(o=r.tryCast(r.StageKinds.takeSurvey,r.currentEditingStage))?44:-1,o),M(2),xe(46,r.stageSetupIncomplete()?46:-1),M(1),xe(47,r.hasUnsavedData?47:-1)}},dependencies:[Xo,$c,CD,fke,pq,df,Qp,H2,Kc,ja,z7,fO,Sk,Mo,aa,Jc,Ske,kke,za,Va,Vc,MC,ru,mq,fq],styles:[".main[_ngcontent-%COMP%]{padding:1rem}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem}.top-bar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]{display:flex;width:100%;height:80vh}.stage-list[_ngcontent-%COMP%]{width:250px;padding-right:20px;height:100%;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;overflow:auto}.stage-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0}.stage-container[_ngcontent-%COMP%], .cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;margin:0;font-size:.9rem;background-color:#efefef;cursor:pointer;display:flex;align-items:center}.stage-container[_ngcontent-%COMP%]:hover, .cdk-drag-preview[_ngcontent-%COMP%]:hover{background-color:#ddd}.stage-container.active[_ngcontent-%COMP%], .cdk-drag-preview.active[_ngcontent-%COMP%]{background-color:#ccc}.stage-idx[_ngcontent-%COMP%]{margin-right:8px;height:100%;width:24px;background-color:#0ee9ed4b;display:flex;align-items:center;justify-content:center}.stage-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-right:5px;transform:scale(.8);opacity:.8}.stage-icon[_ngcontent-%COMP%]   .unknow-stage-kind[_ngcontent-%COMP%]{color:#ce4200}.stage-content[_ngcontent-%COMP%]{min-height:30px;display:flex;align-items:center;flex:1}.stage-incomplete[_ngcontent-%COMP%]{transform:scale(.7);color:#d9523e;cursor:default}.stage-delete[_ngcontent-%COMP%]{opacity:.7}.stage-creation-container[_ngcontent-%COMP%]{flex:1;padding:1rem 1.5rem;display:flex;flex-direction:column}.stage-creation-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:1;height:90%;padding-bottom:20px;display:flex;flex-direction:column;align-items:stretch}.stage-creation-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .form-element-wrapper[_ngcontent-%COMP%]{min-width:350px}.stage-creation-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .form-element-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.stage-creation-container[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center;justify-content:flex-end}.stage-creation-container[_ngcontent-%COMP%]   .tool-bar[_ngcontent-%COMP%]   .unsaved-warning[_ngcontent-%COMP%]{margin:1rem;color:#ed5109}.warning[_ngcontent-%COMP%]{color:#ed5109}.stage-name-edit[_ngcontent-%COMP%], .stage-kind-selection[_ngcontent-%COMP%]{flex-shrink:0;display:flex;align-items:center}.config-title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:10px}.config-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}.config-title[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{flex:1}.config-wrapper[_ngcontent-%COMP%]{flex:1;overflow:auto}.tos-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.tos-lines[_ngcontent-%COMP%]   .tos-line[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;margin-bottom:.25rem}.tos-lines[_ngcontent-%COMP%]   .tos-line[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{flex:1}.survey-questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;padding:1rem 0rem;box-sizing:border-box;border-bottom:1px dashed lightgray}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-index[_ngcontent-%COMP%]{flex-shrink:0;margin-right:1rem;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-index[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]{margin:12px 0;cursor:pointer;opacity:.5;transform:scale(.7);transition:all .1s ease-in-out}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-index[_ngcontent-%COMP%]   .move-button[_ngcontent-%COMP%]:hover{opacity:1}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;flex:1}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-fields[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin-bottom:-6px}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-fields[_ngcontent-%COMP%]   .question-rating-items[_ngcontent-%COMP%]{display:flex;align-items:center}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-fields[_ngcontent-%COMP%]   .question-rating-items[_ngcontent-%COMP%]   .item-pair[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.survey-questions[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]   .question-fields[_ngcontent-%COMP%]   .question-rating-items[_ngcontent-%COMP%]   .item-pair[_ngcontent-%COMP%]   .question-rating-item[_ngcontent-%COMP%]{flex-basis:45%;display:flex;flex-direction:column;padding:5px}.stage-view[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.stage-view[_ngcontent-%COMP%]   .sub-view[_ngcontent-%COMP%]{padding:.5rem}.stage-view[_ngcontent-%COMP%]   .reference-view[_ngcontent-%COMP%]{max-height:300px;overflow:auto}.stage-view[_ngcontent-%COMP%]   .reference-view[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{height:100%;width:100%;font-size:12px;line-height:1rem}.stage-view[_ngcontent-%COMP%]   .creation-view[_ngcontent-%COMP%]{border-top:thin solid #ccc}.navigation[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;align-items:center;justify-content:space-between}.toolbar[_ngcontent-%COMP%]{margin:1.5rem 0rem;display:flex;align-items:center;justify-content:flex-end}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .stage-container[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]})}return i})(),yq=(()=>{class i{constructor(e){this.llmService=e,this.tokenControl=new ov(this.llmService.accessToken),this.projectControl=new ov(this.llmService.projectId),this.tokenControl.valueChanges.forEach(n=>{n&&this.llmService.accessToken!==n&&(this.llmService.accessToken=n)}),this.projectControl.valueChanges.forEach(n=>{n&&this.llmService.projectId!==n&&(this.llmService.projectId=n)})}sendRequest(){var e=this;return Hi(function*(){const r=U7("Hello word");console.log(JSON.stringify(r)),console.log(e.llmService.projectId),console.log(e.llmService.accessToken);const o=yield U2(e.llmService.projectId,e.llmService.accessToken,r);console.log(JSON.stringify(o))})()}static#e=this.\u0275fac=function(n){return new(n||i)(C(K2))};static#t=this.\u0275cmp=x({type:i,selectors:[["app-llm-api-config"]],standalone:!0,features:[pi],decls:26,vars:2,consts:[[1,"main"],[1,"cloud-info-form"],[1,"full-width"],["type","text","matInput","",3,"formControl"],["matInput","",3,"formControl"],["color","primary","mat-button","",3,"click"]],template:function(n,r){1&n&&(w(0,"div",0)(1,"p"),I(2," You can this on the command line to get your parameters: "),k(),w(3,"pre"),I(4,'    echo "Project: $(gcloud config get-value project)"\n    echo "AccessToken: $(gcloud auth print-access-token)"\n    '),k(),w(5,"p"),I(6," Note: the access token generally works for "),w(7,"b"),I(8,"1 hour"),k(),I(9,". After that, you'll need to renew it. "),k(),w(10,"p"),I(11," And then copy/paste them here: "),k(),w(12,"form",1)(13,"mat-form-field",2)(14,"mat-label"),I(15,"Project"),k(),$(16,"input",3),k(),w(17,"mat-form-field",2)(18,"mat-label"),I(19,"AccessToken"),k(),$(20,"textarea",4),k()(),w(21,"p"),I(22," These values are saved in your local browser storage, you can clear them by simply editing the above fields (local browser storage is updated as you type). "),k()(),w(23,"button",5),J("click",function(){return r.sendRequest()}),w(24,"span"),I(25,"Send"),k()()),2&n&&(M(16),j("formControl",r.projectControl),M(4),j("formControl",r.tokenControl))},dependencies:[Mo,Kc,ja,aa,Jc,Ip,FT,Va,Vc,kT,SC],styles:[".cloud-info-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}"]})}return i})();const Zke=[{path:"participant/:experiment/:user",component:vDe,canActivate:[(i,t)=>te(br).validParticipant(i.params.experiment,i.params.user)],pathMatch:"full"},{path:"experimenter",component:O7,canActivate:[(i,t)=>!0],children:[{path:"create-experiment",component:Xke,pathMatch:"full"},{path:"experiment/:experiment/settings",component:U1e,pathMatch:"full"},{path:"experiment/:experiment",component:z1e,pathMatch:"full"},{path:"settings",component:M2,pathMatch:"full"},{path:"llm-settings",component:yq,pathMatch:"full"}]},{path:"",component:w6,pathMatch:"full"},{path:"**",component:Zwe}];let Qke=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[ef.forRoot(Zke,{useHash:!0,bindToComponentInputs:!0}),ef]})}return i})();function wq(i){return new z(3e3,!1)}function Iu(i){switch(i.length){case 0:return new Hv;case 1:return i[0];default:return new Xz(i)}}function xq(i,t,e=new Map,n=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==s,f=u&&a||new Map;l.forEach((p,g)=>{let b=g,v=p;if("offset"!==g)switch(b=i.normalizePropertyName(b,r),v){case"!":v=e.get(g);break;case Gc:v=n.get(g);break;default:v=i.normalizeStyleValue(g,b,v,r)}f.set(b,v)}),u||o.push(f),a=f,s=c}),r.length)throw function xEe(i){return new z(3502,!1)}();return o}function nF(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&rF(e,"start",i)));break;case"done":i.onDone(()=>n(e&&rF(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&rF(e,"destroy",i)))}}function rF(i,t,e){const o=oF(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),s=i._data;return null!=s&&(o._data=s),o}function oF(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Ps(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Cq(i){const t=i.indexOf(":");return[i.substring(1,t),i.slice(t+1)]}const PEe=(()=>typeof document>"u"?null:document.documentElement)();function sF(i){const t=i.parentNode||i.host||null;return t===PEe?null:t}let Cf=null,Dq=!1;function kq(i,t){for(;t;){if(t===i)return!0;t=sF(t)}return!1}function Eq(i,t,e){if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]}let aF=(()=>{class i{validateStyleProperty(e){return function NEe(i){Cf||(Cf=function LEe(){return typeof document<"u"?document.body:null}()||{},Dq=!!Cf.style&&"WebkitAppearance"in Cf.style);let t=!0;return Cf.style&&!function FEe(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Cf.style,!t&&Dq&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Cf.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return kq(e,n)}getParentElement(e){return sF(e)}query(e,n,r){return Eq(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],l){return new Hv(r,o)}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})(),lF=(()=>{class i{static#e=this.NOOP=new aF}return i})();class cF{}const VEe=1e3,dF="ng-enter",Rk="ng-leave",Pk="ng-trigger",Fk=".ng-trigger",Mq="ng-animating",uF=".ng-animating";function sd(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:hF(parseFloat(t[1]),t[2])}function hF(i,t){return"s"===t?i*VEe:i}function Nk(i,t,e){return i.hasOwnProperty("duration")?i:function zEe(i,t,e){let r,o=0,s="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(wq()),{duration:0,delay:0,easing:""};r=hF(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=hF(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(function eEe(){return new z(3100,!1)}()),a=!0),o<0&&(t.push(function tEe(){return new z(3101,!1)}()),a=!0),a&&t.splice(l,0,wq())}return{duration:r,delay:o,easing:s}}(i,t,e)}function jy(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function Aq(i){const t=new Map;return Object.keys(i).forEach(e=>{t.set(e,i[e])}),t}function Ou(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function Jl(i,t,e){t.forEach((n,r)=>{const o=mF(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Df(i,t){t.forEach((e,n)=>{const r=mF(n);i.style[r]=""})}function $y(i){return Array.isArray(i)?1==i.length?i[0]:function Iue(i,t=null){return{type:2,steps:i,options:t}}(i):i}const fF=new RegExp("{{\\s*(.+?)\\s*}}","g");function Iq(i){let t=[];if("string"==typeof i){let e;for(;e=fF.exec(i);)t.push(e[1]);fF.lastIndex=0}return t}function Gy(i,t,e){const n=i.toString(),r=n.replace(fF,(o,s)=>{let a=t[s];return null==a&&(e.push(function nEe(i){return new z(3003,!1)}()),a=""),a.toString()});return r==n?i:r}function Lk(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const jEe=/-+([a-z0-9])/g;function mF(i){return i.replace(jEe,(...t)=>t[1].toUpperCase())}function Fs(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw function rEe(i){return new z(3004,!1)}()}}function Oq(i,t){return window.getComputedStyle(i)[t]}const qEe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rq extends cF{normalizePropertyName(t,e){return mF(t)}normalizeStyleValue(t,e,n,r){let o="";const s=n.toString().trim();if(qEe.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function oEe(i,t){return new z(3005,!1)}())}return s+o}}const Bk="*";function KEe(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function JEe(i,t,e){if(":"==i[0]){const l=function YEe(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function bEe(i){return new z(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof l)return void t.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function _Ee(i){return new z(3015,!1)}()),t;const r=n[1],o=n[2],s=n[3];t.push(Pq(r,s));"<"==o[0]&&!(r==Bk&&s==Bk)&&t.push(Pq(s,r))}(n,e,t)):e.push(i),e}const Vk=new Set(["true","1"]),Hk=new Set(["false","0"]);function Pq(i,t){const e=Vk.has(i)||Hk.has(i),n=Vk.has(t)||Hk.has(t);return(r,o)=>{let s=i==Bk||i==r,a=t==Bk||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Vk.has(i):Hk.has(i)),!a&&n&&"boolean"==typeof o&&(a=o?Vk.has(t):Hk.has(t)),s&&a}}const XEe=new RegExp("s*:selfs*,?","g");function pF(i,t,e,n){return new ZEe(i).build(t,e,n)}class ZEe{constructor(t){this._driver=t}build(t,e,n){const r=new tSe(e);return this._resetContextStyleTimingState(r),Fs(this,$y(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function sEe(){return new z(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function aEe(){return new z(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Iq(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Lk(o.values()),e.errors.push(function lEe(i,t){return new z(3008,!1)}()))}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Fs(this,$y(t.animation),e);return{type:1,matchers:KEe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:kf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Fs(this,n,e)),options:kf(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=n;const a=Fs(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:kf(t.options)}}visitAnimate(t,e){const n=function nSe(i,t){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return gF(Nk(i,t).duration,0,"");const e=i;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=gF(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Nk(e,t);return gF(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Vn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};n.easing&&(c.easing=n.easing),s=Vn(c)}e.currentTime+=n.duration+n.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Gc?n.push(a):e.errors.push(new z(3002,!1)):n.push(Aq(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let f=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function dEe(i,t,e,n,r){return new z(3010,!1)}()),f=!1),o=u.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function WEe(i,t,e){const n=t.params||{},r=Iq(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(function iEe(i){return new z(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function uEe(){return new z(3011,!1)}()),n;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(S=>{const A=this._makeStyleAst(S,e);let L=null!=A.offset?A.offset:function iSe(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(A.styles),H=0;return null!=L&&(o++,H=A.offset=L),l=l||H<0||H>1,a=a||H<c,c=H,s.push(H),A});l&&e.errors.push(function hEe(){return new z(3012,!1)}()),a&&e.errors.push(function fEe(){return new z(3200,!1)}());const f=t.steps.length;let p=0;o>0&&o<f?e.errors.push(function mEe(){return new z(3202,!1)}()):0==o&&(p=1/(f-1));const g=f-1,b=e.currentTime,v=e.currentAnimateTimings,D=v.duration;return u.forEach((S,A)=>{const L=p>0?A==g?1:p*A:s[A],H=L*D;e.currentTime=b+v.delay+H,v.duration=H,this._validateStyleAst(S,e),S.offset=L,n.styles.push(S)}),n}visitReference(t,e){return{type:8,animation:Fs(this,$y(t.animation),e),options:kf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:kf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:kf(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function QEe(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(XEe,"")),i=i.replace(/@\*/g,Fk).replace(/@\w+/g,e=>Fk+"-"+e.slice(1)).replace(/:animating/g,uF),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Ps(e.collectedStyles,e.currentQuerySelector,new Map);const a=Fs(this,$y(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:kf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function pEe(){return new z(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Nk(t.timings,e.errors,!0);return{type:12,animation:Fs(this,$y(t.animation),e),timings:n,options:null}}}class tSe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kf(i){return i?(i=jy(i)).params&&(i.params=function eSe(i){return i?jy(i):null}(i.params)):i={},i}function gF(i,t,e){return{duration:i,delay:t,easing:e}}function _F(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class zk{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const sSe=new RegExp(":enter","g"),lSe=new RegExp(":leave","g");function bF(i,t,e,n,r,o=new Map,s=new Map,a,l,c=[]){return(new cSe).buildKeyframes(i,t,e,n,r,o,s,a,l,c)}class cSe{buildKeyframes(t,e,n,r,o,s,a,l,c,u=[]){c=c||new zk;const f=new vF(t,e,c,r,o,u,[]);f.options=l;const p=l.delay?sd(l.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,l),Fs(this,n,f);const g=f.timelines.filter(b=>b.containsAnimation());if(g.length&&a.size){let b;for(let v=g.length-1;v>=0;v--){const D=g[v];if(D.element===e){b=D;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,f.errors,l)}return g.length?g.map(b=>b.buildKeyframes()):[_F(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:sd(Gy(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?sd(n.duration):null,a=null!=n.delay?sd(n.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Fs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Uk);const s=sd(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Fs(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?sd(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Fs(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Nk(e.params?Gy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?sd(r.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Uk);let s=n;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),Fs(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;Fs(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-f+(r.startTime-n.currentTimeline.startTime)}}const Uk={};class vF{constructor(t,e,n,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Wk(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=sd(n.duration)),null!=n.delay&&(r.delay=sd(n.delay));const o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Gy(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,o=new vF(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Uk,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new dSe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(sSe,"."+this._enterClassName)).replace(lSe,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&0==a.length&&s.push(function gEe(i){return new z(3014,!1)}()),a}}class Wk{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Wk(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Gc),this._currentKeyframe.set(e,Gc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function uSe(i,t){const e=new Map;let n;return i.forEach(r=>{if("*"===r){n=n||t.keys();for(let o of n)e.set(o,Gc)}else Ou(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=Gy(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gc),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ou(a,new Map,this._backFill);c.forEach((u,f)=>{"!"===u?t.add(f):u===Gc&&e.add(f)}),n||c.set("offset",l/this.duration),r.push(c)});const o=t.size?Lk(t.values()):[],s=e.size?Lk(e.values()):[];if(n){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return _F(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class dSe extends Wk{constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,a=e/s,l=Ou(t[0]);l.set("offset",0),o.push(l);const c=Ou(t[0]);c.set("offset",Lq(a)),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let p=Ou(t[f]);const g=p.get("offset");p.set("offset",Lq((e+g*n)/s)),o.push(p)}n=s,e=0,r="",t=o}return _F(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Lq(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}function Bq(i,t,e,n,r,o,s,a,l,c,u,f,p){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:p}}const yF={};class Vq{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function hSe(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,l,c,u){const f=[],p=this.ast.options&&this.ast.options.params||yF,b=this.buildStyles(n,a&&a.params||yF,f),v=l&&l.params||yF,D=this.buildStyles(r,v,f),S=new Set,A=new Map,L=new Map,H="void"===r,W={params:fSe(v,p),delay:this.ast.options?.delay},ie=u?[]:bF(t,e,this.ast.animation,o,s,b,D,W,c,f);let se=0;if(ie.forEach(ct=>{se=Math.max(ct.duration+ct.delay,se)}),f.length)return Bq(e,this._triggerName,n,r,H,b,D,[],[],A,L,se,f);ie.forEach(ct=>{const mt=ct.element,At=Ps(A,mt,new Set);ct.preStyleProps.forEach(Ht=>At.add(Ht));const _t=Ps(L,mt,new Set);ct.postStyleProps.forEach(Ht=>_t.add(Ht)),mt!==e&&S.add(mt)});const Ue=Lk(S.values());return Bq(e,this._triggerName,n,r,H,b,D,ie,Ue,A,L,se)}}function fSe(i,t){const e=jy(t);for(const n in i)i.hasOwnProperty(n)&&null!=i[n]&&(e[n]=i[n]);return e}class mSe{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,r=jy(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Gy(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}}class gSe{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new mSe(r.style,r.options&&r.options.params||{},n))}),Hq(this.states,"true","1"),Hq(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Vq(t,r,this.states))}),this.fallbackTransition=function _Se(i,t,e){return new Vq(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Hq(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}const bSe=new zk;class vSe{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=pF(this._driver,e,n,[]);if(n.length)throw function CEe(i){return new z(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const r=t.element,o=xq(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=bF(this._driver,e,o,dF,Rk,new Map,new Map,n,bSe,r),s.forEach(u=>{const f=Ps(a,u.element,new Map);u.postStyleProps.forEach(p=>f.set(p,null))})):(r.push(function DEe(){return new z(3300,!1)}()),s=[]),r.length)throw function kEe(i){return new z(3504,!1)}();a.forEach((u,f)=>{u.forEach((p,g)=>{u.set(g,this._driver.computeStyle(f,g,Gc))})});const c=Iu(s.map(u=>{const f=a.get(u.element);return this._buildPlayer(u,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function EEe(i){return new z(3301,!1)}();return e}listen(t,e,n,r){const o=oF(e,"","","");return nF(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const zq="ng-animate-queued",wF="ng-animate-disabled",DSe=[],Uq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ka="__ng_removed";class xF{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function ASe(i){return i??null}(n?t.value:t),n){const o=jy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(r=>{null==n[r]&&(n[r]=e[r])})}}}const qy="void",CF=new xF(qy);class ESe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ma(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw function SEe(i,t){return new z(3302,!1)}();if(null==n||0==n.length)throw function MEe(i){return new z(3303,!1)}();if(!function TSe(i){return"start"==i||"done"==i}(n))throw function AEe(i,t){return new z(3400,!1)}();const o=Ps(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Ps(this._engine.statesByElement,t,new Map);return a.has(e)||(ma(t,Pk),ma(t,Pk+"-"+e),a.set(e,CF)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function TEe(i){return new z(3401,!1)}();return e}trigger(t,e,n,r=!0){const o=this._getTrigger(e),s=new DF(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ma(t,Pk),ma(t,Pk+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new xF(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=CF),c.value!==qy&&l.value===c.value){if(!function RSe(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}(l.params,c.params)){const v=[],D=o.matchStyles(l.value,l.params,v),S=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Df(t,D),Jl(t,S)})}return}const p=Ps(this._engine.playersByElement,t,[]);p.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let g=o.matchTransition(l.value,c.value,t,c.params),b=!1;if(!g){if(!r)return;g=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(ma(t,zq),s.onStart(()=>{Ag(t,zq)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const D=this._engine.playersByElement.get(t);if(D){let S=D.indexOf(s);S>=0&&D.splice(S,1)}}),this.players.push(s),p.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Fk,!0);n.forEach(r=>{if(r[Ka])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,qy,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Iu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=n.get(s)||CF,u=new xF(qy),f=new DF(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ka];(!o||o===Uq)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ma(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){const l=oF(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,nF(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{const o=n.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class SSe{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new ESe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let r of n.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,r){if(jk(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!jk(e))return;const o=e[Ka];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ma(t,wF)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ag(t,wF))}removeNode(t,e,n){if(jk(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Ka]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return jk(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Fk,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uF,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Iu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ka];if(e&&e.setForRemoval){if(t[Ka]=Uq,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(wF)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ma(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Iu(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw function IEe(i){return new z(3402,!1)}()}_flushAnimations(t,e){const n=new zk,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(we=>{u.add(we);const De=this.driver.query(we,".ng-animate-queued",!0);for(let Ie=0;Ie<De.length;Ie++)u.add(De[Ie])});const f=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=$q(p,this.collectedEnterElements),b=new Map;let v=0;g.forEach((we,De)=>{const Ie=dF+v++;b.set(De,Ie),we.forEach(pt=>ma(pt,Ie))});const D=[],S=new Set,A=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const De=this.collectedLeaveElements[we],Ie=De[Ka];Ie&&Ie.setForRemoval&&(D.push(De),S.add(De),Ie.hasAnimation?this.driver.query(De,".ng-star-inserted",!0).forEach(pt=>S.add(pt)):A.add(De))}const L=new Map,H=$q(p,Array.from(S));H.forEach((we,De)=>{const Ie=Rk+v++;L.set(De,Ie),we.forEach(pt=>ma(pt,Ie))}),t.push(()=>{g.forEach((we,De)=>{const Ie=b.get(De);we.forEach(pt=>Ag(pt,Ie))}),H.forEach((we,De)=>{const Ie=L.get(De);we.forEach(pt=>Ag(pt,Ie))}),D.forEach(we=>{this.processLeaveNode(we)})});const W=[],ie=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(e).forEach(Ie=>{const pt=Ie.player,Pt=Ie.element;if(W.push(pt),this.collectedEnterElements.length){const lo=Pt[Ka];if(lo&&lo.setForMove){if(lo.previousTriggersValues&&lo.previousTriggersValues.has(Ie.triggerName)){const Sf=lo.previousTriggersValues.get(Ie.triggerName),pa=this.statesByElement.get(Ie.element);if(pa&&pa.has(Ie.triggerName)){const qk=pa.get(Ie.triggerName);qk.value=Sf,pa.set(Ie.triggerName,qk)}}return void pt.destroy()}}const an=!f||!this.driver.containsElement(f,Pt),Xi=L.get(Pt),ao=b.get(Pt),ui=this._buildInstruction(Ie,n,ao,Xi,an);if(ui.errors&&ui.errors.length)return void ie.push(ui);if(an)return pt.onStart(()=>Df(Pt,ui.fromStyles)),pt.onDestroy(()=>Jl(Pt,ui.toStyles)),void r.push(pt);if(Ie.isFallbackTransition)return pt.onStart(()=>Df(Pt,ui.fromStyles)),pt.onDestroy(()=>Jl(Pt,ui.toStyles)),void r.push(pt);const Ef=[];ui.timelines.forEach(lo=>{lo.stretchStartingKeyframe=!0,this.disabledNodes.has(lo.element)||Ef.push(lo)}),ui.timelines=Ef,n.append(Pt,ui.timelines),s.push({instruction:ui,player:pt,element:Pt}),ui.queriedElements.forEach(lo=>Ps(a,lo,[]).push(pt)),ui.preStyleProps.forEach((lo,Sf)=>{if(lo.size){let pa=l.get(Sf);pa||l.set(Sf,pa=new Set),lo.forEach((qk,MF)=>pa.add(MF))}}),ui.postStyleProps.forEach((lo,Sf)=>{let pa=c.get(Sf);pa||c.set(Sf,pa=new Set),lo.forEach((qk,MF)=>pa.add(MF))})});if(ie.length){const we=[];ie.forEach(De=>{we.push(function OEe(i,t){return new z(3505,!1)}())}),W.forEach(De=>De.destroy()),this.reportError(we)}const se=new Map,Ue=new Map;s.forEach(we=>{const De=we.element;n.has(De)&&(Ue.set(De,De),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,se))}),r.forEach(we=>{const De=we.element;this._getPreviousPlayers(De,!1,we.namespaceId,we.triggerName,null).forEach(pt=>{Ps(se,De,[]).push(pt),pt.destroy()})});const ct=D.filter(we=>qq(we,l,c)),mt=new Map;jq(mt,this.driver,A,c,Gc).forEach(we=>{qq(we,l,c)&&ct.push(we)});const _t=new Map;g.forEach((we,De)=>{jq(_t,this.driver,new Set(we),l,"!")}),ct.forEach(we=>{const De=mt.get(we),Ie=_t.get(we);mt.set(we,new Map([...De?.entries()??[],...Ie?.entries()??[]]))});const Ht=[],Gt=[],Ri={};s.forEach(we=>{const{element:De,player:Ie,instruction:pt}=we;if(n.has(De)){if(u.has(De))return Ie.onDestroy(()=>Jl(De,pt.toStyles)),Ie.disabled=!0,Ie.overrideTotalTime(pt.totalTime),void r.push(Ie);let Pt=Ri;if(Ue.size>1){let Xi=De;const ao=[];for(;Xi=Xi.parentNode;){const ui=Ue.get(Xi);if(ui){Pt=ui;break}ao.push(Xi)}ao.forEach(ui=>Ue.set(ui,Pt))}const an=this._buildAnimation(Ie.namespaceId,pt,se,o,_t,mt);if(Ie.setRealPlayer(an),Pt===Ri)Ht.push(Ie);else{const Xi=this.playersByElement.get(Pt);Xi&&Xi.length&&(Ie.parentPlayer=Iu(Xi)),r.push(Ie)}}else Df(De,pt.fromStyles),Ie.onDestroy(()=>Jl(De,pt.toStyles)),Gt.push(Ie),u.has(De)&&r.push(Ie)}),Gt.forEach(we=>{const De=o.get(we.element);if(De&&De.length){const Ie=Iu(De);we.setRealPlayer(Ie)}}),r.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<D.length;we++){const De=D[we],Ie=De[Ka];if(Ag(De,Rk),Ie&&Ie.hasAnimation)continue;let pt=[];if(a.size){let an=a.get(De);an&&an.length&&pt.push(...an);let Xi=this.driver.query(De,uF,!0);for(let ao=0;ao<Xi.length;ao++){let ui=a.get(Xi[ao]);ui&&ui.length&&pt.push(...ui)}}const Pt=pt.filter(an=>!an.destroyed);Pt.length?ISe(this,De,Pt):this.processLeaveNode(De)}return D.length=0,Ht.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const De=this.players.indexOf(we);this.players.splice(De,1)}),we.play()}),Ht}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==qy;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=Ps(n,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(g=>{const b=g.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),g.destroy(),f.push(g)})}Df(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,p=e.timelines.map(b=>{const v=b.element;u.add(v);const D=v[Ka];if(D&&D.removedBeforeQueried)return new Hv(b.duration,b.delay);const S=v!==l,A=function OSe(i){const t=[];return Gq(i,t),t}((n.get(v)||DSe).map(se=>se.getRealPlayer())).filter(se=>!!se.element&&se.element===v),L=o.get(v),H=s.get(v),W=xq(this._normalizer,b.keyframes,L,H),ie=this._buildPlayer(b,W,A);if(b.subTimeline&&r&&f.add(v),S){const se=new DF(t,a,v);se.setRealPlayer(ie),c.push(se)}return ie});c.forEach(b=>{Ps(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function MSe(i,t,e){let n=i.get(t);if(n){if(n.length){const r=n.indexOf(e);n.splice(r,1)}0==n.length&&i.delete(t)}return n}(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>ma(b,Mq));const g=Iu(p);return g.onDestroy(()=>{u.forEach(b=>Ag(b,Mq)),Jl(l,e.toStyles)}),f.forEach(b=>{Ps(r,b,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Hv(t.duration,t.delay)}}class DF{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Hv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>nF(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jk(i){return i&&1===i.nodeType}function Wq(i,t){const e=i.style.display;return i.style.display=t??"none",e}function jq(i,t,e,n,r){const o=[];e.forEach(l=>o.push(Wq(l)));const s=[];n.forEach((l,c)=>{const u=new Map;l.forEach(f=>{const p=t.computeStyle(c,f,r);u.set(f,p),(!p||0==p.length)&&(c[Ka]=kSe,s.push(c))}),i.set(c,u)});let a=0;return e.forEach(l=>Wq(l,o[a++])),s}function $q(i,t){const e=new Map;if(i.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function ma(i,t){i.classList?.add(t)}function Ag(i,t){i.classList?.remove(t)}function ISe(i,t,e){Iu(e).onDone(()=>i.processLeaveNode(t))}function Gq(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof Xz?Gq(n.players,t):t.push(n)}}function qq(i,t,e){const n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}class Ky{constructor(t,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new SSe(t.body,e,n),this._timelineEngine=new vSe(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=pF(this._driver,o,l,[]);if(l.length)throw function wEe(i,t){return new z(3404,!1)}();a=function pSe(i,t,e){return new gSe(i,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[o,s]=Cq(n);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if("@"==n.charAt(0)){const[s,a]=Cq(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let FSe=(()=>{class i{static#e=this.initialStylesByElement=new WeakMap;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Jl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Jl(this._element,this._initialStyles),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Df(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Df(this._element,this._endStyles),this._endStyles=null),Jl(this._element,this._initialStyles),this._state=3)}}return i})();function kF(i){let t=null;return i.forEach((e,n)=>{(function NSe(i){return"display"===i||"position"===i})(n)&&(t=t||new Map,t.set(n,e))}),t}class Kq{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&t.set(r,this._finished?n:Oq(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Jq{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return kq(t,e)}getParentElement(t){return sF(t)}query(t,e,n){return Eq(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,s=[]){const l={duration:n,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(g=>g instanceof Kq);(function $Ee(i,t){return 0===i||0===t})(n,r)&&u.forEach(g=>{g.currentSnapshot.forEach((b,v)=>c.set(v,b))});let f=function UEe(i){return i.length?i[0]instanceof Map?i:i.map(t=>Aq(t)):[]}(e).map(g=>Ou(g));f=function GEe(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Oq(i,a)))}}return t}(t,f,c);const p=function PSe(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=kF(t[0]),t.length>1&&(n=kF(t[t.length-1]))):t instanceof Map&&(e=kF(t)),e||n?new FSe(i,e,n):null}(t,f);return new Kq(t,f,l,p)}}const Yq="@.disabled";class Xq{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==Yq?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class LSe extends Xq{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Yq?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function BSe(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function VSe(i){const t=i.indexOf(".");return[i.substring(0,t),i.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(t,e,n)}}class HSe{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new Xq("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new LSe(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(n));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Zq=[{provide:cF,useFactory:function USe(){return new Rq}},{provide:Ky,useClass:(()=>{class i extends Ky{constructor(e,n,r,o){super(e,n,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||i)(U(nt),U(lF),U(cF),U(Qd))};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac})}return i})()},{provide:hM,useFactory:function WSe(i,t,e){return new HSe(i,t,e)},deps:[pT,Ky,_e]}],EF=[{provide:lF,useFactory:()=>new Jq},{provide:Vi,useValue:"BrowserAnimations"},...Zq],Qq=[{provide:lF,useClass:aF},{provide:Vi,useValue:"NoopAnimations"},...Zq];let jSe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Qq:EF}}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({providers:EF,imports:[L4]})}return i})();function Jy(i){return void 0!==i.error}function eK(i){return SF.apply(this,arguments)}function SF(){return(SF=Hi(function*(i){try{const t=yield i();return 200!==t.status?{error:`${t.statusText} (status: ${t.status})`}:t.result}catch(t){const e=t;return console.warn(t),404===e.status?{error:"No such spreadsheet exists. Maybe the ID or URL is mistyped? (404)"}:403===e.status?{error:"You do not have permission to access this sheet. You need to login with an account that has access, or have the owner make it publicly viewable. (403)"}:{error:`Unknown error (${e.status}), sorry.`}}})).apply(this,arguments)}function tK(i,t){const e=i.match(/^(https\:\/\/docs\.google\.com\/spreadsheets\/d\/)?([a-zA-Z0-9_\-]{5,})\/?/);if(!e)return{error:"No sheet URL or ID entered."};const n=e[2];console.log("sheetId:",n);const r={spreadsheetId:n};return t&&(r.access_token=t.access_token),r}let qSe=(()=>{class i{constructor(){this.onceReady=new Promise((e,n)=>{gapi.load("client",Hi(function*(){yield gapi.client.init({apiKey:"enter api key for sheets api here",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}),e()}))})}getSheetInfo(e,n){var r=this;return Hi(function*(){yield r.onceReady;const o=tK(e,n);if(Jy(o))return o;const s=yield eK(()=>gapi.client.sheets.spreadsheets.get(o));return Jy(s),s})()}getSheetValues(e,n,r){var o=this;return Hi(function*(){yield o.onceReady;const s=function GSe(i,t,e){const n=tK(i,e);return Jy(n)||(n.range=t),n}(e,n,r);if(Jy(s))return s;const a=yield eK(()=>gapi.client.sheets.spreadsheets.values.get(s));return Jy(a)?a:a.values&&0!=a.values.length?{values:a.values}:{error:"no values found."}})()}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),KSe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Rz,Mt,Mt]})}return i})(),eMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i});static#i=this.\u0275inj=Xe({imports:[Mt,Pl,Mt]})}return i})(),tMe=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=Pe({type:i,bootstrap:[nde]});static#i=this.\u0275inj=Xe({providers:[K2,br,u8,iR,qSe],imports:[L4,jSe,ef,Qke,H2,O2,eMe,df,F2,KSe,za,Ip,Xo,Mo,aa,A6,Gv,eU,DU,w6,M2,yq,S7,b7,v7,m7,A7,M7,O7]})}return i})();Kne().bootstrapModule(tMe).catch(i=>console.error(i))},161:function(es){es.exports=function(){"use strict";function Oo(P,q){return P(q={exports:{}},q.exports),q.exports}var gn=Oo(function(P){var q=P.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=q)}),Un=Oo(function(P){var q=P.exports={version:"2.6.5"};"number"==typeof __e&&(__e=q)}),hi=function(P){return"object"==typeof P?null!==P:"function"==typeof P},Ns=function(P){if(!hi(P))throw TypeError(P+" is not an object!");return P},Yl=function(P){try{return!!P()}catch{return!0}},Pi=!Yl(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),gi=gn.document,Ru=hi(gi)&&hi(gi.createElement),Pu=!Pi&&!Yl(function(){return 7!=Object.defineProperty(function(P){return Ru?gi.createElement(P):{}}("div"),"a",{get:function(){return 7}}).a}),ad=Object.defineProperty,ga={f:Pi?Object.defineProperty:function(q,ce,ae){if(Ns(q),ce=function(P,q){if(!hi(P))return P;var ce,ae;if(q&&"function"==typeof(ce=P.toString)&&!hi(ae=ce.call(P))||"function"==typeof(ce=P.valueOf)&&!hi(ae=ce.call(P))||!q&&"function"==typeof(ce=P.toString)&&!hi(ae=ce.call(P)))return ae;throw TypeError("Can't convert object to primitive value")}(ce,!0),Ns(ae),Pu)try{return ad(q,ce,ae)}catch{}if("get"in ae||"set"in ae)throw TypeError("Accessors not supported!");return"value"in ae&&(q[ce]=ae.value),q}},ln=Pi?function(P,q,ce){return ga.f(P,q,function(P,q){return{enumerable:!(1&P),configurable:!(2&P),writable:!(4&P),value:q}}(1,ce))}:function(P,q,ce){return P[q]=ce,P},Ls={}.hasOwnProperty,Zl=function(P,q){return Ls.call(P,q)},Wr=0,Bs=Math.random(),jr=Oo(function(P){var q="__core-js_shared__",ce=gn[q]||(gn[q]={});(P.exports=function(ae,Ge){return ce[ae]||(ce[ae]=void 0!==Ge?Ge:{})})("versions",[]).push({version:Un.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}),ho=jr("native-function-to-string",Function.toString),Vs=Oo(function(P){var q=function(P){return"Symbol(".concat(void 0===P?"":P,")_",(++Wr+Bs).toString(36))}("src"),ce="toString",ae=(""+ho).split(ce);Un.inspectSource=function(Ge){return ho.call(Ge)},(P.exports=function(Ge,ue,wt,$n){var Ni="function"==typeof wt;Ni&&(Zl(wt,"name")||ln(wt,"name",ue)),Ge[ue]!==wt&&(Ni&&(Zl(wt,q)||ln(wt,q,Ge[ue]?""+Ge[ue]:ae.join(String(ue)))),Ge===gn?Ge[ue]=wt:$n?Ge[ue]?Ge[ue]=wt:ln(Ge,ue,wt):(delete Ge[ue],ln(Ge,ue,wt)))})(Function.prototype,ce,function(){return"function"==typeof this&&this[q]||ho.call(this)})}),Af=function(P,q,ce){if(function(P){if("function"!=typeof P)throw TypeError(P+" is not a function!")}(P),void 0===q)return P;switch(ce){case 1:return function(ae){return P.call(q,ae)};case 2:return function(ae,Ge){return P.call(q,ae,Ge)};case 3:return function(ae,Ge,ue){return P.call(q,ae,Ge,ue)}}return function(){return P.apply(q,arguments)}},Ql="prototype",_n=function(P,q,ce){var $r,os,lr,rc,ae=P&_n.F,Ge=P&_n.G,wt=P&_n.P,$n=P&_n.B,Ni=Ge?gn:P&_n.S?gn[q]||(gn[q]={}):(gn[q]||{})[Ql],xa=Ge?Un:Un[q]||(Un[q]={}),el=xa[Ql]||(xa[Ql]={});for($r in Ge&&(ce=q),ce)lr=((os=!ae&&Ni&&void 0!==Ni[$r])?Ni:ce)[$r],rc=$n&&os?Af(lr,gn):wt&&"function"==typeof lr?Af(Function.call,lr):lr,Ni&&Vs(Ni,$r,lr,P&_n.U),xa[$r]!=lr&&ln(xa,$r,rc),wt&&el[$r]!=lr&&(el[$r]=lr)};gn.core=Un,_n.F=1,_n.G=2,_n.S=4,_n.P=8,_n.B=16,_n.W=32,_n.U=64,_n.R=128;var ts=_n,Ig=Math.ceil,Og=Math.floor,is=function(P){return isNaN(P=+P)?0:(P>0?Og:Ig)(P)},Ya=(!1,function(q,ce){var wt,$n,ae=String(function(P){if(null==P)throw TypeError("Can't call method on  "+P);return P}(q)),Ge=is(ce),ue=ae.length;return Ge<0||Ge>=ue?void 0:(wt=ae.charCodeAt(Ge))<55296||wt>56319||Ge+1===ue||($n=ae.charCodeAt(Ge+1))<56320||$n>57343?wt:$n-56320+(wt-55296<<10)+65536});ts(ts.P,"String",{codePointAt:function(q){return Ya(this,q)}});var Yy=Math.max,Xy=Math.min,Tf=function(P,q){return(P=is(P))<0?Yy(P+q,0):Xy(P,q)},ba=String.fromCharCode,ld=String.fromCodePoint;ts(ts.S+ts.F*(!!ld&&1!=ld.length),"String",{fromCodePoint:function(q){for(var wt,ce=arguments,ae=[],Ge=arguments.length,ue=0;Ge>ue;){if(wt=+ce[ue++],Tf(wt,1114111)!==wt)throw RangeError(wt+" is not a valid code point");ae.push(wt<65536?ba(wt):ba(55296+((wt-=65536)>>10),wt%1024+56320))}return ae.join("")}});var Tt,Zt,Wn,va,We,vr,Zi,Hs,Fi,ot,Je,tc,yr,st,Za={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Ci={isSpaceSeparator:function(q){return"string"==typeof q&&Za.Space_Separator.test(q)},isIdStartChar:function(q){return"string"==typeof q&&(q>="a"&&q<="z"||q>="A"&&q<="Z"||"$"===q||"_"===q||Za.ID_Start.test(q))},isIdContinueChar:function(q){return"string"==typeof q&&(q>="a"&&q<="z"||q>="A"&&q<="Z"||q>="0"&&q<="9"||"$"===q||"_"===q||"\u200c"===q||"\u200d"===q||Za.ID_Continue.test(q))},isDigit:function(q){return"string"==typeof q&&/[0-9]/.test(q)},isHexDigit:function(q){return"string"==typeof q&&/[0-9A-Fa-f]/.test(q)}};function ya(P,q,ce){var ae=P[q];if(null!=ae&&"object"==typeof ae)if(Array.isArray(ae))for(var Ge=0;Ge<ae.length;Ge++){var ue=String(Ge),wt=ya(ae,ue,ce);void 0===wt?delete ae[ue]:Object.defineProperty(ae,ue,{value:wt,writable:!0,enumerable:!0,configurable:!0})}else for(var $n in ae){var Ni=ya(ae,$n,ce);void 0===Ni?delete ae[$n]:Object.defineProperty(ae,$n,{value:Ni,writable:!0,enumerable:!0,configurable:!0})}return ce.call(P,q,ae)}function rs(){for(ot="default",Je="",tc=!1,yr=1;;){st=ar();var P=Qa[ot]();if(P)return P}}function ar(){if(Tt[va])return String.fromCodePoint(Tt.codePointAt(va))}function X(){var P=ar();return"\n"===P?(We++,vr=0):P?vr+=P.length:vr++,P&&(va+=P.length),P}var Qa={default:function(){switch(st){case"\t":case"\v":case"\f":case" ":case"\xa0":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void X();case"/":return X(),void(ot="comment");case void 0:return X(),Qt("eof")}if(!Ci.isSpaceSeparator(st))return Qa[Zt]();X()},comment:function(){switch(st){case"*":return X(),void(ot="multiLineComment");case"/":return X(),void(ot="singleLineComment")}throw Yt(X())},multiLineComment:function(){switch(st){case"*":return X(),void(ot="multiLineCommentAsterisk");case void 0:throw Yt(X())}X()},multiLineCommentAsterisk:function(){switch(st){case"*":return void X();case"/":return X(),void(ot="default");case void 0:throw Yt(X())}X(),ot="multiLineComment"},singleLineComment:function(){switch(st){case"\n":case"\r":case"\u2028":case"\u2029":return X(),void(ot="default");case void 0:return X(),Qt("eof")}X()},value:function(){switch(st){case"{":case"[":return Qt("punctuator",X());case"n":return X(),fo("ull"),Qt("null",null);case"t":return X(),fo("rue"),Qt("boolean",!0);case"f":return X(),fo("alse"),Qt("boolean",!1);case"-":case"+":return"-"===X()&&(yr=-1),void(ot="sign");case".":return Je=X(),void(ot="decimalPointLeading");case"0":return Je=X(),void(ot="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Je=X(),void(ot="decimalInteger");case"I":return X(),fo("nfinity"),Qt("numeric",1/0);case"N":return X(),fo("aN"),Qt("numeric",NaN);case'"':case"'":return tc='"'===X(),Je="",void(ot="string")}throw Yt(X())},identifierNameStartEscape:function(){if("u"!==st)throw Yt(X());X();var q=Us();switch(q){case"$":case"_":break;default:if(!Ci.isIdStartChar(q))throw If()}Je+=q,ot="identifierName"},identifierName:function(){switch(st){case"$":case"_":case"\u200c":case"\u200d":return void(Je+=X());case"\\":return X(),void(ot="identifierNameEscape")}if(!Ci.isIdContinueChar(st))return Qt("identifier",Je);Je+=X()},identifierNameEscape:function(){if("u"!==st)throw Yt(X());X();var q=Us();switch(q){case"$":case"_":case"\u200c":case"\u200d":break;default:if(!Ci.isIdContinueChar(q))throw If()}Je+=q,ot="identifierName"},sign:function(){switch(st){case".":return Je=X(),void(ot="decimalPointLeading");case"0":return Je=X(),void(ot="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return Je=X(),void(ot="decimalInteger");case"I":return X(),fo("nfinity"),Qt("numeric",yr*(1/0));case"N":return X(),fo("aN"),Qt("numeric",NaN)}throw Yt(X())},zero:function(){switch(st){case".":return Je+=X(),void(ot="decimalPoint");case"e":case"E":return Je+=X(),void(ot="decimalExponent");case"x":case"X":return Je+=X(),void(ot="hexadecimal")}return Qt("numeric",0*yr)},decimalInteger:function(){switch(st){case".":return Je+=X(),void(ot="decimalPoint");case"e":case"E":return Je+=X(),void(ot="decimalExponent")}if(!Ci.isDigit(st))return Qt("numeric",yr*Number(Je));Je+=X()},decimalPointLeading:function(){if(Ci.isDigit(st))return Je+=X(),void(ot="decimalFraction");throw Yt(X())},decimalPoint:function(){switch(st){case"e":case"E":return Je+=X(),void(ot="decimalExponent")}return Ci.isDigit(st)?(Je+=X(),void(ot="decimalFraction")):Qt("numeric",yr*Number(Je))},decimalFraction:function(){switch(st){case"e":case"E":return Je+=X(),void(ot="decimalExponent")}if(!Ci.isDigit(st))return Qt("numeric",yr*Number(Je));Je+=X()},decimalExponent:function(){switch(st){case"+":case"-":return Je+=X(),void(ot="decimalExponentSign")}if(Ci.isDigit(st))return Je+=X(),void(ot="decimalExponentInteger");throw Yt(X())},decimalExponentSign:function(){if(Ci.isDigit(st))return Je+=X(),void(ot="decimalExponentInteger");throw Yt(X())},decimalExponentInteger:function(){if(!Ci.isDigit(st))return Qt("numeric",yr*Number(Je));Je+=X()},hexadecimal:function(){if(Ci.isHexDigit(st))return Je+=X(),void(ot="hexadecimalInteger");throw Yt(X())},hexadecimalInteger:function(){if(!Ci.isHexDigit(st))return Qt("numeric",yr*Number(Je));Je+=X()},string:function(){switch(st){case"\\":return X(),void(Je+=function Nu(){switch(ar()){case"b":return X(),"\b";case"f":return X(),"\f";case"n":return X(),"\n";case"r":return X(),"\r";case"t":return X(),"\t";case"v":return X(),"\v";case"0":if(X(),Ci.isDigit(ar()))throw Yt(X());return"\0";case"x":return X(),function wa(){var P="",q=ar();if(!Ci.isHexDigit(q)||(P+=X(),q=ar(),!Ci.isHexDigit(q)))throw Yt(X());return P+=X(),String.fromCodePoint(parseInt(P,16))}();case"u":return X(),Us();case"\n":case"\u2028":case"\u2029":return X(),"";case"\r":return X(),"\n"===ar()&&X(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw Yt(X())}return X()}());case'"':return tc?(X(),Qt("string",Je)):void(Je+=X());case"'":return tc?void(Je+=X()):(X(),Qt("string",Je));case"\n":case"\r":throw Yt(X());case"\u2028":case"\u2029":!function Of(P){console.warn("JSON5: '"+zt(P)+"' in strings is not valid ECMAScript; consider escaping")}(st);break;case void 0:throw Yt(X())}Je+=X()},start:function(){switch(st){case"{":case"[":return Qt("punctuator",X())}ot="value"},beforePropertyName:function(){switch(st){case"$":case"_":return Je=X(),void(ot="identifierName");case"\\":return X(),void(ot="identifierNameStartEscape");case"}":return Qt("punctuator",X());case'"':case"'":return tc='"'===X(),void(ot="string")}if(Ci.isIdStartChar(st))return Je+=X(),void(ot="identifierName");throw Yt(X())},afterPropertyName:function(){if(":"===st)return Qt("punctuator",X());throw Yt(X())},beforePropertyValue:function(){ot="value"},afterPropertyValue:function(){switch(st){case",":case"}":return Qt("punctuator",X())}throw Yt(X())},beforeArrayValue:function(){if("]"===st)return Qt("punctuator",X());ot="value"},afterArrayValue:function(){switch(st){case",":case"]":return Qt("punctuator",X())}throw Yt(X())},end:function(){throw Yt(X())}};function Qt(P,q){return{type:P,value:q,line:We,column:vr}}function fo(P){for(var q=0,ce=P;q<ce.length;q+=1){var ae=ce[q];if(ar()!==ae)throw Yt(X());X()}}function Us(){for(var P="",q=4;q-- >0;){var ce=ar();if(!Ci.isHexDigit(ce))throw Yt(X());P+=X()}return String.fromCodePoint(parseInt(P,16))}var Pg={start:function(){if("eof"===Zi.type)throw jn();ic()},beforePropertyName:function(){switch(Zi.type){case"identifier":case"string":return Hs=Zi.value,void(Zt="afterPropertyName");case"punctuator":return void cd();case"eof":throw jn()}},afterPropertyName:function(){if("eof"===Zi.type)throw jn();Zt="beforePropertyValue"},beforePropertyValue:function(){if("eof"===Zi.type)throw jn();ic()},beforeArrayValue:function(){if("eof"===Zi.type)throw jn();"punctuator"!==Zi.type||"]"!==Zi.value?ic():cd()},afterPropertyValue:function(){if("eof"===Zi.type)throw jn();switch(Zi.value){case",":return void(Zt="beforePropertyName");case"}":cd()}},afterArrayValue:function(){if("eof"===Zi.type)throw jn();switch(Zi.value){case",":return void(Zt="beforeArrayValue");case"]":cd()}},end:function(){}};function ic(){var P;switch(Zi.type){case"punctuator":switch(Zi.value){case"{":P={};break;case"[":P=[]}break;case"null":case"boolean":case"numeric":case"string":P=Zi.value}if(void 0===Fi)Fi=P;else{var q=Wn[Wn.length-1];Array.isArray(q)?q.push(P):Object.defineProperty(q,Hs,{value:P,writable:!0,enumerable:!0,configurable:!0})}if(null!==P&&"object"==typeof P)Wn.push(P),Zt=Array.isArray(P)?"beforeArrayValue":"beforePropertyName";else{var ce=Wn[Wn.length-1];Zt=null==ce?"end":Array.isArray(ce)?"afterArrayValue":"afterPropertyValue"}}function cd(){Wn.pop();var P=Wn[Wn.length-1];Zt=null==P?"end":Array.isArray(P)?"afterArrayValue":"afterPropertyValue"}function Yt(P){return nc(void 0===P?"JSON5: invalid end of input at "+We+":"+vr:"JSON5: invalid character '"+zt(P)+"' at "+We+":"+vr)}function jn(){return nc("JSON5: invalid end of input at "+We+":"+vr)}function If(){return nc("JSON5: invalid identifier character at "+We+":"+(vr-=5))}function zt(P){var q={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(q[P])return q[P];if(P<" "){var ce=P.charCodeAt(0).toString(16);return"\\x"+("00"+ce).substring(ce.length)}return P}function nc(P){var q=new SyntaxError(P);return q.lineNumber=We,q.columnNumber=vr,q}return{parse:function(q,ce){Tt=String(q),Zt="start",Wn=[],va=0,We=1,vr=0,Zi=void 0,Hs=void 0,Fi=void 0;do{Zi=rs(),Pg[Zt]()}while("eof"!==Zi.type);return"function"==typeof ce?ya({"":Fi},"",ce):Fi},stringify:function(q,ce,ae){var wt,$n,xa,Ge=[],ue="",Ni="";if(null!=ce&&"object"==typeof ce&&!Array.isArray(ce)&&(ae=ce.space,xa=ce.quote,ce=ce.replacer),"function"==typeof ce)$n=ce;else if(Array.isArray(ce)){wt=[];for(var el=0,$r=ce;el<$r.length;el+=1){var os=$r[el],lr=void 0;"string"==typeof os?lr=os:("number"==typeof os||os instanceof String||os instanceof Number)&&(lr=String(os)),void 0!==lr&&wt.indexOf(lr)<0&&wt.push(lr)}}return ae instanceof Number?ae=Number(ae):ae instanceof String&&(ae=String(ae)),"number"==typeof ae?ae>0&&(ae=Math.min(10,Math.floor(ae)),Ni="          ".substr(0,ae)):"string"==typeof ae&&(Ni=ae.substr(0,10)),rc("",{"":q});function rc(qt,Qi){var rt=Qi[qt];switch(null!=rt&&("function"==typeof rt.toJSON5?rt=rt.toJSON5(qt):"function"==typeof rt.toJSON&&(rt=rt.toJSON(qt))),$n&&(rt=$n.call(Qi,qt,rt)),rt instanceof Number?rt=Number(rt):rt instanceof String?rt=String(rt):rt instanceof Boolean&&(rt=rt.valueOf()),rt){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof rt?Lu(rt):"number"==typeof rt?String(rt):"object"==typeof rt?Array.isArray(rt)?function dd(qt){if(Ge.indexOf(qt)>=0)throw TypeError("Converting circular structure to JSON5");Ge.push(qt);var bn,Qi=ue;ue+=Ni;for(var rt=[],cn=0;cn<qt.length;cn++){var mo=rc(String(cn),qt);rt.push(void 0!==mo?mo:"null")}if(0===rt.length)bn="[]";else if(""===Ni)bn="["+rt.join(",")+"]";else{var ss=rt.join(",\n"+ue);bn="[\n"+ue+ss+",\n"+Qi+"]"}return Ge.pop(),ue=Qi,bn}(rt):function Lg(qt){if(Ge.indexOf(qt)>=0)throw TypeError("Converting circular structure to JSON5");Ge.push(qt);var Ca,oc,Qi=ue;ue+=Ni;for(var cn=[],mo=0,bn=wt||Object.keys(qt);mo<bn.length;mo+=1){var Ws=bn[mo],vn=rc(Ws,qt);if(void 0!==vn){var ss=Pf(Ws)+":";""!==Ni&&(ss+=" "),cn.push(ss+=vn)}}return 0===cn.length?Ca="{}":""===Ni?Ca="{"+(oc=cn.join(","))+"}":(oc=cn.join(",\n"+ue),Ca="{\n"+ue+oc+",\n"+Qi+"}"),Ge.pop(),ue=Qi,Ca}(rt):void 0}function Lu(qt){for(var Qi={"'":.1,'"':.2},rt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},cn="",mo=0;mo<qt.length;mo++){var bn=qt[mo];switch(bn){case"'":case'"':Qi[bn]++,cn+=bn;continue;case"\0":if(Ci.isDigit(qt[mo+1])){cn+="\\x00";continue}}if(rt[bn])cn+=rt[bn];else if(bn<" "){var Ws=bn.charCodeAt(0).toString(16);cn+="\\x"+("00"+Ws).substring(Ws.length)}else cn+=bn}var vn=xa||Object.keys(Qi).reduce(function(ss,Ca){return Qi[ss]<Qi[Ca]?ss:Ca});return vn+(cn=cn.replace(new RegExp(vn,"g"),rt[vn]))+vn}function Pf(qt){if(0===qt.length)return Lu(qt);var Qi=String.fromCodePoint(qt.codePointAt(0));if(!Ci.isIdStartChar(Qi))return Lu(qt);for(var rt=Qi.length;rt<qt.length;rt++)if(!Ci.isIdContinueChar(String.fromCodePoint(qt.codePointAt(rt))))return Lu(qt);return qt}}}}()},990:function(es,Oo,gn){var Un;es=gn.nmd(es),function(){var O,Pi="Expected a function",Ru="__lodash_hash_undefined__",Pu="__lodash_placeholder__",is=1/0,Ro=9007199254740991,ns=4294967295,Tf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ba="[object Arguments]",ld="[object Array]",Xa="[object Boolean]",ec="[object Date]",Za="[object Error]",Ci="[object Function]",Tt="[object GeneratorFunction]",Zt="[object Map]",Wn="[object Number]",We="[object Object]",vr="[object Promise]",Hs="[object RegExp]",Fi="[object Set]",zs="[object String]",ya="[object Symbol]",Je="[object WeakMap]",yr="[object ArrayBuffer]",st="[object DataView]",rs="[object Float32Array]",ar="[object Float64Array]",X="[object Int8Array]",Qa="[object Int16Array]",Qt="[object Int32Array]",fo="[object Uint8Array]",Nu="[object Uint8ClampedArray]",wa="[object Uint16Array]",Us="[object Uint32Array]",Pg=/\b__p \+= '';/g,ic=/\b(__p \+=) '' \+/g,cd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yt=/&(?:amp|lt|gt|quot|#39);/g,jn=/[&<>"']/g,If=RegExp(Yt.source),Of=RegExp(jn.source),zt=/<%-([\s\S]+?)%>/g,nc=/<%([\s\S]+?)%>/g,Rf=/<%=([\s\S]+?)%>/g,Fg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ng=/^\w*$/,de=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/[\\^$.*+?()[\]{}|]/g,q=RegExp(P.source),ce=/^\s+/,ae=/\s/,Ge=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,wt=/,? & /,$n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ni=/[()=,{}\[\]\/\s]/,xa=/\\(\\)?/g,el=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$r=/\w*$/,os=/^[-+]0x[0-9a-f]+$/i,lr=/^0b[01]+$/i,rc=/^\[object .+?Constructor\]$/,Lu=/^0o[0-7]+$/i,Lg=/^(?:0|[1-9]\d*)$/,Pf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dd=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Qi="\\ud800-\\udfff",bn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ws="\\u2700-\\u27bf",vn="a-z\\xdf-\\xf6\\xf8-\\xff",Qy="A-Z\\xc0-\\xd6\\xd8-\\xde",e0="\\ufe0e\\ufe0f",t0="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Kk="["+Qi+"]",n0="["+t0+"]",Ff="["+bn+"]",r0="\\d+",Jk="["+Ws+"]",Yk="["+vn+"]",Nf="[^"+Qi+t0+r0+Ws+vn+Qy+"]",Lf="\\ud83c[\\udffb-\\udfff]",Hg="[^"+Qi+"]",Bf="(?:\\ud83c[\\udde6-\\uddff]){2}",zg="[\\ud800-\\udbff][\\udc00-\\udfff]",sc="["+Qy+"]",Wg="(?:"+Yk+"|"+Nf+")",s0="(?:"+sc+"|"+Nf+")",Gn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",a0="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",l0="(?:"+Ff+"|"+Lf+")?",c0="["+e0+"]?",u0=c0+l0+"(?:\\u200d(?:"+[Hg,Bf,zg].join("|")+")"+c0+l0+")*",Da="(?:"+[Jk,Bf,zg].join("|")+")"+u0,Qk="(?:"+[Hg+Ff+"?",Ff,Bf,zg,Kk].join("|")+")",Mn=RegExp("['\u2019]","g"),ud=RegExp(Ff,"g"),Gr=RegExp(Lf+"(?="+Lf+")|"+Qk+u0,"g"),AF=RegExp([sc+"?"+Yk+"+"+Gn+"(?="+[n0,sc,"$"].join("|")+")",s0+"+"+a0+"(?="+[n0,sc+Wg,"$"].join("|")+")",sc+"?"+Wg+"+"+Gn,sc+"+"+a0,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r0,Da].join("|"),"g"),eE=RegExp("[\\u200d"+Qi+bn+e0+"]"),h0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],f0=-1,ei={};ei[rs]=ei[ar]=ei[X]=ei[Qa]=ei[Qt]=ei[fo]=ei[Nu]=ei[wa]=ei[Us]=!0,ei[ba]=ei[ld]=ei[yr]=ei[Xa]=ei[st]=ei[ec]=ei[Za]=ei[Ci]=ei[Zt]=ei[Wn]=ei[We]=ei[Hs]=ei[Fi]=ei[zs]=ei[Je]=!1;var _i={};_i[ba]=_i[ld]=_i[yr]=_i[st]=_i[Xa]=_i[ec]=_i[rs]=_i[ar]=_i[X]=_i[Qa]=_i[Qt]=_i[Zt]=_i[Wn]=_i[We]=_i[Hs]=_i[Fi]=_i[zs]=_i[ya]=_i[fo]=_i[Nu]=_i[wa]=_i[Us]=!0,_i[Za]=_i[Ci]=_i[Je]=!1;var iE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nE=parseFloat,rE=parseInt,$g="object"==typeof global&&global&&global.Object===Object&&global,oE="object"==typeof self&&self&&self.Object===Object&&self,qn=$g||oE||Function("return this")(),dn=Oo&&!Oo.nodeType&&Oo,Wi=dn&&es&&!es.nodeType&&es,wr=Wi&&Wi.exports===dn,Re=wr&&$g.process,xr=function(){try{return Wi&&Wi.require&&Wi.require("util").types||Re&&Re.binding&&Re.binding("util")}catch{}}(),Vf=xr&&xr.isArrayBuffer,An=xr&&xr.isDate,hd=xr&&xr.isMap,g0=xr&&xr.isRegExp,Xt=xr&&xr.isSet,Bu=xr&&xr.isTypedArray;function Ut(F,K,B){switch(B.length){case 0:return F.call(K);case 1:return F.call(K,B[0]);case 2:return F.call(K,B[0],B[1]);case 3:return F.call(K,B[0],B[1],B[2])}return F.apply(K,B)}function Gg(F,K,B,Ce){for(var gt=-1,Be=null==F?0:F.length;++gt<Be;){var Tn=F[gt];K(Ce,Tn,B(Tn),F)}return Ce}function as(F,K){for(var B=-1,Ce=null==F?0:F.length;++B<Ce&&!1!==K(F[B],B,F););return F}function sE(F,K){for(var B=null==F?0:F.length;B--&&!1!==K(F[B],B,F););return F}function Ct(F,K){for(var B=-1,Ce=null==F?0:F.length;++B<Ce;)if(!K(F[B],B,F))return!1;return!0}function Le(F,K){for(var B=-1,Ce=null==F?0:F.length,gt=0,Be=[];++B<Ce;){var Tn=F[B];K(Tn,B,F)&&(Be[gt++]=Tn)}return Be}function ac(F,K){return!(null==F||!F.length)&&cc(F,K,0)>-1}function Vu(F,K,B){for(var Ce=-1,gt=null==F?0:F.length;++Ce<gt;)if(B(K,F[Ce]))return!0;return!1}function Li(F,K){for(var B=-1,Ce=null==F?0:F.length,gt=Array(Ce);++B<Ce;)gt[B]=K(F[B],B,F);return gt}function ka(F,K){for(var B=-1,Ce=K.length,gt=F.length;++B<Ce;)F[gt+B]=K[B];return F}function z(F,K,B,Ce){var gt=-1,Be=null==F?0:F.length;for(Ce&&Be&&(B=F[++gt]);++gt<Be;)B=K(B,F[gt],gt,F);return B}function fd(F,K,B,Ce){var gt=null==F?0:F.length;for(Ce&&gt&&(B=F[--gt]);gt--;)B=K(B,F[gt],gt,F);return B}function lc(F,K){for(var B=-1,Ce=null==F?0:F.length;++B<Ce;)if(K(F[B],B,F))return!0;return!1}var qg=Jg("length");function js(F,K,B){var Ce;return B(F,function(gt,Be,Tn){if(K(gt,Be,Tn))return Ce=Be,!1}),Ce}function tl(F,K,B,Ce){for(var gt=F.length,Be=B+(Ce?1:-1);Ce?Be--:++Be<gt;)if(K(F[Be],Be,F))return Be;return-1}function cc(F,K,B){return K==K?function Xe(F,K,B){for(var Ce=B-1,gt=F.length;++Ce<gt;)if(F[Ce]===K)return Ce;return-1}(F,K,B):tl(F,Wt,B)}function at(F,K,B,Ce){for(var gt=B-1,Be=F.length;++gt<Be;)if(Ce(F[gt],K))return gt;return-1}function Wt(F){return F!=F}function aE(F,K){var B=null==F?0:F.length;return B?Hu(F,K)/B:NaN}function Jg(F){return function(K){return null==K?O:K[F]}}function Yg(F){return function(K){return null==F?O:F[K]}}function lE(F,K,B,Ce,gt){return gt(F,function(Be,Tn,bi){B=Ce?(Ce=!1,Be):K(B,Be,Tn,bi)}),B}function Hu(F,K){for(var B,Ce=-1,gt=F.length;++Ce<gt;){var Be=K(F[Ce]);Be!==O&&(B=B===O?Be:B+Be)}return B}function Cr(F,K){for(var B=-1,Ce=Array(F);++B<F;)Ce[B]=K(B);return Ce}function b0(F){return F&&F.slice(0,y0(F)+1).replace(ce,"")}function Po(F){return function(K){return F(K)}}function $s(F,K){return Li(K,function(B){return F[B]})}function Hf(F,K){return F.has(K)}function dE(F,K){for(var B=-1,Ce=F.length;++B<Ce&&cc(K,F[B],0)>-1;);return B}function uE(F,K){for(var B=F.length;B--&&cc(K,F[B],0)>-1;);return B}var hE=Yg({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),OF=Yg({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fE(F){return"\\"+iE[F]}function yn(F){return eE.test(F)}function v0(F){var K=-1,B=Array(F.size);return F.forEach(function(Ce,gt){B[++K]=[gt,Ce]}),B}function mE(F,K){return function(B){return F(K(B))}}function dc(F,K){for(var B=-1,Ce=F.length,gt=0,Be=[];++B<Ce;){var Tn=F[B];(Tn===K||Tn===Pu)&&(F[B]=Pu,Be[gt++]=B)}return Be}function oe(F){var K=-1,B=Array(F.size);return F.forEach(function(Ce){B[++K]=Ce}),B}function md(F){return yn(F)?function Wf(F){for(var K=Gr.lastIndex=0;Gr.test(F);)++K;return K}(F):qg(F)}function Fo(F){return yn(F)?function Xg(F){return F.match(Gr)||[]}(F):function Kg(F){return F.split("")}(F)}function y0(F){for(var K=F.length;K--&&ae.test(F.charAt(K)););return K}var Uf=Yg({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xt=function F(K){var d,B=(K=null==K?qn:xt.defaults(qn.Object(),K,xt.pick(qn,jg))).Array,Ce=K.Date,gt=K.Error,Be=K.Function,Tn=K.Math,bi=K.Object,V=K.RegExp,Zg=K.String,qr=K.TypeError,zu=B.prototype,pd=bi.prototype,gd=K["__core-js_shared__"],e_=Be.prototype.toString,si=pd.hasOwnProperty,NF=0,gE=(d=/[^.]+$/.exec(gd&&gd.keys&&gd.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",t_=pd.toString,Uu=e_.call(bi),i_=qn._,jf=V("^"+e_.call(si).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$f=wr?K.Buffer:O,il=K.Symbol,Gf=K.Uint8Array,n_=$f?$f.allocUnsafe:O,Ea=mE(bi.getPrototypeOf,bi),x0=bi.create,Sa=pd.propertyIsEnumerable,qf=zu.splice,U=il?il.isConcatSpreadable:O,_d=il?il.iterator:O,te=il?il.toStringTag:O,uc=function(){try{var d=gc(bi,"defineProperty");return d({},"",{}),d}catch{}}(),r_=K.clearTimeout!==qn.clearTimeout&&K.clearTimeout,Wu=Ce&&Ce.now!==qn.Date.now&&Ce.now,_E=K.setTimeout!==qn.setTimeout&&K.setTimeout,Kf=Tn.ceil,Jf=Tn.floor,ls=bi.getOwnPropertySymbols,Yf=$f?$f.isBuffer:O,No=K.isFinite,Gs=zu.join,jt=mE(bi.keys,bi),un=Tn.max,In=Tn.min,C0=Ce.now,D0=K.parseInt,bd=Tn.random,k0=zu.reverse,Xf=gc(K,"DataView"),ju=gc(K,"Map"),Zf=gc(K,"Promise"),vd=gc(K,"Set"),$u=gc(K,"WeakMap"),Dr=gc(bi,"create"),Qf=$u&&new $u,hc={},bE=vc(Xf),vE=vc(ju),yE=vc(Zf),wE=vc(vd),E0=vc($u),em=il?il.prototype:O,Gu=em?em.valueOf:O,S0=em?em.toString:O;function x(d){if(nn(d)&&!Ke(d)&&!(d instanceof It)){if(d instanceof Pe)return d;if(si.call(d,"__wrapped__"))return Xr(d)}return new Pe(d)}var yd=function(){function d(){}return function(h){if(!$i(h))return{};if(x0)return x0(h);d.prototype=h;var m=new d;return d.prototype=O,m}}();function tm(){}function Pe(d,h){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=O}function It(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ns,this.__views__=[]}function Di(d){var h=-1,m=null==d?0:d.length;for(this.clear();++h<m;){var _=d[h];this.set(_[0],_[1])}}function Lo(d){var h=-1,m=null==d?0:d.length;for(this.clear();++h<m;){var _=d[h];this.set(_[0],_[1])}}function $t(d){var h=-1,m=null==d?0:d.length;for(this.clear();++h<m;){var _=d[h];this.set(_[0],_[1])}}function en(d){var h=-1,m=null==d?0:d.length;for(this.__data__=new $t;++h<m;)this.add(d[h])}function kr(d){var h=this.__data__=new Lo(d);this.size=h.size}function us(d,h){var m=Ke(d),_=!m&&Cn(d),y=!m&&!_&&Ec(d),E=!m&&!_&&!y&&Sc(d),T=m||_||y||E,R=T?Cr(d.length,Zg):[],N=R.length;for(var Y in d)(h||si.call(d,Y))&&(!T||!("length"==Y||y&&("offset"==Y||"parent"==Y)||E&&("buffer"==Y||"byteLength"==Y||"byteOffset"==Y)||Xs(Y,N)))&&R.push(Y);return R}function kd(d){var h=d.length;return h?d[f_(0,h-1)]:O}function I0(d,h){return Em(Mr(d),mi(h,0,d.length))}function rl(d){return Em(Mr(d))}function Ed(d,h,m){(m!==O&&!_s(d[h],m)||m===O&&!(h in d))&&Bo(d,h,m)}function hs(d,h,m){var _=d[h];(!si.call(d,h)||!_s(_,m)||m===O&&!(h in d))&&Bo(d,h,m)}function tt(d,h){for(var m=d.length;m--;)if(_s(d[m][0],h))return m;return-1}function o_(d,h,m,_){return ms(d,function(y,E,T){h(_,y,m(y),T)}),_}function Sd(d,h){return d&&xn(h,Rn(h),d)}function Bo(d,h,m){"__proto__"==h&&uc?uc(d,h,{configurable:!0,enumerable:!0,value:m,writable:!0}):d[h]=m}function ol(d,h){for(var m=-1,_=h.length,y=B(_),E=null==d;++m<_;)y[m]=E?O:nb(d,h[m]);return y}function mi(d,h,m){return d==d&&(m!==O&&(d=d<=m?d:m),h!==O&&(d=d>=h?d:h)),d}function Jn(d,h,m,_,y,E){var T,R=1&h,N=2&h,Y=4&h;if(m&&(T=y?m(d,_,y,E):m(d)),T!==O)return T;if(!$i(d))return d;var Z=Ke(d);if(Z){if(T=function sh(d){var h=d.length,m=new d.constructor(h);return h&&"string"==typeof d[0]&&si.call(d,"index")&&(m.index=d.index,m.input=d.input),m}(d),!R)return Mr(d,T)}else{var re=Ar(d),be=re==Ci||re==Tt;if(Ec(d))return y_(d,R);if(re==We||re==ba||be&&!y){if(T=N||be?{}:Cm(d),!R)return N?function OE(d,h){return xn(d,PE(d),h)}(d,function qs(d,h){return d&&xn(h,Qr(h),d)}(T,d)):function Aa(d,h){return xn(d,A_(d),h)}(d,Sd(T,d))}else{if(!_i[re])return y?d:{};T=function Dm(d,h,m){var _=d.constructor;switch(h){case yr:return pc(d);case Xa:case ec:return new _(+d);case st:return function Ks(d,h){var m=h?pc(d.buffer):d.buffer;return new d.constructor(m,d.byteOffset,d.byteLength)}(d,m);case rs:case ar:case X:case Qa:case Qt:case fo:case Nu:case wa:case Us:return W0(d,m);case Zt:return new _;case Wn:case zs:return new _(d);case Hs:return function w_(d){var h=new d.constructor(d.source,$r.exec(d));return h.lastIndex=d.lastIndex,h}(d);case Fi:return new _;case ya:return function x_(d){return Gu?bi(Gu.call(d)):{}}(d)}}(d,re,R)}}E||(E=new kr);var Fe=E.get(d);if(Fe)return Fe;E.set(d,T),eb(d)?d.forEach(function(Qe){T.add(Jn(Qe,h,m,Qe,d,E))}):Vm(d)&&d.forEach(function(Qe,Rt){T.set(Rt,Jn(Qe,h,m,Rt,d,E))});var dt=Z?O:(Y?N?vm:nh:N?Qr:Rn)(d);return as(dt||d,function(Qe,Rt){dt&&(Qe=d[Rt=Qe]),hs(T,Rt,Jn(Qe,h,m,Rt,d,E))}),T}function wn(d,h,m){var _=m.length;if(null==d)return!_;for(d=bi(d);_--;){var y=m[_],T=d[y];if(T===O&&!(y in d)||!(0,h[y])(T))return!1}return!0}function im(d,h,m){if("function"!=typeof d)throw new qr(Pi);return Pd(function(){d.apply(O,m)},h)}function fs(d,h,m,_){var y=-1,E=ac,T=!0,R=d.length,N=[],Y=h.length;if(!R)return N;m&&(h=Li(h,Po(m))),_?(E=Vu,T=!1):h.length>=200&&(E=Hf,T=!1,h=new en(h));e:for(;++y<R;){var Z=d[y],re=null==m?Z:m(Z);if(Z=_||0!==Z?Z:0,T&&re==re){for(var be=Y;be--;)if(h[be]===re)continue e;N.push(Z)}else E(h,re,_)||N.push(Z)}return N}x.templateSettings={escape:zt,evaluate:nc,interpolate:Rf,variable:"",imports:{_:x}},(x.prototype=tm.prototype).constructor=x,(Pe.prototype=yd(tm.prototype)).constructor=Pe,(It.prototype=yd(tm.prototype)).constructor=It,Di.prototype.clear=function Kn(){this.__data__=Dr?Dr(null):{},this.size=0},Di.prototype.delete=function nl(d){var h=this.has(d)&&delete this.__data__[d];return this.size-=h?1:0,h},Di.prototype.get=function cr(d){var h=this.__data__;if(Dr){var m=h[d];return m===Ru?O:m}return si.call(h,d)?h[d]:O},Di.prototype.has=function M0(d){var h=this.__data__;return Dr?h[d]!==O:si.call(h,d)},Di.prototype.set=function A0(d,h){var m=this.__data__;return this.size+=this.has(d)?0:1,m[d]=Dr&&h===O?Ru:h,this},Lo.prototype.clear=function xE(){this.__data__=[],this.size=0},Lo.prototype.delete=function CE(d){var h=this.__data__,m=tt(h,d);return!(m<0||(m==h.length-1?h.pop():qf.call(h,m,1),--this.size,0))},Lo.prototype.get=function ji(d){var h=this.__data__,m=tt(h,d);return m<0?O:h[m][1]},Lo.prototype.has=function le(d){return tt(this.__data__,d)>-1},Lo.prototype.set=function je(d,h){var m=this.__data__,_=tt(m,d);return _<0?(++this.size,m.push([d,h])):m[_][1]=h,this},$t.prototype.clear=function cs(){this.size=0,this.__data__={hash:new Di,map:new(ju||Lo),string:new Di}},$t.prototype.delete=function dr(d){var h=xm(this,d).delete(d);return this.size-=h?1:0,h},$t.prototype.get=function ds(d){return xm(this,d).get(d)},$t.prototype.has=function wd(d){return xm(this,d).has(d)},$t.prototype.set=function fi(d,h){var m=xm(this,d),_=m.size;return m.set(d,h),this.size+=m.size==_?0:1,this},en.prototype.add=en.prototype.push=function xd(d){return this.__data__.set(d,Ru),this},en.prototype.has=function lt(d){return this.__data__.has(d)},kr.prototype.clear=function T0(){this.__data__=new Lo,this.size=0},kr.prototype.delete=function Cd(d){var h=this.__data__,m=h.delete(d);return this.size=h.size,m},kr.prototype.get=function Bi(d){return this.__data__.get(d)},kr.prototype.has=function qu(d){return this.__data__.has(d)},kr.prototype.set=function Dd(d,h){var m=this.__data__;if(m instanceof Lo){var _=m.__data__;if(!ju||_.length<199)return _.push([d,h]),this.size=++m.size,this;m=this.__data__=new $t(_)}return m.set(d,h),this.size=m.size,this};var ms=$0(Ma),Vo=$0(O0,!0);function s_(d,h){var m=!0;return ms(d,function(_,y,E){return m=!!h(_,y,E)}),m}function nm(d,h,m){for(var _=-1,y=d.length;++_<y;){var E=d[_],T=h(E);if(null!=T&&(R===O?T==T&&!_o(T):m(T,R)))var R=T,N=E}return N}function rm(d,h){var m=[];return ms(d,function(_,y,E){h(_,y,E)&&m.push(_)}),m}function On(d,h,m,_,y){var E=-1,T=d.length;for(m||(m=Y0),y||(y=[]);++E<T;){var R=d[E];h>0&&m(R)?h>1?On(R,h-1,m,_,y):ka(y,R):_||(y[y.length]=R)}return y}var a_=fm(),om=fm(!0);function Ma(d,h){return d&&a_(d,h,Rn)}function O0(d,h){return d&&om(d,h,Rn)}function l_(d,h){return Le(h,function(m){return Ia(d[m])})}function Md(d,h){for(var m=0,_=(h=bt(h,d)).length;null!=d&&m<_;)d=d[Uo(h[m++])];return m&&m==_?d:O}function kE(d,h,m){var _=h(d);return Ke(d)?_:ka(_,m(d))}function Jr(d){return null==d?d===O?"[object Undefined]":"[object Null]":te&&te in bi(d)?function RE(d){var h=si.call(d,te),m=d[te];try{d[te]=O;var _=!0}catch{}var y=t_.call(d);return _&&(h?d[te]=m:delete d[te]),y}(d):function iw(d){return t_.call(d)}(d)}function R0(d,h){return d>h}function LF(d,h){return null!=d&&si.call(d,h)}function BF(d,h){return null!=d&&h in bi(d)}function P0(d,h,m){for(var _=m?Vu:ac,y=d[0].length,E=d.length,T=E,R=B(E),N=1/0,Y=[];T--;){var Z=d[T];T&&h&&(Z=Li(Z,Po(h))),N=In(Z.length,N),R[T]=!m&&(h||y>=120&&Z.length>=120)?new en(T&&Z):O}Z=d[0];var re=-1,be=R[0];e:for(;++re<y&&Y.length<N;){var Fe=Z[re],Ze=h?h(Fe):Fe;if(Fe=m||0!==Fe?Fe:0,!(be?Hf(be,Ze):_(Y,Ze,m))){for(T=E;--T;){var dt=R[T];if(!(dt?Hf(dt,Ze):_(d[T],Ze,m)))continue e}be&&be.push(Ze),Y.push(Fe)}}return Y}function Ad(d,h,m){var _=null==(d=ah(d,h=bt(h,d)))?d:d[Uo(Ir(h))];return null==_?O:Ut(_,d,m)}function c_(d){return nn(d)&&Jr(d)==ba}function sm(d,h,m,_,y){return d===h||(null==d||null==h||!nn(d)&&!nn(h)?d!=d&&h!=h:function WF(d,h,m,_,y,E){var T=Ke(d),R=Ke(h),N=T?ld:Ar(d),Y=R?ld:Ar(h),Z=(N=N==ba?We:N)==We,re=(Y=Y==ba?We:Y)==We,be=N==Y;if(be&&Ec(d)){if(!Ec(h))return!1;T=!0,Z=!1}if(be&&!Z)return E||(E=new kr),T||Sc(d)?K0(d,h,m,_,y,E):function _m(d,h,m,_,y,E,T){switch(m){case st:if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case yr:return!(d.byteLength!=h.byteLength||!E(new Gf(d),new Gf(h)));case Xa:case ec:case Wn:return _s(+d,+h);case Za:return d.name==h.name&&d.message==h.message;case Hs:case zs:return d==h+"";case Zt:var R=v0;case Fi:if(R||(R=oe),d.size!=h.size&&!(1&_))return!1;var Y=T.get(d);if(Y)return Y==h;_|=2,T.set(d,h);var Z=K0(R(d),R(h),_,y,E,T);return T.delete(d),Z;case ya:if(Gu)return Gu.call(d)==Gu.call(h)}return!1}(d,h,N,m,_,y,E);if(!(1&m)){var Fe=Z&&si.call(d,"__wrapped__"),Ze=re&&si.call(h,"__wrapped__");if(Fe||Ze){var dt=Fe?d.value():d,Qe=Ze?h.value():h;return E||(E=new kr),y(dt,Qe,m,_,E)}}return!!be&&(E||(E=new kr),function bm(d,h,m,_,y,E){var T=1&m,R=nh(d),N=R.length;if(N!=nh(h).length&&!T)return!1;for(var re=N;re--;){var be=R[re];if(!(T?be in h:si.call(h,be)))return!1}var Fe=E.get(d),Ze=E.get(h);if(Fe&&Ze)return Fe==h&&Ze==d;var dt=!0;E.set(d,h),E.set(h,d);for(var Qe=T;++re<N;){var Rt=d[be=R[re]],St=h[be];if(_)var vo=T?_(St,Rt,be,h,d,E):_(Rt,St,be,d,h,E);if(!(vo===O?Rt===St||y(Rt,St,m,_,E):vo)){dt=!1;break}Qe||(Qe="constructor"==be)}if(dt&&!Qe){var Qn=d.constructor,Pr=h.constructor;Qn!=Pr&&"constructor"in d&&"constructor"in h&&!("function"==typeof Qn&&Qn instanceof Qn&&"function"==typeof Pr&&Pr instanceof Pr)&&(dt=!1)}return E.delete(d),E.delete(h),dt}(d,h,m,_,y,E))}(d,h,m,_,sm,y))}function d_(d,h,m,_){var y=m.length,E=y,T=!_;if(null==d)return!E;for(d=bi(d);y--;){var R=m[y];if(T&&R[2]?R[1]!==d[R[0]]:!(R[0]in d))return!1}for(;++y<E;){var N=(R=m[y])[0],Y=d[N],Z=R[1];if(T&&R[2]){if(Y===O&&!(N in d))return!1}else{var re=new kr;if(_)var be=_(Y,Z,N,d,h,re);if(!(be===O?sm(Z,Y,3,_,re):be))return!1}}return!0}function tn(d){return!(!$i(d)||function I_(d){return!!gE&&gE in d}(d))&&(Ia(d)?jf:rc).test(vc(d))}function u_(d){return"function"==typeof d?d:null==d?Rr:"object"==typeof d?Ke(d)?h_(d[0],d[1]):ps(d):sx(d)}function am(d){if(!ul(d))return jt(d);var h=[];for(var m in bi(d))si.call(d,m)&&"constructor"!=m&&h.push(m);return h}function Ku(d,h){return d<h}function N0(d,h){var m=-1,_=Or(d)?B(d.length):[];return ms(d,function(y,E,T){_[++m]=h(y,E,T)}),_}function ps(d){var h=rh(d);return 1==h.length&&h[0][2]?Z0(h[0][0],h[0][1]):function(m){return m===d||d_(m,d,h)}}function h_(d,h){return zo(d)&&km(h)?Z0(Uo(d),h):function(m){var _=nb(m,d);return _===O&&_===h?bh(m,d):sm(h,_,3)}}function Ju(d,h,m,_,y){d!==h&&a_(h,function(E,T){if(y||(y=new kr),$i(E))!function vi(d,h,m,_,y,E,T){var R=O_(d,m),N=O_(h,m),Y=T.get(N);if(Y)Ed(d,m,Y);else{var Z=E?E(R,N,m+"",d,h,T):O,re=Z===O;if(re){var be=Ke(N),Fe=!be&&Ec(N),Ze=!be&&!Fe&&Sc(N);Z=N,be||Fe||Ze?Ke(R)?Z=R:li(R)?Z=Mr(R):Fe?(re=!1,Z=y_(N,!0)):Ze?(re=!1,Z=W0(N,!0)):Z=[]:gl(N)||Cn(N)?(Z=R,Cn(R)?Z=Ow(R):(!$i(R)||Ia(R))&&(Z=Cm(N))):re=!1}re&&(T.set(N,Z),y(Z,N,_,E,T),T.delete(N)),Ed(d,m,Z)}}(d,h,T,m,Ju,_,y);else{var R=_?_(O_(d,T),E,T+"",d,h,y):O;R===O&&(R=E),Ed(d,T,R)}},Qr)}function lm(d,h){var m=d.length;if(m)return Xs(h+=h<0?m:0,m)?d[h]:O}function Td(d,h,m){h=h.length?Li(h,function(E){return Ke(E)?function(T){return Md(T,1===E.length?E[0]:E)}:E}):[Rr];var _=-1;return h=Li(h,Po(He())),function cE(F,K){var B=F.length;for(F.sort(K);B--;)F[B]=F[B].value;return F}(N0(d,function(E,T,R){return{criteria:Li(h,function(Y){return Y(E)}),index:++_,value:E}}),function(E,T){return function j0(d,h,m){for(var _=-1,y=d.criteria,E=h.criteria,T=y.length,R=m.length;++_<T;){var N=IE(y[_],E[_]);if(N)return _>=R?N:N*("desc"==m[_]?-1:1)}return d.index-h.index}(E,T,m)})}function L0(d,h,m){for(var _=-1,y=h.length,E={};++_<y;){var T=h[_],R=Md(d,T);m(R,T)&&Id(E,bt(T,d),R)}return E}function sl(d,h,m,_){var y=_?at:cc,E=-1,T=h.length,R=d;for(d===h&&(h=Mr(h)),m&&(R=Li(d,Po(m)));++E<T;)for(var N=0,Y=h[E],Z=m?m(Y):Y;(N=y(R,Z,N,_))>-1;)R!==d&&qf.call(R,N,1),qf.call(d,N,1);return d}function Yr(d,h){for(var m=d?h.length:0,_=m-1;m--;){var y=h[m];if(m==_||y!==E){var E=y;Xs(y)?qf.call(d,y,1):um(d,y)}}return d}function f_(d,h){return d+Jf(bd()*(h-d+1))}function p_(d,h){var m="";if(!d||h<1||h>Ro)return m;do{h%2&&(m+=d),(h=Jf(h/2))&&(d+=d)}while(h);return m}function it(d,h){return hl(nw(d,h,Rr),d+"")}function B0(d){return kd(vl(d))}function AE(d,h){var m=vl(d);return Em(m,mi(h,0,m.length))}function Id(d,h,m,_){if(!$i(d))return d;for(var y=-1,E=(h=bt(h,d)).length,T=E-1,R=d;null!=R&&++y<E;){var N=Uo(h[y]),Y=m;if("__proto__"===N||"constructor"===N||"prototype"===N)return d;if(y!=T){var Z=R[N];(Y=_?_(Z,N,R):O)===O&&(Y=$i(Z)?Z:Xs(h[y+1])?[]:{})}hs(R,N,Y),R=R[N]}return d}var g_=Qf?function(d,h){return Qf.set(d,h),d}:Rr,V0=uc?function(d,h){return uc(d,"toString",{configurable:!0,enumerable:!1,value:Kd(h),writable:!0})}:Rr;function cm(d){return Em(vl(d))}function Sr(d,h,m){var _=-1,y=d.length;h<0&&(h=-h>y?0:y+h),(m=m>y?y:m)<0&&(m+=y),y=h>m?0:m-h>>>0,h>>>=0;for(var E=B(y);++_<y;)E[_]=d[_+h];return E}function __(d,h){var m;return ms(d,function(_,y,E){return!(m=h(_,y,E))}),!!m}function qe(d,h,m){var _=0,y=null==d?_:d.length;if("number"==typeof h&&h==h&&y<=2147483647){for(;_<y;){var E=_+y>>>1,T=d[E];null!==T&&!_o(T)&&(m?T<=h:T<h)?_=E+1:y=E}return y}return dm(d,h,Rr,m)}function dm(d,h,m,_){var y=0,E=null==d?0:d.length;if(0===E)return 0;for(var T=(h=m(h))!=h,R=null===h,N=_o(h),Y=h===O;y<E;){var Z=Jf((y+E)/2),re=m(d[Z]),be=re!==O,Fe=null===re,Ze=re==re,dt=_o(re);if(T)var Qe=_||Ze;else Qe=Y?Ze&&(_||be):R?Ze&&be&&(_||!Fe):N?Ze&&be&&!Fe&&(_||!dt):!Fe&&!dt&&(_?re<=h:re<h);Qe?y=Z+1:E=Z}return In(E,4294967294)}function TE(d,h){for(var m=-1,_=d.length,y=0,E=[];++m<_;){var T=d[m],R=h?h(T):T;if(!m||!_s(R,N)){var N=R;E[y++]=0===T?0:T}}return E}function H0(d){return"number"==typeof d?d:_o(d)?NaN:+d}function po(d){if("string"==typeof d)return d;if(Ke(d))return Li(d,po)+"";if(_o(d))return S0?S0.call(d):"";var h=d+"";return"0"==h&&1/d==-is?"-0":h}function al(d,h,m){var _=-1,y=ac,E=d.length,T=!0,R=[],N=R;if(m)T=!1,y=Vu;else if(E>=200){var Y=h?null:gm(d);if(Y)return oe(Y);T=!1,y=Hf,N=new en}else N=h?[]:R;e:for(;++_<E;){var Z=d[_],re=h?h(Z):Z;if(Z=m||0!==Z?Z:0,T&&re==re){for(var be=N.length;be--;)if(N[be]===re)continue e;h&&N.push(re),R.push(Z)}else y(N,re,m)||(N!==R&&N.push(re),R.push(Z))}return R}function um(d,h){return null==(d=ah(d,h=bt(h,d)))||delete d[Uo(Ir(h))]}function mc(d,h,m,_){return Id(d,h,m(Md(d,h)),_)}function hm(d,h,m,_){for(var y=d.length,E=_?y:-1;(_?E--:++E<y)&&h(d[E],E,d););return m?Sr(d,_?0:E,_?E+1:y):Sr(d,_?E+1:0,_?y:E)}function z0(d,h){var m=d;return m instanceof It&&(m=m.value()),z(h,function(_,y){return y.func.apply(y.thisArg,ka([_],y.args))},m)}function b_(d,h,m){var _=d.length;if(_<2)return _?al(d[0]):[];for(var y=-1,E=B(_);++y<_;)for(var T=d[y],R=-1;++R<_;)R!=y&&(E[y]=fs(E[y]||T,d[R],h,m));return al(On(E,1),h,m)}function U0(d,h,m){for(var _=-1,y=d.length,E=h.length,T={};++_<y;)m(T,d[_],_<E?h[_]:O);return T}function v_(d){return li(d)?d:[]}function G(d){return"function"==typeof d?d:Rr}function bt(d,h){return Ke(d)?d:zo(d,h)?[d]:Kt(Jt(d))}var Ve=it;function Se(d,h,m){var _=d.length;return m=m===O?_:m,!h&&m>=_?d:Sr(d,h,m)}var ti=r_||function(d){return qn.clearTimeout(d)};function y_(d,h){if(h)return d.slice();var m=d.length,_=n_?n_(m):new d.constructor(m);return d.copy(_),_}function pc(d){var h=new d.constructor(d.byteLength);return new Gf(h).set(new Gf(d)),h}function W0(d,h){var m=h?pc(d.buffer):d.buffer;return new d.constructor(m,d.byteOffset,d.length)}function IE(d,h){if(d!==h){var m=d!==O,_=null===d,y=d==d,E=_o(d),T=h!==O,R=null===h,N=h==h,Y=_o(h);if(!R&&!Y&&!E&&d>h||E&&T&&N&&!R&&!Y||_&&T&&N||!m&&N||!y)return 1;if(!_&&!E&&!Y&&d<h||Y&&m&&y&&!_&&!E||R&&m&&y||!T&&y||!N)return-1}return 0}function ur(d,h,m,_){for(var y=-1,E=d.length,T=m.length,R=-1,N=h.length,Y=un(E-T,0),Z=B(N+Y),re=!_;++R<N;)Z[R]=h[R];for(;++y<T;)(re||y<E)&&(Z[m[y]]=d[y]);for(;Y--;)Z[R++]=d[y++];return Z}function Js(d,h,m,_){for(var y=-1,E=d.length,T=-1,R=m.length,N=-1,Y=h.length,Z=un(E-R,0),re=B(Z+Y),be=!_;++y<Z;)re[y]=d[y];for(var Fe=y;++N<Y;)re[Fe+N]=h[N];for(;++T<R;)(be||y<E)&&(re[Fe+m[T]]=d[y++]);return re}function Mr(d,h){var m=-1,_=d.length;for(h||(h=B(_));++m<_;)h[m]=d[m];return h}function xn(d,h,m,_){var y=!m;m||(m={});for(var E=-1,T=h.length;++E<T;){var R=h[E],N=_?_(m[R],d[R],R,m,d):O;N===O&&(N=d[R]),y?Bo(m,R,N):hs(m,R,N)}return m}function Xu(d,h){return function(m,_){var y=Ke(m)?Gg:o_,E=h?h():{};return y(m,d,He(_,2),E)}}function Od(d){return it(function(h,m){var _=-1,y=m.length,E=y>1?m[y-1]:O,T=y>2?m[2]:O;for(E=d.length>3&&"function"==typeof E?(y--,E):O,T&&Tr(m[0],m[1],T)&&(E=y<3?O:E,y=1),h=bi(h);++_<y;){var R=m[_];R&&d(h,R,_,E)}return h})}function $0(d,h){return function(m,_){if(null==m)return m;if(!Or(m))return d(m,_);for(var y=m.length,E=h?y:-1,T=bi(m);(h?E--:++E<y)&&!1!==_(T[E],E,T););return m}}function fm(d){return function(h,m,_){for(var y=-1,E=bi(h),T=_(h),R=T.length;R--;){var N=T[d?R:++y];if(!1===m(E[N],N,E))break}return h}}function D_(d){return function(h){var m=yn(h=Jt(h))?Fo(h):O,_=m?m[0]:h.charAt(0),y=m?Se(m,1).join(""):h.slice(1);return _[d]()+y}}function ll(d){return function(h){return z(Tc(lb(h).replace(Mn,"")),d,"")}}function Zu(d){return function(){var h=arguments;switch(h.length){case 0:return new d;case 1:return new d(h[0]);case 2:return new d(h[0],h[1]);case 3:return new d(h[0],h[1],h[2]);case 4:return new d(h[0],h[1],h[2],h[3]);case 5:return new d(h[0],h[1],h[2],h[3],h[4]);case 6:return new d(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new d(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var m=yd(d.prototype),_=d.apply(m,h);return $i(_)?_:m}}function mm(d){return function(h,m,_){var y=bi(h);if(!Or(h)){var E=He(m,3);h=Rn(h),m=function(R){return E(y[R],R,y)}}var T=d(h,m,_);return T>-1?y[E?h[T]:T]:O}}function k_(d){return Ho(function(h){var m=h.length,_=m,y=Pe.prototype.thru;for(d&&h.reverse();_--;){var E=h[_];if("function"!=typeof E)throw new qr(Pi);if(y&&!T&&"wrapper"==wm(E))var T=new Pe([],!0)}for(_=T?_:m;++_<m;){var R=wm(E=h[_]),N="wrapper"==R?ym(E):O;T=N&&Rd(N[0])&&424==N[1]&&!N[4].length&&1==N[9]?T[wm(N[0])].apply(T,N[3]):1==E.length&&Rd(E)?T[R]():T.thru(E)}return function(){var Y=arguments,Z=Y[0];if(T&&1==Y.length&&Ke(Z))return T.plant(Z).value();for(var re=0,be=m?h[re].apply(this,Y):Z;++re<m;)be=h[re].call(this,be);return be}})}function Qu(d,h,m,_,y,E,T,R,N,Y){var Z=128&h,re=1&h,be=2&h,Fe=24&h,Ze=512&h,dt=be?O:Zu(d);return function Qe(){for(var Rt=arguments.length,St=B(Rt),vo=Rt;vo--;)St[vo]=arguments[vo];if(Fe)var Qn=gs(Qe),Pr=function IF(F,K){for(var B=F.length,Ce=0;B--;)F[B]===K&&++Ce;return Ce}(St,Qn);if(_&&(St=ur(St,_,y,Fe)),E&&(St=Js(St,E,T,Fe)),Rt-=Pr,Fe&&Rt<Y){var yi=dc(St,Qn);return Ta(d,h,Qu,Qe.placeholder,m,St,yi,R,N,Y-Rt)}var yo=re?m:this,bs=be?yo[d]:d;return Rt=St.length,R?St=function _c(d,h){for(var m=d.length,_=In(h.length,m),y=Mr(d);_--;){var E=h[_];d[_]=Xs(E,m)?y[E]:O}return d}(St,R):Ze&&Rt>1&&St.reverse(),Z&&N<Rt&&(St.length=N),this&&this!==qn&&this instanceof Qe&&(bs=dt||Zu(bs)),bs.apply(yo,St)}}function E_(d,h){return function(m,_){return function HF(d,h,m,_){return Ma(d,function(y,E,T){h(_,m(y),E,T)}),_}(m,d,h(_),{})}}function eh(d,h){return function(m,_){var y;if(m===O&&_===O)return h;if(m!==O&&(y=m),_!==O){if(y===O)return _;"string"==typeof m||"string"==typeof _?(m=po(m),_=po(_)):(m=H0(m),_=H0(_)),y=d(m,_)}return y}}function th(d){return Ho(function(h){return h=Li(h,Po(He())),it(function(m){var _=this;return d(h,function(y){return Ut(y,_,m)})})})}function pm(d,h){var m=(h=h===O?" ":po(h)).length;if(m<2)return m?p_(h,d):h;var _=p_(h,Kf(d/md(h)));return yn(h)?Se(Fo(_),0,d).join(""):_.slice(0,d)}function cl(d){return function(h,m,_){return _&&"number"!=typeof _&&Tr(h,m,_)&&(m=_=O),h=Oa(h),m===O?(m=h,h=0):m=Oa(m),function m_(d,h,m,_){for(var y=-1,E=un(Kf((h-d)/(m||1)),0),T=B(E);E--;)T[_?E:++y]=d,d+=m;return T}(h,m,_=_===O?h<m?1:-1:Oa(_),d)}}function ai(d){return function(h,m){return"string"==typeof h&&"string"==typeof m||(h=jo(h),m=jo(m)),d(h,m)}}function Ta(d,h,m,_,y,E,T,R,N,Y){var Z=8&h;h|=Z?32:64,4&(h&=~(Z?64:32))||(h&=-4);var dt=[d,h,y,Z?E:O,Z?T:O,Z?O:E,Z?O:T,R,N,Y],Qe=m.apply(O,dt);return Rd(d)&&R_(Qe,dt),Qe.placeholder=_,bc(Qe,d,h)}function S_(d){var h=Tn[d];return function(m,_){if(m=jo(m),(_=null==_?0:In(vt(_),292))&&No(m)){var y=(Jt(m)+"e").split("e");return+((y=(Jt(h(y[0]+"e"+(+y[1]+_)))+"e").split("e"))[0]+"e"+(+y[1]-_))}return h(m)}}var gm=vd&&1/oe(new vd([,-0]))[1]==is?function(d){return new vd(d)}:$o;function q0(d){return function(h){var m=Ar(h);return m==Zt?v0(h):m==Fi?function FF(F){var K=-1,B=Array(F.size);return F.forEach(function(Ce){B[++K]=[Ce,Ce]}),B}(h):function TF(F,K){return Li(K,function(B){return[B,F[B]]})}(h,d(h))}}function Ys(d,h,m,_,y,E,T,R){var N=2&h;if(!N&&"function"!=typeof d)throw new qr(Pi);var Y=_?_.length:0;if(Y||(h&=-97,_=y=O),T=T===O?T:un(vt(T),0),R=R===O?R:vt(R),Y-=y?y.length:0,64&h){var Z=_,re=y;_=y=O}var be=N?O:ym(d),Fe=[d,h,m,_,y,Z,re,E,T,R];if(be&&function ew(d,h){var m=d[1],_=h[1],y=m|_;if(!(y<131)&&!(128==_&&8==m||128==_&&256==m&&d[7].length<=h[8]||384==_&&h[7].length<=h[8]&&8==m))return d;1&_&&(d[2]=h[2],y|=1&m?0:4);var R=h[3];if(R){var N=d[3];d[3]=N?ur(N,R,h[4]):R,d[4]=N?dc(d[3],Pu):h[4]}(R=h[5])&&(d[5]=(N=d[5])?Js(N,R,h[6]):R,d[6]=N?dc(d[5],Pu):h[6]),(R=h[7])&&(d[7]=R),128&_&&(d[8]=null==d[8]?h[8]:In(d[8],h[8])),null==d[9]&&(d[9]=h[9]),d[0]=h[0],d[1]=y}(Fe,be),d=Fe[0],h=Fe[1],m=Fe[2],_=Fe[3],y=Fe[4],!(R=Fe[9]=Fe[9]===O?N?0:d.length:un(Fe[9]-Y,0))&&24&h&&(h&=-25),h&&1!=h)Ze=8==h||16==h?function G0(d,h,m){var _=Zu(d);return function y(){for(var E=arguments.length,T=B(E),R=E,N=gs(y);R--;)T[R]=arguments[R];var Y=E<3&&T[0]!==N&&T[E-1]!==N?[]:dc(T,N);return(E-=Y.length)<m?Ta(d,h,Qu,y.placeholder,O,T,Y,O,O,m-E):Ut(this&&this!==qn&&this instanceof y?_:d,this,T)}}(d,h,R):32!=h&&33!=h||y.length?Qu.apply(O,Fe):function hr(d,h,m,_){var y=1&h,E=Zu(d);return function T(){for(var R=-1,N=arguments.length,Y=-1,Z=_.length,re=B(Z+N),be=this&&this!==qn&&this instanceof T?E:d;++Y<Z;)re[Y]=_[Y];for(;N--;)re[Y++]=arguments[++R];return Ut(be,y?m:this,re)}}(d,h,m,_);else var Ze=function C_(d,h,m){var _=1&h,y=Zu(d);return function E(){return(this&&this!==qn&&this instanceof E?y:d).apply(_?m:this,arguments)}}(d,h,m);return bc((be?g_:R_)(Ze,Fe),d,h)}function M_(d,h,m,_){return d===O||_s(d,pd[m])&&!si.call(_,m)?h:d}function ih(d,h,m,_,y,E){return $i(d)&&$i(h)&&(E.set(h,d),Ju(d,h,O,ih,E),E.delete(h)),d}function dl(d){return gl(d)?O:d}function K0(d,h,m,_,y,E){var T=1&m,R=d.length,N=h.length;if(R!=N&&!(T&&N>R))return!1;var Y=E.get(d),Z=E.get(h);if(Y&&Z)return Y==h&&Z==d;var re=-1,be=!0,Fe=2&m?new en:O;for(E.set(d,h),E.set(h,d);++re<R;){var Ze=d[re],dt=h[re];if(_)var Qe=T?_(dt,Ze,re,h,d,E):_(Ze,dt,re,d,h,E);if(Qe!==O){if(Qe)continue;be=!1;break}if(Fe){if(!lc(h,function(Rt,St){if(!Hf(Fe,St)&&(Ze===Rt||y(Ze,Rt,m,_,E)))return Fe.push(St)})){be=!1;break}}else if(Ze!==dt&&!y(Ze,dt,m,_,E)){be=!1;break}}return E.delete(d),E.delete(h),be}function Ho(d){return hl(nw(d,O,VE),d+"")}function nh(d){return kE(d,Rn,A_)}function vm(d){return kE(d,Qr,PE)}var ym=Qf?function(d){return Qf.get(d)}:$o;function wm(d){for(var h=d.name+"",m=hc[h],_=si.call(hc,h)?m.length:0;_--;){var y=m[_],E=y.func;if(null==E||E==d)return y.name}return h}function gs(d){return(si.call(x,"placeholder")?x:d).placeholder}function He(){var d=x.iteratee||Ra;return d=d===Ra?u_:d,arguments.length?d(arguments[0],arguments[1]):d}function xm(d,h){var m=d.__data__;return function FE(d){var h=typeof d;return"string"==h||"number"==h||"symbol"==h||"boolean"==h?"__proto__"!==d:null===d}(h)?m["string"==typeof h?"string":"hash"]:m.map}function rh(d){for(var h=Rn(d),m=h.length;m--;){var _=h[m],y=d[_];h[m]=[_,y,km(y)]}return h}function gc(d,h){var m=function RF(F,K){return null==F?O:F[K]}(d,h);return tn(m)?m:O}var A_=ls?function(d){return null==d?[]:(d=bi(d),Le(ls(d),function(h){return Sa.call(d,h)}))}:mb,PE=ls?function(d){for(var h=[];d;)ka(h,A_(d)),d=Ea(d);return h}:mb,Ar=Jr;function J0(d,h,m){for(var _=-1,y=(h=bt(h,d)).length,E=!1;++_<y;){var T=Uo(h[_]);if(!(E=null!=d&&m(d,T)))break;d=d[T]}return E||++_!=y?E:!!(y=null==d?0:d.length)&&qd(y)&&Xs(T,y)&&(Ke(d)||Cn(d))}function Cm(d){return"function"!=typeof d.constructor||ul(d)?{}:yd(Ea(d))}function Y0(d){return Ke(d)||Cn(d)||!!(U&&d&&d[U])}function Xs(d,h){var m=typeof d;return!!(h=h??Ro)&&("number"==m||"symbol"!=m&&Lg.test(d))&&d>-1&&d%1==0&&d<h}function Tr(d,h,m){if(!$i(m))return!1;var _=typeof h;return!!("number"==_?Or(m)&&Xs(h,m.length):"string"==_&&h in m)&&_s(m[h],d)}function zo(d,h){if(Ke(d))return!1;var m=typeof d;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=d&&!_o(d))||Ng.test(d)||!Fg.test(d)||null!=h&&d in bi(h)}function Rd(d){var h=wm(d),m=x[h];if("function"!=typeof m||!(h in It.prototype))return!1;if(d===m)return!0;var _=ym(m);return!!_&&d===_[0]}(Xf&&Ar(new Xf(new ArrayBuffer(1)))!=st||ju&&Ar(new ju)!=Zt||Zf&&Ar(Zf.resolve())!=vr||vd&&Ar(new vd)!=Fi||$u&&Ar(new $u)!=Je)&&(Ar=function(d){var h=Jr(d),m=h==We?d.constructor:O,_=m?vc(m):"";if(_)switch(_){case bE:return st;case vE:return Zt;case yE:return vr;case wE:return Fi;case E0:return Je}return h});var X0=gd?Ia:pb;function ul(d){var h=d&&d.constructor;return d===("function"==typeof h&&h.prototype||pd)}function km(d){return d==d&&!$i(d)}function Z0(d,h){return function(m){return null!=m&&m[d]===h&&(h!==O||d in bi(m))}}function nw(d,h,m){return h=un(h===O?d.length-1:h,0),function(){for(var _=arguments,y=-1,E=un(_.length-h,0),T=B(E);++y<E;)T[y]=_[h+y];y=-1;for(var R=B(h+1);++y<h;)R[y]=_[y];return R[h]=m(T),Ut(d,this,R)}}function ah(d,h){return h.length<2?d:Md(d,Sr(h,0,-1))}function O_(d,h){if(("constructor"!==h||"function"!=typeof d[h])&&"__proto__"!=h)return d[h]}var R_=hn(g_),Pd=_E||function(d,h){return qn.setTimeout(d,h)},hl=hn(V0);function bc(d,h,m){var _=h+"";return hl(d,function jF(d,h){var m=h.length;if(!m)return d;var _=m-1;return h[_]=(m>1?"& ":"")+h[_],h=h.join(m>2?", ":" "),d.replace(Ge,"{\n/* [wrapped with "+h+"] */\n")}(_,function rw(d,h){return as(Tf,function(m){var _="_."+m[0];h&m[1]&&!ac(d,_)&&d.push(_)}),d.sort()}(function oh(d){var h=d.match(ue);return h?h[1].split(wt):[]}(_),m)))}function hn(d){var h=0,m=0;return function(){var _=C0(),y=16-(_-m);if(m=_,y>0){if(++h>=800)return arguments[0]}else h=0;return d.apply(O,arguments)}}function Em(d,h){var m=-1,_=d.length,y=_-1;for(h=h===O?_:h;++m<h;){var E=f_(m,y),T=d[E];d[E]=d[m],d[m]=T}return d.length=h,d}var Kt=function Q0(d){var h=Dc(d,function(_){return 500===m.size&&m.clear(),_}),m=h.cache;return h}(function(d){var h=[];return 46===d.charCodeAt(0)&&h.push(""),d.replace(de,function(m,_,y,E){h.push(y?E.replace(xa,"$1"):_||m)}),h});function Uo(d){if("string"==typeof d||_o(d))return d;var h=d+"";return"0"==h&&1/d==-is?"-0":h}function vc(d){if(null!=d){try{return e_.call(d)}catch{}try{return d+""}catch{}}return""}function Xr(d){if(d instanceof It)return d.clone();var h=new Pe(d.__wrapped__,d.__chain__);return h.__actions__=Mr(d.__actions__),h.__index__=d.__index__,h.__values__=d.__values__,h}var ow=it(function(d,h){return li(d)?fs(d,On(h,1,li,!0)):[]}),P_=it(function(d,h){var m=Ir(h);return li(m)&&(m=O),li(d)?fs(d,On(h,1,li,!0),He(m,2)):[]}),Bd=it(function(d,h){var m=Ir(h);return li(m)&&(m=O),li(d)?fs(d,On(h,1,li,!0),O,m):[]});function LE(d,h,m){var _=null==d?0:d.length;if(!_)return-1;var y=null==m?0:vt(m);return y<0&&(y=un(_+y,0)),tl(d,He(h,3),y)}function BE(d,h,m){var _=null==d?0:d.length;if(!_)return-1;var y=_-1;return m!==O&&(y=vt(m),y=m<0?un(_+y,0):In(y,_-1)),tl(d,He(h,3),y,!0)}function VE(d){return null!=d&&d.length?On(d,1):[]}function fn(d){return d&&d.length?d[0]:O}var WE=it(function(d){var h=Li(d,v_);return h.length&&h[0]===d[0]?P0(h):[]}),Zr=it(function(d){var h=Ir(d),m=Li(d,v_);return h===Ir(m)?h=O:m.pop(),m.length&&m[0]===d[0]?P0(m,He(h,2)):[]}),Hd=it(function(d){var h=Ir(d),m=Li(d,v_);return(h="function"==typeof h?h:O)&&m.pop(),m.length&&m[0]===d[0]?P0(m,O,h):[]});function Ir(d){var h=null==d?0:d.length;return h?d[h-1]:O}var JF=it(N_);function N_(d,h){return d&&d.length&&h&&h.length?sl(d,h):d}var L_=Ho(function(d,h){var m=null==d?0:d.length,_=ol(d,h);return Yr(d,Li(h,function(y){return Xs(y,m)?+y:y}).sort(IE)),_});function aw(d){return null==d?d:k0.call(d)}var cw=it(function(d){return al(On(d,1,li,!0))}),V_=it(function(d){var h=Ir(d);return li(h)&&(h=O),al(On(d,1,li,!0),He(h,2))}),Mm=it(function(d){var h=Ir(d);return h="function"==typeof h?h:O,al(On(d,1,li,!0),O,h)});function fl(d){if(!d||!d.length)return[];var h=0;return d=Le(d,function(m){if(li(m))return h=un(m.length,h),!0}),Cr(h,function(m){return Li(d,Jg(m))})}function Ud(d,h){if(!d||!d.length)return[];var m=fl(d);return null==h?m:Li(m,function(_){return Ut(h,O,_)})}var tS=it(function(d,h){return li(d)?fs(d,h):[]}),XF=it(function(d){return b_(Le(d,li))}),uw=it(function(d){var h=Ir(d);return li(h)&&(h=O),b_(Le(d,li),He(h,2))}),iS=it(function(d){var h=Ir(d);return h="function"==typeof h?h:O,b_(Le(d,li),O,h)}),ZF=it(fl),oS=it(function(d){var h=d.length,m=h>1?d[h-1]:O;return m="function"==typeof m?(d.pop(),m):O,Ud(d,m)});function wc(d){var h=x(d);return h.__chain__=!0,h}function Wd(d,h){return h(d)}var Am=Ho(function(d){var h=d.length,m=h?d[0]:0,_=this.__wrapped__,y=function(E){return ol(E,d)};return!(h>1||this.__actions__.length)&&_ instanceof It&&Xs(m)?((_=_.slice(m,+m+(h?1:0))).__actions__.push({func:Wd,args:[y],thisArg:O}),new Pe(_,this.__chain__).thru(function(E){return h&&!E.length&&E.push(O),E})):this.thru(y)}),aS=Xu(function(d,h,m){si.call(d,m)?++d[m]:Bo(d,m,1)}),_w=mm(LE),xc=mm(BE);function bw(d,h){return(Ke(d)?as:ms)(d,He(h,3))}function Om(d,h){return(Ke(d)?sE:Vo)(d,He(h,3))}var Rm=Xu(function(d,h,m){si.call(d,m)?d[m].push(h):Bo(d,m,[h])}),jd=it(function(d,h,m){var _=-1,y="function"==typeof h,E=Or(d)?B(d.length):[];return ms(d,function(T){E[++_]=y?Ut(h,T,m):Ad(T,h,m)}),E}),W_=Xu(function(d,h,m){Bo(d,m,h)});function Pm(d,h){return(Ke(d)?Li:N0)(d,He(h,3))}var vw=Xu(function(d,h,m){d[m?0:1].push(h)},function(){return[[],[]]}),fS=it(function(d,h){if(null==d)return[];var m=h.length;return m>1&&Tr(d,h[0],h[1])?h=[]:m>2&&Tr(h[0],h[1],h[2])&&(h=[h[0]]),Td(d,On(h,1),[])}),Fm=Wu||function(){return qn.Date.now()};function xw(d,h,m){return h=m?O:h,Ys(d,128,O,O,O,O,h=d&&null==h?d.length:h)}function G_(d,h){var m;if("function"!=typeof h)throw new qr(Pi);return d=vt(d),function(){return--d>0&&(m=h.apply(this,arguments)),d<=1&&(h=O),m}}var q_=it(function(d,h,m){var _=1;if(m.length){var y=dc(m,gs(q_));_|=32}return Ys(d,_,h,m,y)}),Cw=it(function(d,h,m){var _=3;if(m.length){var y=dc(m,gs(Cw));_|=32}return Ys(h,_,d,m,y)});function J_(d,h,m){var _,y,E,T,R,N,Y=0,Z=!1,re=!1,be=!0;if("function"!=typeof d)throw new qr(Pi);function Fe(yi){var yo=_,bs=y;return _=y=O,Y=yi,T=d.apply(bs,yo)}function Qe(yi){var yo=yi-N;return N===O||yo>=h||yo<0||re&&yi-Y>=E}function Rt(){var yi=Fm();if(Qe(yi))return St(yi);R=Pd(Rt,function dt(yi){var Jd=h-(yi-N);return re?In(Jd,E-(yi-Y)):Jd}(yi))}function St(yi){return R=O,be&&_?Fe(yi):(_=y=O,T)}function Pr(){var yi=Fm(),yo=Qe(yi);if(_=arguments,y=this,N=yi,yo){if(R===O)return function Ze(yi){return Y=yi,R=Pd(Rt,h),Z?Fe(yi):T}(N);if(re)return ti(R),R=Pd(Rt,h),Fe(N)}return R===O&&(R=Pd(Rt,h)),T}return h=jo(h)||0,$i(m)&&(Z=!!m.leading,E=(re="maxWait"in m)?un(jo(m.maxWait)||0,h):E,be="trailing"in m?!!m.trailing:be),Pr.cancel=function vo(){R!==O&&ti(R),Y=0,_=N=y=R=O},Pr.flush=function Qn(){return R===O?T:St(Fm())},Pr}var Xn=it(function(d,h){return im(d,1,h)}),Y_=it(function(d,h,m){return im(d,jo(h)||0,m)});function Dc(d,h){if("function"!=typeof d||null!=h&&"function"!=typeof h)throw new qr(Pi);var m=function(){var _=arguments,y=h?h.apply(this,_):_[0],E=m.cache;if(E.has(y))return E.get(y);var T=d.apply(this,_);return m.cache=E.set(y,T)||E,T};return m.cache=new(Dc.Cache||$t),m}function uh(d){if("function"!=typeof d)throw new qr(Pi);return function(){var h=arguments;switch(h.length){case 0:return!d.call(this);case 1:return!d.call(this,h[0]);case 2:return!d.call(this,h[0],h[1]);case 3:return!d.call(this,h[0],h[1],h[2])}return!d.apply(this,h)}}Dc.Cache=$t;var pS=Ve(function(d,h){var m=(h=1==h.length&&Ke(h[0])?Li(h[0],Po(He())):Li(On(h,1),Po(He()))).length;return it(function(_){for(var y=-1,E=In(_.length,m);++y<E;)_[y]=h[y].call(this,_[y]);return Ut(d,this,_)})}),X_=it(function(d,h){var m=dc(h,gs(X_));return Ys(d,32,O,h,m)}),Nm=it(function(d,h){var m=dc(h,gs(Nm));return Ys(d,64,O,h,m)}),gS=Ho(function(d,h){return Ys(d,256,O,O,O,h)});function _s(d,h){return d===h||d!=d&&h!=h}var kw=ai(R0),Gd=ai(function(d,h){return d>=h}),Cn=c_(function(){return arguments}())?c_:function(d){return nn(d)&&si.call(d,"callee")&&!Sa.call(d,"callee")},Ke=B.isArray,Q_=Vf?Po(Vf):function zF(d){return nn(d)&&Jr(d)==yr};function Or(d){return null!=d&&qd(d.length)&&!Ia(d)}function li(d){return nn(d)&&Or(d)}var Ec=Yf||pb,Lm=An?Po(An):function UF(d){return nn(d)&&Jr(d)==ec};function Bm(d){if(!nn(d))return!1;var h=Jr(d);return h==Za||"[object DOMException]"==h||"string"==typeof d.message&&"string"==typeof d.name&&!gl(d)}function Ia(d){if(!$i(d))return!1;var h=Jr(d);return h==Ci||h==Tt||"[object AsyncFunction]"==h||"[object Proxy]"==h}function Mw(d){return"number"==typeof d&&d==vt(d)}function qd(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=Ro}function $i(d){var h=typeof d;return null!=d&&("object"==h||"function"==h)}function nn(d){return null!=d&&"object"==typeof d}var Vm=hd?Po(hd):function fc(d){return nn(d)&&Ar(d)==Zt};function ph(d){return"number"==typeof d||nn(d)&&Jr(d)==Wn}function gl(d){if(!nn(d)||Jr(d)!=We)return!1;var h=Ea(d);if(null===h)return!0;var m=si.call(h,"constructor")&&h.constructor;return"function"==typeof m&&m instanceof m&&e_.call(m)==Uu}var gh=g0?Po(g0):function F0(d){return nn(d)&&Jr(d)==Hs},eb=Xt?Po(Xt):function EE(d){return nn(d)&&Ar(d)==Fi};function _l(d){return"string"==typeof d||!Ke(d)&&nn(d)&&Jr(d)==zs}function _o(d){return"symbol"==typeof d||nn(d)&&Jr(d)==ya}var Sc=Bu?Po(Bu):function SE(d){return nn(d)&&qd(d.length)&&!!ei[Jr(d)]},bl=ai(Ku),CS=ai(function(d,h){return d<=h});function Iw(d){if(!d)return[];if(Or(d))return _l(d)?Fo(d):Mr(d);if(_d&&d[_d])return function PF(F){for(var K,B=[];!(K=F.next()).done;)B.push(K.value);return B}(d[_d]());var h=Ar(d);return(h==Zt?v0:h==Fi?oe:vl)(d)}function Oa(d){return d?(d=jo(d))===is||d===-is?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function vt(d){var h=Oa(d),m=h%1;return h==h?m?h-m:h:0}function Um(d){return d?mi(vt(d),0,ns):0}function jo(d){if("number"==typeof d)return d;if(_o(d))return NaN;if($i(d)){var h="function"==typeof d.valueOf?d.valueOf():d;d=$i(h)?h+"":h}if("string"!=typeof d)return 0===d?d:+d;d=b0(d);var m=lr.test(d);return m||Lu.test(d)?rE(d.slice(2),m?2:8):os.test(d)?NaN:+d}function Ow(d){return xn(d,Qr(d))}function Jt(d){return null==d?"":po(d)}var kS=Od(function(d,h){if(ul(h)||Or(h))xn(h,Rn(h),d);else for(var m in h)si.call(h,m)&&hs(d,m,h[m])}),Rw=Od(function(d,h){xn(h,Qr(h),d)}),Zn=Od(function(d,h,m,_){xn(h,Qr(h),d,_)}),tb=Od(function(d,h,m,_){xn(h,Rn(h),d,_)}),Pw=Ho(ol),fr=it(function(d,h){d=bi(d);var m=-1,_=h.length,y=_>2?h[2]:O;for(y&&Tr(h[0],h[1],y)&&(_=1);++m<_;)for(var E=h[m],T=Qr(E),R=-1,N=T.length;++R<N;){var Y=T[R],Z=d[Y];(Z===O||_s(Z,pd[Y])&&!si.call(d,Y))&&(d[Y]=E[Y])}return d}),_h=it(function(d){return d.push(O,ih),Ut(Mc,O,d)});function nb(d,h,m){var _=null==d?O:Md(d,h);return _===O?m:_}function bh(d,h){return null!=d&&J0(d,h,BF)}var rb=E_(function(d,h,m){null!=h&&"function"!=typeof h.toString&&(h=t_.call(h)),d[h]=m},Kd(Rr)),TS=E_(function(d,h,m){null!=h&&"function"!=typeof h.toString&&(h=t_.call(h)),si.call(d,h)?d[h].push(m):d[h]=[m]},He),vh=it(Ad);function Rn(d){return Or(d)?us(d):am(d)}function Qr(d){return Or(d)?us(d,!0):function ME(d){if(!$i(d))return function tw(d){var h=[];if(null!=d)for(var m in bi(d))h.push(m);return h}(d);var h=ul(d),m=[];for(var _ in d)"constructor"==_&&(h||!si.call(d,_))||m.push(_);return m}(d)}var Uw=Od(function(d,h,m){Ju(d,h,m)}),Mc=Od(function(d,h,m,_){Ju(d,h,m,_)}),Wm=Ho(function(d,h){var m={};if(null==d)return m;var _=!1;h=Li(h,function(E){return E=bt(E,d),_||(_=E.length>1),E}),xn(d,vm(d),m),_&&(m=Jn(m,7,dl));for(var y=h.length;y--;)um(m,h[y]);return m}),ob=Ho(function(d,h){return null==d?{}:function Er(d,h){return L0(d,h,function(m,_){return bh(d,_)})}(d,h)});function yh(d,h){if(null==d)return{};var m=Li(vm(d),function(_){return[_]});return h=He(h),L0(d,m,function(_,y){return h(_,y[0])})}var jw=q0(Rn),$w=q0(Qr);function vl(d){return null==d?[]:$s(d,Rn(d))}var Ac=ll(function(d,h,m){return h=h.toLowerCase(),d+(m?ab(h):h)});function ab(d){return Dh(Jt(d).toLowerCase())}function lb(d){return(d=Jt(d))&&d.replace(Pf,hE).replace(ud,"")}var BS=ll(function(d,h,m){return d+(m?"-":"")+h.toLowerCase()}),Kw=ll(function(d,h,m){return d+(m?" ":"")+h.toLowerCase()}),Jw=D_("toLowerCase"),db=ll(function(d,h,m){return d+(m?"_":"")+h.toLowerCase()}),Qw=ll(function(d,h,m){return d+(m?" ":"")+Dh(h)}),Km=ll(function(d,h,m){return d+(m?" ":"")+h.toUpperCase()}),Dh=D_("toUpperCase");function Tc(d,h,m){return d=Jt(d),(h=m?O:h)===O?function Ye(F){return h0.test(F)}(d)?function w0(F){return F.match(AF)||[]}(d):function _0(F){return F.match($n)||[]}(d):d.match(h)||[]}var nx=it(function(d,h){try{return Ut(d,O,h)}catch(m){return Bm(m)?m:new gt(m)}}),WS=Ho(function(d,h){return as(h,function(m){m=Uo(m),Bo(d,m,q_(d[m],d))}),d});function Kd(d){return function(){return d}}var rx=k_(),ox=k_(!0);function Rr(d){return d}function Ra(d){return u_("function"==typeof d?d:Jn(d,1))}var qS=it(function(d,h){return function(m){return Ad(m,d,h)}}),KS=it(function(d,h){return function(m){return Ad(d,m,h)}});function fb(d,h,m){var _=Rn(h),y=l_(h,_);null==m&&(!$i(h)||!y.length&&_.length)&&(m=h,h=d,d=this,y=l_(h,Rn(h)));var E=!($i(m)&&"chain"in m&&!m.chain),T=Ia(d);return as(y,function(R){var N=h[R];d[R]=N,T&&(d.prototype[R]=function(){var Y=this.__chain__;if(E||Y){var Z=d(this.__wrapped__);return(Z.__actions__=Mr(this.__actions__)).push({func:N,args:arguments,thisArg:d}),Z.__chain__=Y,Z}return N.apply(d,ka([this.value()],arguments))})}),d}function $o(){}var YS=th(Li),XS=th(Ct),ZS=th(lc);function sx(d){return zo(d)?Jg(Uo(d)):function Yu(d){return function(h){return Md(h,d)}}(d)}var ax=cl(),eM=cl(!0);function mb(){return[]}function pb(){return!1}var dx=eh(function(d,h){return d+h},0),dN=S_("ceil"),uN=eh(function(d,h){return d/h},1),hN=S_("floor"),nM=eh(function(d,h){return d*h},1),rM=S_("round"),oM=eh(function(d,h){return d-h},0);return x.after=function ww(d,h){if("function"!=typeof h)throw new qr(Pi);return d=vt(d),function(){if(--d<1)return h.apply(this,arguments)}},x.ary=xw,x.assign=kS,x.assignIn=Rw,x.assignInWith=Zn,x.assignWith=tb,x.at=Pw,x.before=G_,x.bind=q_,x.bindAll=WS,x.bindKey=Cw,x.castArray=function eN(){if(!arguments.length)return[];var d=arguments[0];return Ke(d)?d:[d]},x.chain=wc,x.chunk=function Fd(d,h,m){h=(m?Tr(d,h,m):h===O)?1:un(vt(h),0);var _=null==d?0:d.length;if(!_||h<1)return[];for(var y=0,E=0,T=B(Kf(_/h));y<_;)T[E++]=Sr(d,y,y+=h);return T},x.compact=function Nd(d){for(var h=-1,m=null==d?0:d.length,_=0,y=[];++h<m;){var E=d[h];E&&(y[_++]=E)}return y},x.concat=function Ld(){var d=arguments.length;if(!d)return[];for(var h=B(d-1),m=arguments[0],_=d;_--;)h[_-1]=arguments[_];return ka(Ke(m)?Mr(m):[m],On(h,1))},x.cond=function cN(d){var h=null==d?0:d.length,m=He();return d=h?Li(d,function(_){if("function"!=typeof _[1])throw new qr(Pi);return[m(_[0]),_[1]]}):[],it(function(_){for(var y=-1;++y<h;){var E=d[y];if(Ut(E[0],this,_))return Ut(E[1],this,_)}})},x.conforms=function jS(d){return function Yn(d){var h=Rn(d);return function(m){return wn(m,d,h)}}(Jn(d,1))},x.constant=Kd,x.countBy=aS,x.create=function ib(d,h){var m=yd(d);return null==h?m:Sd(m,h)},x.curry=function mS(d,h,m){var _=Ys(d,8,O,O,O,O,O,h=m?O:h);return _.placeholder=mS.placeholder,_},x.curryRight=function K_(d,h,m){var _=Ys(d,16,O,O,O,O,O,h=m?O:h);return _.placeholder=K_.placeholder,_},x.debounce=J_,x.defaults=fr,x.defaultsDeep=_h,x.defer=Xn,x.delay=Y_,x.difference=ow,x.differenceBy=P_,x.differenceWith=Bd,x.drop=function $F(d,h,m){var _=null==d?0:d.length;return _?Sr(d,(h=m||h===O?1:vt(h))<0?0:h,_):[]},x.dropRight=function NE(d,h,m){var _=null==d?0:d.length;return _?Sr(d,0,(h=_-(h=m||h===O?1:vt(h)))<0?0:h):[]},x.dropRightWhile=function GF(d,h){return d&&d.length?hm(d,He(h,3),!0,!0):[]},x.dropWhile=function qF(d,h){return d&&d.length?hm(d,He(h,3),!0):[]},x.fill=function KF(d,h,m,_){var y=null==d?0:d.length;return y?(m&&"number"!=typeof m&&Tr(d,h,m)&&(m=0,_=y),function DE(d,h,m,_){var y=d.length;for((m=vt(m))<0&&(m=-m>y?0:y+m),(_=_===O||_>y?y:vt(_))<0&&(_+=y),_=m>_?0:Um(_);m<_;)d[m++]=h;return d}(d,h,m,_)):[]},x.filter=function gw(d,h){return(Ke(d)?Le:rm)(d,He(h,3))},x.flatMap=function lS(d,h){return On(Pm(d,h),1)},x.flatMapDeep=function U_(d,h){return On(Pm(d,h),is)},x.flatMapDepth=function Im(d,h,m){return m=m===O?1:vt(m),On(Pm(d,h),m)},x.flatten=VE,x.flattenDeep=function Vd(d){return null!=d&&d.length?On(d,is):[]},x.flattenDepth=function HE(d,h){return null!=d&&d.length?On(d,h=h===O?1:vt(h)):[]},x.flip=function ml(d){return Ys(d,512)},x.flow=rx,x.flowRight=ox,x.fromPairs=function zE(d){for(var h=-1,m=null==d?0:d.length,_={};++h<m;){var y=d[h];_[y[0]]=y[1]}return _},x.functions=function MS(d){return null==d?[]:l_(d,Rn(d))},x.functionsIn=function Vw(d){return null==d?[]:l_(d,Qr(d))},x.groupBy=Rm,x.initial=function lh(d){return null!=d&&d.length?Sr(d,0,-1):[]},x.intersection=WE,x.intersectionBy=Zr,x.intersectionWith=Hd,x.invert=rb,x.invertBy=TS,x.invokeMap=jd,x.iteratee=Ra,x.keyBy=W_,x.keys=Rn,x.keysIn=Qr,x.map=Pm,x.mapKeys=function Hw(d,h){var m={};return h=He(h,3),Ma(d,function(_,y,E){Bo(m,h(_,y,E),_)}),m},x.mapValues=function zw(d,h){var m={};return h=He(h,3),Ma(d,function(_,y,E){Bo(m,y,h(_,y,E))}),m},x.matches=function $S(d){return ps(Jn(d,1))},x.matchesProperty=function GS(d,h){return h_(d,Jn(h,1))},x.memoize=Dc,x.merge=Uw,x.mergeWith=Mc,x.method=qS,x.methodOf=KS,x.mixin=fb,x.negate=uh,x.nthArg=function JS(d){return d=vt(d),it(function(h){return lm(h,d)})},x.omit=Wm,x.omitBy=function Ww(d,h){return yh(d,uh(He(h)))},x.once=function hh(d){return G_(2,d)},x.orderBy=function cS(d,h,m,_){return null==d?[]:(Ke(h)||(h=null==h?[]:[h]),Ke(m=_?O:m)||(m=null==m?[]:[m]),Td(d,h,m))},x.over=YS,x.overArgs=pS,x.overEvery=XS,x.overSome=ZS,x.partial=X_,x.partialRight=Nm,x.partition=vw,x.pick=ob,x.pickBy=yh,x.property=sx,x.propertyOf=function QS(d){return function(h){return null==d?O:Md(d,h)}},x.pull=JF,x.pullAll=N_,x.pullAllBy=function YF(d,h,m){return d&&d.length&&h&&h.length?sl(d,h,He(m,2)):d},x.pullAllWith=function go(d,h,m){return d&&d.length&&h&&h.length?sl(d,h,O,m):d},x.pullAt=L_,x.range=ax,x.rangeRight=eM,x.rearg=gS,x.reject=function uS(d,h){return(Ke(d)?Le:rm)(d,uh(He(h,3)))},x.remove=function zd(d,h){var m=[];if(!d||!d.length)return m;var _=-1,y=[],E=d.length;for(h=He(h,3);++_<E;){var T=d[_];h(T,_,d)&&(m.push(T),y.push(_))}return Yr(d,y),m},x.rest=function pl(d,h){if("function"!=typeof d)throw new qr(Pi);return it(d,h=h===O?h:vt(h))},x.reverse=aw,x.sampleSize=function j_(d,h,m){return h=(m?Tr(d,h,m):h===O)?1:vt(h),(Ke(d)?I0:AE)(d,h)},x.set=function OS(d,h,m){return null==d?d:Id(d,h,m)},x.setWith=function RS(d,h,m,_){return _="function"==typeof _?_:O,null==d?d:Id(d,h,m,_)},x.shuffle=function Cc(d){return(Ke(d)?rl:cm)(d)},x.slice=function lw(d,h,m){var _=null==d?0:d.length;return _?(m&&"number"!=typeof m&&Tr(d,h,m)?(h=0,m=_):(h=null==h?0:vt(h),m=m===O?_:vt(m)),Sr(d,h,m)):[]},x.sortBy=fS,x.sortedUniq=function B_(d){return d&&d.length?TE(d):[]},x.sortedUniqBy=function Sm(d,h){return d&&d.length?TE(d,He(h,2)):[]},x.split=function qm(d,h,m){return m&&"number"!=typeof m&&Tr(d,h,m)&&(h=m=O),(m=m===O?ns:m>>>0)?(d=Jt(d))&&("string"==typeof h||null!=h&&!gh(h))&&!(h=po(h))&&yn(d)?Se(Fo(d),0,m):d.split(h,m):[]},x.spread=function fh(d,h){if("function"!=typeof d)throw new qr(Pi);return h=null==h?0:un(vt(h),0),it(function(m){var _=m[h],y=Se(m,0,h);return _&&ka(y,_),Ut(d,this,y)})},x.tail=function YE(d){var h=null==d?0:d.length;return h?Sr(d,1,h):[]},x.take=function yc(d,h,m){return d&&d.length?Sr(d,0,(h=m||h===O?1:vt(h))<0?0:h):[]},x.takeRight=function XE(d,h,m){var _=null==d?0:d.length;return _?Sr(d,(h=_-(h=m||h===O?1:vt(h)))<0?0:h,_):[]},x.takeRightWhile=function dh(d,h){return d&&d.length?hm(d,He(h,3),!1,!0):[]},x.takeWhile=function ZE(d,h){return d&&d.length?hm(d,He(h,3)):[]},x.tap=function hw(d,h){return h(d),d},x.throttle=function _S(d,h,m){var _=!0,y=!0;if("function"!=typeof d)throw new qr(Pi);return $i(m)&&(_="leading"in m?!!m.leading:_,y="trailing"in m?!!m.trailing:y),J_(d,h,{leading:_,maxWait:h,trailing:y})},x.thru=Wd,x.toArray=Iw,x.toPairs=jw,x.toPairsIn=$w,x.toPath=function lx(d){return Ke(d)?Li(d,Uo):_o(d)?[d]:Mr(Kt(Jt(d)))},x.toPlainObject=Ow,x.transform=function PS(d,h,m){var _=Ke(d),y=_||Ec(d)||Sc(d);if(h=He(h,4),null==m){var E=d&&d.constructor;m=y?_?new E:[]:$i(d)&&Ia(E)?yd(Ea(d)):{}}return(y?as:Ma)(d,function(T,R,N){return h(m,T,R,N)}),m},x.unary=function Dw(d){return xw(d,1)},x.union=cw,x.unionBy=V_,x.unionWith=Mm,x.uniq=function dw(d){return d&&d.length?al(d):[]},x.uniqBy=function QE(d,h){return d&&d.length?al(d,He(h,2)):[]},x.uniqWith=function eS(d,h){return h="function"==typeof h?h:O,d&&d.length?al(d,O,h):[]},x.unset=function Gw(d,h){return null==d||um(d,h)},x.unzip=fl,x.unzipWith=Ud,x.update=function wh(d,h,m){return null==d?d:mc(d,h,G(m))},x.updateWith=function jm(d,h,m,_){return _="function"==typeof _?_:O,null==d?d:mc(d,h,G(m),_)},x.values=vl,x.valuesIn=function FS(d){return null==d?[]:$s(d,Qr(d))},x.without=tS,x.words=Tc,x.wrap=function kc(d,h){return X_(G(h),d)},x.xor=XF,x.xorBy=uw,x.xorWith=iS,x.zip=ZF,x.zipObject=function nS(d,h){return U0(d||[],h||[],hs)},x.zipObjectDeep=function rS(d,h){return U0(d||[],h||[],Id)},x.zipWith=oS,x.entries=jw,x.entriesIn=$w,x.extend=Rw,x.extendWith=Zn,fb(x,x),x.add=dx,x.attempt=nx,x.camelCase=Ac,x.capitalize=ab,x.ceil=dN,x.clamp=function NS(d,h,m){return m===O&&(m=h,h=O),m!==O&&(m=(m=jo(m))==m?m:0),h!==O&&(h=(h=jo(h))==h?h:0),mi(jo(d),h,m)},x.clone=function Vi(d){return Jn(d,4)},x.cloneDeep=function bS(d){return Jn(d,5)},x.cloneDeepWith=function vS(d,h){return Jn(d,5,h="function"==typeof h?h:O)},x.cloneWith=function Z_(d,h){return Jn(d,4,h="function"==typeof h?h:O)},x.conformsTo=function yS(d,h){return null==h||wn(d,h,Rn(h))},x.deburr=lb,x.defaultTo=function hb(d,h){return null==d||d!=d?h:d},x.divide=uN,x.endsWith=function LS(d,h,m){d=Jt(d),h=po(h);var _=d.length,y=m=m===O?_:mi(vt(m),0,_);return(m-=h.length)>=0&&d.slice(m,y)==h},x.eq=_s,x.escape=function lN(d){return(d=Jt(d))&&Of.test(d)?d.replace(jn,OF):d},x.escapeRegExp=function $m(d){return(d=Jt(d))&&q.test(d)?d.replace(P,"\\$&"):d},x.every=function z_(d,h,m){var _=Ke(d)?Ct:s_;return m&&Tr(d,h,m)&&(h=O),_(d,He(h,3))},x.find=_w,x.findIndex=LE,x.findKey=function Fw(d,h){return js(d,He(h,3),Ma)},x.findLast=xc,x.findLastIndex=BE,x.findLastKey=function Nw(d,h){return js(d,He(h,3),O0)},x.floor=hN,x.forEach=bw,x.forEachRight=Om,x.forIn=function ES(d,h){return null==d?d:a_(d,He(h,3),Qr)},x.forInRight=function Lw(d,h){return null==d?d:om(d,He(h,3),Qr)},x.forOwn=function SS(d,h){return d&&Ma(d,He(h,3))},x.forOwnRight=function Bw(d,h){return d&&O0(d,He(h,3))},x.get=nb,x.gt=kw,x.gte=Gd,x.has=function AS(d,h){return null!=d&&J0(d,h,LF)},x.hasIn=bh,x.head=fn,x.identity=Rr,x.includes=function Wo(d,h,m,_){d=Or(d)?d:vl(d),m=m&&!_?vt(m):0;var y=d.length;return m<0&&(m=un(y+m,0)),_l(d)?m<=y&&d.indexOf(h,m)>-1:!!y&&cc(d,h,m)>-1},x.indexOf=function UE(d,h,m){var _=null==d?0:d.length;if(!_)return-1;var y=null==m?0:vt(m);return y<0&&(y=un(_+y,0)),cc(d,h,y)},x.inRange=function sb(d,h,m){return h=Oa(h),m===O?(m=h,h=0):m=Oa(m),function VF(d,h,m){return d>=In(h,m)&&d<un(h,m)}(d=jo(d),h,m)},x.invoke=vh,x.isArguments=Cn,x.isArray=Ke,x.isArrayBuffer=Q_,x.isArrayLike=Or,x.isArrayLikeObject=li,x.isBoolean=function mh(d){return!0===d||!1===d||nn(d)&&Jr(d)==Xa},x.isBuffer=Ec,x.isDate=Lm,x.isElement=function Ew(d){return nn(d)&&1===d.nodeType&&!gl(d)},x.isEmpty=function wS(d){if(null==d)return!0;if(Or(d)&&(Ke(d)||"string"==typeof d||"function"==typeof d.splice||Ec(d)||Sc(d)||Cn(d)))return!d.length;var h=Ar(d);if(h==Zt||h==Fi)return!d.size;if(ul(d))return!am(d).length;for(var m in d)if(si.call(d,m))return!1;return!0},x.isEqual=function Sw(d,h){return sm(d,h)},x.isEqualWith=function tN(d,h,m){var _=(m="function"==typeof m?m:O)?m(d,h):O;return _===O?sm(d,h,O,m):!!_},x.isError=Bm,x.isFinite=function iN(d){return"number"==typeof d&&No(d)},x.isFunction=Ia,x.isInteger=Mw,x.isLength=qd,x.isMap=Vm,x.isMatch=function nN(d,h){return d===h||d_(d,h,rh(h))},x.isMatchWith=function rN(d,h,m){return m="function"==typeof m?m:O,d_(d,h,rh(h),m)},x.isNaN=function oN(d){return ph(d)&&d!=+d},x.isNative=function sN(d){if(X0(d))throw new gt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return tn(d)},x.isNil=function xS(d){return null==d},x.isNull=function aN(d){return null===d},x.isNumber=ph,x.isObject=$i,x.isObjectLike=nn,x.isPlainObject=gl,x.isRegExp=gh,x.isSafeInteger=function Aw(d){return Mw(d)&&d>=-Ro&&d<=Ro},x.isSet=eb,x.isString=_l,x.isSymbol=_o,x.isTypedArray=Sc,x.isUndefined=function Tw(d){return d===O},x.isWeakMap=function Hm(d){return nn(d)&&Ar(d)==Je},x.isWeakSet=function zm(d){return nn(d)&&"[object WeakSet]"==Jr(d)},x.join=function sw(d,h){return null==d?"":Gs.call(d,h)},x.kebabCase=BS,x.last=Ir,x.lastIndexOf=function ch(d,h,m){var _=null==d?0:d.length;if(!_)return-1;var y=_;return m!==O&&(y=(y=vt(m))<0?un(_+y,0):In(y,_-1)),h==h?function zf(F,K,B){for(var Ce=B+1;Ce--;)if(F[Ce]===K)return Ce;return Ce}(d,h,y):tl(d,Wt,y,!0)},x.lowerCase=Kw,x.lowerFirst=Jw,x.lt=bl,x.lte=CS,x.max=function gb(d){return d&&d.length?nm(d,Rr,R0):O},x.maxBy=function _b(d,h){return d&&d.length?nm(d,He(h,2),R0):O},x.mean=function fN(d){return aE(d,Rr)},x.meanBy=function mN(d,h){return aE(d,He(h,2))},x.min=function ux(d){return d&&d.length?nm(d,Rr,Ku):O},x.minBy=function iM(d,h){return d&&d.length?nm(d,He(h,2),Ku):O},x.stubArray=mb,x.stubFalse=pb,x.stubObject=function tM(){return{}},x.stubString=function Jm(){return""},x.stubTrue=function Pa(){return!0},x.multiply=nM,x.nth=function F_(d,h){return d&&d.length?lm(d,vt(h)):O},x.noConflict=function bo(){return qn._===this&&(qn._=i_),this},x.noop=$o,x.now=Fm,x.pad=function Yw(d,h,m){d=Jt(d);var _=(h=vt(h))?md(d):0;if(!h||_>=h)return d;var y=(h-_)/2;return pm(Jf(y),m)+d+pm(Kf(y),m)},x.padEnd=function cb(d,h,m){d=Jt(d);var _=(h=vt(h))?md(d):0;return h&&_<h?d+pm(h-_,m):d},x.padStart=function Xw(d,h,m){d=Jt(d);var _=(h=vt(h))?md(d):0;return h&&_<h?pm(h-_,m)+d:d},x.parseInt=function Gm(d,h,m){return m||null==h?h=0:h&&(h=+h),D0(Jt(d).replace(ce,""),h||0)},x.random=function qw(d,h,m){if(m&&"boolean"!=typeof m&&Tr(d,h,m)&&(h=m=O),m===O&&("boolean"==typeof h?(m=h,h=O):"boolean"==typeof d&&(m=d,d=O)),d===O&&h===O?(d=0,h=1):(d=Oa(d),h===O?(h=d,d=0):h=Oa(h)),d>h){var _=d;d=h,h=_}if(m||d%1||h%1){var y=bd();return In(d+y*(h-d+nE("1e-"+((y+"").length-1))),h)}return f_(d,h)},x.reduce=function $d(d,h,m){var _=Ke(d)?z:lE,y=arguments.length<3;return _(d,He(h,4),m,y,ms)},x.reduceRight=function dS(d,h,m){var _=Ke(d)?fd:lE,y=arguments.length<3;return _(d,He(h,4),m,y,Vo)},x.repeat=function xh(d,h,m){return h=(m?Tr(d,h,m):h===O)?1:vt(h),p_(Jt(d),h)},x.replace=function Zw(){var d=arguments,h=Jt(d[0]);return d.length<3?h:h.replace(d[1],d[2])},x.result=function IS(d,h,m){var _=-1,y=(h=bt(h,d)).length;for(y||(y=1,d=O);++_<y;){var E=null==d?O:d[Uo(h[_])];E===O&&(_=y,E=m),d=Ia(E)?E.call(d):E}return d},x.round=rM,x.runInContext=F,x.sample=function hS(d){return(Ke(d)?kd:B0)(d)},x.size=function $_(d){if(null==d)return 0;if(Or(d))return _l(d)?md(d):d.length;var h=Ar(d);return h==Zt||h==Fi?d.size:am(d).length},x.snakeCase=db,x.some=function yw(d,h,m){var _=Ke(d)?lc:__;return m&&Tr(d,h,m)&&(h=O),_(d,He(h,3))},x.sortedIndex=function jE(d,h){return qe(d,h)},x.sortedIndexBy=function $E(d,h,m){return dm(d,h,He(m,2))},x.sortedIndexOf=function GE(d,h){var m=null==d?0:d.length;if(m){var _=qe(d,h);if(_<m&&_s(d[_],h))return _}return-1},x.sortedLastIndex=function qE(d,h){return qe(d,h,!0)},x.sortedLastIndexBy=function KE(d,h,m){return dm(d,h,He(m,2),!0)},x.sortedLastIndexOf=function JE(d,h){if(null!=d&&d.length){var _=qe(d,h,!0)-1;if(_s(d[_],h))return _}return-1},x.startCase=Qw,x.startsWith=function ub(d,h,m){return d=Jt(d),m=null==m?0:mi(vt(m),0,d.length),h=po(h),d.slice(m,m+h.length)==h},x.subtract=oM,x.sum=function hx(d){return d&&d.length?Hu(d,Rr):0},x.sumBy=function Ym(d,h){return d&&d.length?Hu(d,He(h,2)):0},x.template=function Ch(d,h,m){var _=x.templateSettings;m&&Tr(d,h,m)&&(h=O),d=Jt(d),h=Zn({},h,_,M_);var R,N,y=Zn({},h.imports,_.imports,M_),E=Rn(y),T=$s(y,E),Y=0,Z=h.interpolate||dd,re="__p += '",be=V((h.escape||dd).source+"|"+Z.source+"|"+(Z===Rf?el:dd).source+"|"+(h.evaluate||dd).source+"|$","g"),Fe="//# sourceURL="+(si.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++f0+"]")+"\n";d.replace(be,function(Qe,Rt,St,vo,Qn,Pr){return St||(St=vo),re+=d.slice(Y,Pr).replace(qt,fE),Rt&&(R=!0,re+="' +\n__e("+Rt+") +\n'"),Qn&&(N=!0,re+="';\n"+Qn+";\n__p += '"),St&&(re+="' +\n((__t = ("+St+")) == null ? '' : __t) +\n'"),Y=Pr+Qe.length,Qe}),re+="';\n";var Ze=si.call(h,"variable")&&h.variable;if(Ze){if(Ni.test(Ze))throw new gt("Invalid `variable` option passed into `_.template`")}else re="with (obj) {\n"+re+"\n}\n";re=(N?re.replace(Pg,""):re).replace(ic,"$1").replace(cd,"$1;"),re="function("+(Ze||"obj")+") {\n"+(Ze?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(R?", __e = _.escape":"")+(N?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+re+"return __p\n}";var dt=nx(function(){return Be(E,Fe+"return "+re).apply(O,T)});if(dt.source=re,Bm(dt))throw dt;return dt},x.times=function kh(d,h){if((d=vt(d))<1||d>Ro)return[];var m=ns,_=In(d,ns);h=He(h),d-=ns;for(var y=Cr(_,h);++m<d;)h(m);return y},x.toFinite=Oa,x.toInteger=vt,x.toLength=Um,x.toLower=function VS(d){return Jt(d).toLowerCase()},x.toNumber=jo,x.toSafeInteger=function DS(d){return d?mi(vt(d),-Ro,Ro):0===d?d:0},x.toString=Jt,x.toUpper=function ex(d){return Jt(d).toUpperCase()},x.trim=function HS(d,h,m){if((d=Jt(d))&&(m||h===O))return b0(d);if(!d||!(h=po(h)))return d;var _=Fo(d),y=Fo(h);return Se(_,dE(_,y),uE(_,y)+1).join("")},x.trimEnd=function zS(d,h,m){if((d=Jt(d))&&(m||h===O))return d.slice(0,y0(d)+1);if(!d||!(h=po(h)))return d;var _=Fo(d);return Se(_,0,uE(_,Fo(h))+1).join("")},x.trimStart=function US(d,h,m){if((d=Jt(d))&&(m||h===O))return d.replace(ce,"");if(!d||!(h=po(h)))return d;var _=Fo(d);return Se(_,dE(_,Fo(h))).join("")},x.truncate=function tx(d,h){var m=30,_="...";if($i(h)){var y="separator"in h?h.separator:y;m="length"in h?vt(h.length):m,_="omission"in h?po(h.omission):_}var E=(d=Jt(d)).length;if(yn(d)){var T=Fo(d);E=T.length}if(m>=E)return d;var R=m-md(_);if(R<1)return _;var N=T?Se(T,0,R).join(""):d.slice(0,R);if(y===O)return N+_;if(T&&(R+=N.length-R),gh(y)){if(d.slice(R).search(y)){var Y,Z=N;for(y.global||(y=V(y.source,Jt($r.exec(y))+"g")),y.lastIndex=0;Y=y.exec(Z);)var re=Y.index;N=N.slice(0,re===O?R:re)}}else if(d.indexOf(po(y),R)!=R){var be=N.lastIndexOf(y);be>-1&&(N=N.slice(0,be))}return N+_},x.unescape=function ix(d){return(d=Jt(d))&&If.test(d)?d.replace(Yt,Uf):d},x.uniqueId=function cx(d){var h=++NF;return Jt(d)+h},x.upperCase=Km,x.upperFirst=Dh,x.each=bw,x.eachRight=Om,x.first=fn,fb(x,function(){var d={};return Ma(x,function(h,m){si.call(x.prototype,m)||(d[m]=h)}),d}(),{chain:!1}),x.VERSION="4.17.21",as(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){x[d].placeholder=x}),as(["drop","take"],function(d,h){It.prototype[d]=function(m){m=m===O?1:un(vt(m),0);var _=this.__filtered__&&!h?new It(this):this.clone();return _.__filtered__?_.__takeCount__=In(m,_.__takeCount__):_.__views__.push({size:In(m,ns),type:d+(_.__dir__<0?"Right":"")}),_},It.prototype[d+"Right"]=function(m){return this.reverse()[d](m).reverse()}}),as(["filter","map","takeWhile"],function(d,h){var m=h+1,_=1==m||3==m;It.prototype[d]=function(y){var E=this.clone();return E.__iteratees__.push({iteratee:He(y,3),type:m}),E.__filtered__=E.__filtered__||_,E}}),as(["head","last"],function(d,h){var m="take"+(h?"Right":"");It.prototype[d]=function(){return this[m](1).value()[0]}}),as(["initial","tail"],function(d,h){var m="drop"+(h?"":"Right");It.prototype[d]=function(){return this.__filtered__?new It(this):this[m](1)}}),It.prototype.compact=function(){return this.filter(Rr)},It.prototype.find=function(d){return this.filter(d).head()},It.prototype.findLast=function(d){return this.reverse().find(d)},It.prototype.invokeMap=it(function(d,h){return"function"==typeof d?new It(this):this.map(function(m){return Ad(m,d,h)})}),It.prototype.reject=function(d){return this.filter(uh(He(d)))},It.prototype.slice=function(d,h){d=vt(d);var m=this;return m.__filtered__&&(d>0||h<0)?new It(m):(d<0?m=m.takeRight(-d):d&&(m=m.drop(d)),h!==O&&(m=(h=vt(h))<0?m.dropRight(-h):m.take(h-d)),m)},It.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},It.prototype.toArray=function(){return this.take(ns)},Ma(It.prototype,function(d,h){var m=/^(?:filter|find|map|reject)|While$/.test(h),_=/^(?:head|last)$/.test(h),y=x[_?"take"+("last"==h?"Right":""):h],E=_||/^find/.test(h);y&&(x.prototype[h]=function(){var T=this.__wrapped__,R=_?[1]:arguments,N=T instanceof It,Y=R[0],Z=N||Ke(T),re=function(Rt){var St=y.apply(x,ka([Rt],R));return _&&be?St[0]:St};Z&&m&&"function"==typeof Y&&1!=Y.length&&(N=Z=!1);var be=this.__chain__,Ze=E&&!be,dt=N&&!this.__actions__.length;if(!E&&Z){T=dt?T:new It(this);var Qe=d.apply(T,R);return Qe.__actions__.push({func:Wd,args:[re],thisArg:O}),new Pe(Qe,be)}return Ze&&dt?d.apply(this,R):(Qe=this.thru(re),Ze?_?Qe.value()[0]:Qe.value():Qe)})}),as(["pop","push","shift","sort","splice","unshift"],function(d){var h=zu[d],m=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",_=/^(?:pop|shift)$/.test(d);x.prototype[d]=function(){var y=arguments;if(_&&!this.__chain__){var E=this.value();return h.apply(Ke(E)?E:[],y)}return this[m](function(T){return h.apply(Ke(T)?T:[],y)})}}),Ma(It.prototype,function(d,h){var m=x[h];if(m){var _=m.name+"";si.call(hc,_)||(hc[_]=[]),hc[_].push({name:h,func:m})}}),hc[Qu(O,2).name]=[{name:"wrapper",func:O}],It.prototype.clone=function ne(){var d=new It(this.__wrapped__);return d.__actions__=Mr(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Mr(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Mr(this.__views__),d},It.prototype.reverse=function Kr(){if(this.__filtered__){var d=new It(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},It.prototype.value=function Dt(){var d=this.__wrapped__.value(),h=this.__dir__,m=Ke(d),_=h<0,y=m?d.length:0,E=function T_(d,h,m){for(var _=-1,y=m.length;++_<y;){var E=m[_],T=E.size;switch(E.type){case"drop":d+=T;break;case"dropRight":h-=T;break;case"take":h=In(h,d+T);break;case"takeRight":d=un(d,h-T)}}return{start:d,end:h}}(0,y,this.__views__),T=E.start,R=E.end,N=R-T,Y=_?R:T-1,Z=this.__iteratees__,re=Z.length,be=0,Fe=In(N,this.__takeCount__);if(!m||!_&&y==N&&Fe==N)return z0(d,this.__actions__);var Ze=[];e:for(;N--&&be<Fe;){for(var dt=-1,Qe=d[Y+=h];++dt<re;){var Rt=Z[dt],vo=Rt.type,Qn=(0,Rt.iteratee)(Qe);if(2==vo)Qe=Qn;else if(!Qn){if(1==vo)continue e;break e}}Ze[be++]=Qe}return Ze},x.prototype.at=Am,x.prototype.chain=function fw(){return wc(this)},x.prototype.commit=function sS(){return new Pe(this.value(),this.__chain__)},x.prototype.next=function mw(){this.__values__===O&&(this.__values__=Iw(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?O:this.__values__[this.__index__++]}},x.prototype.plant=function Tm(d){for(var h,m=this;m instanceof tm;){var _=Xr(m);_.__index__=0,_.__values__=O,h?y.__wrapped__=_:h=_;var y=_;m=m.__wrapped__}return y.__wrapped__=d,h},x.prototype.reverse=function QF(){var d=this.__wrapped__;if(d instanceof It){var h=d;return this.__actions__.length&&(h=new It(this)),(h=h.reverse()).__actions__.push({func:Wd,args:[aw],thisArg:O}),new Pe(h,this.__chain__)}return this.thru(aw)},x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=function H_(){return z0(this.__wrapped__,this.__actions__)},x.prototype.first=x.prototype.head,_d&&(x.prototype[_d]=function pw(){return this}),x}();qn._=xt,(Un=function(){return xt}.call(Oo,gn,Oo,es))!==O&&(es.exports=Un)}.call(this)}},es=>{es(es.s=906)}]);