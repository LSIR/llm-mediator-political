<div class="main">
  <div>
    @if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_ACCEPT_TOS) {
      <app-exp-tos></app-exp-tos>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_PROFILE) {
      <app-exp-profile></app-exp-profile>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_CHAT) {
      <app-exp-chat></app-exp-chat>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_RANKED_ITEMS) {
      <app-exp-rating></app-exp-rating>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_TOS_AND_PROFILE) {
      <app-exp-tos-and-profile></app-exp-tos-and-profile>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_SURVEY) {
      <app-exp-survey></app-exp-survey>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_VOTES) {
      <app-exp-leader-vote></app-exp-leader-vote>
    } @else if (this.dataService.currentStage().kind === stageKinds.STAGE_KIND_LEADER_REVEAL) {
      <app-exp-leader-reveal></app-exp-leader-reveal>
    } @else {
      <div>
        Oh no! It looks like something went wrong, there is no component for
        <span>{{ this.dataService.currentStage().kind }}</span>
      </div>
    }
  </div>
  @if (this.dataService.user().futureStageNames.length !== 0) {
    <button color="primary" mat-button (click)="nextStep()" [disabled]="holdingForLeaderReveal">
      <!-- [disabled]="!this.dataService.stageComplete()"  -->
      <!-- <mat-icon>redo</mat-icon> -->
      <span>Next step</span>
    </button>
  }
</div>
