<div *ngIf="mode == 'view'; else editView" >
<div class="view">
  <span class="id">{{item.id}}</span>
  <span class="timestamp">{{item.date}}</span>
  <!-- <button mat-flat-button aria-label="Edit" (click)="editMode()">
    edit
  </button> -->
  <button class="hoverSmallBtn" mat-icon-button aria-label="Edit" (click)="editMode()">
    <mat-icon>edit</mat-icon>
  </button>
</div>
<div><span class="text">{{item.text}}</span>
</div>
<div><span class="embedding">{{item.embeddings[item.text]}}</span>
</div>
</div>

<ng-template #editView><div>
  <div>
    <span class="id">{{item.id}}</span>
    <span class="timestamp">{{item.date}}</span>
    <button class="smallBtn" mat-icon-button aria-label="More actions" [matMenuTriggerFor]="menu">
      <mat-icon >more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="deleteItem()">Delete</button>
      <button mat-menu-item (click)="revert()">Revert</button>
      <button mat-menu-item (click)="viewMode()">cancel</button>
    </mat-menu>
  </div>

  <form class="search-form" (submit)="save()">
    <div>
      <mat-form-field class="full-width">
        <mat-label>Item Text</mat-label>
        <textarea matInput [formControl]="itemTextControl"></textarea>
      </mat-form-field>
    </div>
    <div>
      <mat-progress-bar *ngIf="waiting" [mode]="'indeterminate'"></mat-progress-bar>
      <div class='error' *ngIf="saveError">{{saveError}}</div>
      <button type="submit" mat-flat-button aria-label="Edit">
        save
      </button>
    </div>
  </form>

</div></ng-template>

<!--
 -->
